(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["demo"],{"0a8d":function(t,e,a){"use strict";e.__esModule=!0,e.vueUse=e.registerDirectives=e.registerDirective=e.registerComponents=e.registerComponent=void 0;var o=function(t,e,a){t.component(e,a)};e.registerComponent=o;var n=function(t,e){for(var a in e)o(t,a,e[a])};e.registerComponents=n;var s=function(t,e,a){t.directive(e,a)};e.registerDirective=s;var i=function(t,e){for(var a in e)s(t,a,e[a])};e.registerDirectives=i;var r=function(t){"undefined"!==typeof window&&window.Vue&&window.Vue.use(t)};e.vueUse=r},1611:function(t,e,a){"use strict";e.__esModule=!0,e.requestAF=e.position=e.offset=e.getCS=e.getBCR=e.hasAttr=e.getAttr=e.removeAttr=e.setAttr=e.hasClass=e.removeClass=e.addClass=e.getById=e.contains=e.closest=e.matches=e.select=e.selectAll=e.reflow=e.isDisabled=e.isVisible=e.isElement=e.eventOff=e.eventOn=e.parseEventOptions=e.isPassiveSupported=void 0;var o=a("bb2f"),n=a("24e2"),s=a("4565"),i=!1;if(s.inBrowser)try{var r={get passive(){i=!0}};window.addEventListener("test",r,r),window.removeEventListener("test",r,r)}catch(R){i=!1}var l=function(){return i};e.isPassiveSupported=l;var c=function(t){return i?t||{useCapture:!1}:Boolean((0,n.isObject)(t)?t.useCapture:t)};e.parseEventOptions=c;var d=function(t,e,a,o){t&&t.addEventListener&&t.addEventListener(e,a,c(o))};e.eventOn=d;var u=function(t,e,a,o){t&&t.removeEventListener&&t.removeEventListener(e,a,c(o))};e.eventOff=u;var m=function(t){return Boolean(t&&t.nodeType===Node.ELEMENT_NODE)};e.isElement=m;var f=function(t){if(!m(t)||!C(document.body,t))return!1;var e=E(t);return Boolean(e&&e.height>0&&e.width>0)};e.isVisible=f;var p=function(t){return!m(t)||t.disabled||x(t,"disabled")||Boolean($(t,"disabled"))};e.isDisabled=p;var h=function(t){return m(t)&&t.offsetHeight};e.reflow=h;var v=function(t,e){return m(e)||(e=document),(0,o.from)(e.querySelectorAll(t))};e.selectAll=v;var g=function(t,e){return m(e)||(e=document),e.querySelector(t)||null};e.select=g;var b=function(t,e){if(!m(t))return!1;var a=Element.prototype,o=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(t){var e=this,a=v(t,e.document||e.ownerDocument),o=a.length;while(--o>=0&&a.item(o)!==e);return o>-1};return o.call(t,e)};e.matches=b;var y=function(t,e){if(!m(e))return null;var a=Element.prototype.closest||function(t){var e=this;if(!C(document.documentElement,e))return null;do{if(b(e,t))return e;e=e.parentElement}while(null!==e);return null},o=a.call(e,t);return o===e?null:o};e.closest=y;var C=function(t,e){return!(!t||"function"!==typeof t.contains)&&t.contains(e)};e.contains=C;var _=function(t){return document.getElementById(/^#/.test(t)?t.slice(1):t)||null};e.getById=_;var w=function(t,e){e&&m(t)&&t.classList&&t.classList.add(e)};e.addClass=w;var k=function(t,e){e&&m(t)&&t.classList&&t.classList.remove(e)};e.removeClass=k;var x=function(t,e){return!!(e&&m(t)&&t.classList)&&t.classList.contains(e)};e.hasClass=x;var T=function(t,e,a){e&&m(t)&&t.setAttribute(e,a)};e.setAttr=T;var S=function(t,e){e&&m(t)&&t.removeAttribute(e)};e.removeAttr=S;var $=function(t,e){return e&&m(t)?t.getAttribute(e):null};e.getAttr=$;var P=function(t,e){return e&&m(t)?t.hasAttribute(e):null};e.hasAttr=P;var E=function(t){return m(t)?t.getBoundingClientRect():null};e.getBCR=E;var O=function(t){return m(t)?window.getComputedStyle(t):{}};e.getCS=O;var I=function(t){var e={top:0,left:0};if(!m(t)||0===t.getClientRects().length)return e;var a=E(t);if(a){var o=t.ownerDocument.defaultView;e.top=a.top+o.pageYOffset,e.left=a.left+o.pageXOffset}return e};e.offset=I;var A=function(t){var e={top:0,left:0};if(!m(t))return e;var a={top:0,left:0},o=O(t);if("fixed"===o.position)e=E(t)||e;else{e=I(t);var n=t.ownerDocument,s=t.offsetParent||n.documentElement;while(s&&(s===n.body||s===n.documentElement)&&"static"===O(s).position)s=s.parentNode;if(s&&s!==t&&s.nodeType===Node.ELEMENT_NODE){a=I(s);var i=O(s);a.top+=parseFloat(i.borderTopWidth),a.left+=parseFloat(i.borderLeftWidth)}}return{top:e.top-a.top-parseFloat(o.marginTop),left:e.left-a.left-parseFloat(o.marginLeft)}};e.position=A;var D=function(t){var e=s.inBrowser?window:{},a=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame||function(t){return setTimeout(t,16)};return a(t)};e.requestAF=D},"16ae":function(t,e,a){"use strict";e.__esModule=!0,e.default=void 0;var o=a("f0bd"),n=a("f8bb"),s=a("bb2f"),i=a("1611");function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},o=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(a).filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})))),o.forEach((function(e){c(t,e,a[e])}))}return t}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function m(t,e,a){return e&&u(t.prototype,e),a&&u(t,a),t}var f="tooltip",p="bs-tooltip",h=new RegExp("\\b".concat(p,"\\S+"),"g"),v=150,g="bv::modal::hidden",b=".modal-content",y={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOPLEFT:"top",TOPRIGHT:"top",RIGHTTOP:"right",RIGHTBOTTOM:"right",BOTTOMLEFT:"bottom",BOTTOMRIGHT:"bottom",LEFTTOP:"left",LEFTBOTTOM:"left"},C={AUTO:0,TOPLEFT:-1,TOP:0,TOPRIGHT:1,RIGHTTOP:-1,RIGHT:0,RIGHTBOTTOM:1,BOTTOMLEFT:-1,BOTTOM:0,BOTTOMRIGHT:1,LEFTTOP:-1,LEFT:0,LEFTBOTTOM:1},_={SHOW:"show",OUT:"out"},w={FADE:"fade",SHOW:"show"},k={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},x={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,placement:"top",offset:0,arrowPadding:6,container:!1,fallbackPlacement:"flip",callbacks:{},boundary:"scrollParent"},T={WebkitTransition:["webkitTransitionEnd"],MozTransition:["transitionend"],OTransition:["otransitionend","oTransitionEnd"],transition:["transitionend"]},S=1,$=function(t){return"__BV_".concat(t,"_").concat(S++,"__")},P=function(){function t(e,a,o){d(this,t),this.$isEnabled=!0,this.$fadeTimeout=null,this.$hoverTimeout=null,this.$visibleInterval=null,this.$hoverState="",this.$activeTrigger={},this.$popper=null,this.$element=e,this.$tip=null,this.$id=$(this.constructor.NAME),this.$root=o||null,this.$routeWatcher=null,this.$forceHide=this.forceHide.bind(this),this.$doHide=this.doHide.bind(this),this.$doShow=this.doShow.bind(this),this.$doDisable=this.doDisable.bind(this),this.$doEnable=this.doEnable.bind(this),this.updateConfig(a)}return m(t,[{key:"updateConfig",value:function(t){var e=l({},this.constructor.Default,t);t.delay&&"number"===typeof t.delay&&(e.delay={show:t.delay,hide:t.delay}),t.title&&"number"===typeof t.title&&(e.title=t.title.toString()),t.content&&"number"===typeof t.content&&(e.content=t.content.toString()),this.fixTitle(),this.$config=e,this.unListen(),this.listen()}},{key:"destroy",value:function(){this.unListen(),this.setWhileOpenListeners(!1),clearTimeout(this.$hoverTimeout),this.$hoverTimeout=null,clearTimeout(this.$fadeTimeout),this.$fadeTimeout=null,this.$popper&&this.$popper.destroy(),this.$popper=null,this.$tip&&this.$tip.parentElement&&this.$tip.parentElement.removeChild(this.$tip),this.$tip=null,this.$id=null,this.$isEnabled=null,this.$root=null,this.$element=null,this.$config=null,this.$hoverState=null,this.$activeTrigger=null,this.$forceHide=null,this.$doHide=null,this.$doShow=null,this.$doDisable=null,this.$doEnable=null}},{key:"enable",value:function(){var t=new n.default("enabled",{cancelable:!1,target:this.$element,relatedTarget:null});this.$isEnabled=!0,this.emitEvent(t)}},{key:"disable",value:function(){var t=new n.default("disabled",{cancelable:!1,target:this.$element,relatedTarget:null});this.$isEnabled=!1,this.emitEvent(t)}},{key:"toggle",value:function(t){this.$isEnabled&&(t?(this.$activeTrigger.click=!this.$activeTrigger.click,this.isWithActiveTrigger()?this.enter(null):this.leave(null)):(0,i.hasClass)(this.getTipElement(),w.SHOW)?this.leave(null):this.enter(null))}},{key:"show",value:function(){var t=this;if(document.body.contains(this.$element)&&(0,i.isVisible)(this.$element)){var e=this.getTipElement();if(this.fixTitle(),this.setContent(e),this.isWithContent(e)){(0,i.setAttr)(e,"id",this.$id),this.addAriaDescribedby(),this.$config.animation?(0,i.addClass)(e,w.FADE):(0,i.removeClass)(e,w.FADE);var a=this.getPlacement(),s=this.constructor.getAttachment(a);this.addAttachmentClass(s);var r=new n.default("show",{cancelable:!0,target:this.$element,relatedTarget:e});if(this.emitEvent(r),r.defaultPrevented)this.$tip=null;else{var l=this.getContainer();document.body.contains(e)||l.appendChild(e),this.removePopper(),this.$popper=new o.default(this.$element,e,this.getPopperConfig(a,e));var c=function(){t.$config.animation&&t.fixTransition(e);var a=t.$hoverState;t.$hoverState=null,a===_.OUT&&t.leave(null);var o=new n.default("shown",{cancelable:!1,target:t.$element,relatedTarget:e});t.emitEvent(o)};this.setWhileOpenListeners(!0),(0,i.addClass)(e,w.SHOW),this.transitionOnce(e,c)}}else this.$tip=null}}},{key:"visibleCheck",value:function(t){var e=this;clearInterval(this.$visibleInterval),this.$visibleInterval=null,t&&(this.$visibleInterval=setInterval((function(){var t=e.getTipElement();t&&!(0,i.isVisible)(e.$element)&&(0,i.hasClass)(t,w.SHOW)&&e.forceHide()}),100))}},{key:"setWhileOpenListeners",value:function(t){this.setModalListener(t),this.visibleCheck(t),this.setRouteWatcher(t),this.setOnTouchStartListener(t),t&&/(focus|blur)/.test(this.$config.trigger)?(0,i.eventOn)(this.$tip,"focusout",this):(0,i.eventOff)(this.$tip,"focusout",this)}},{key:"forceHide",value:function(){this.$tip&&(0,i.hasClass)(this.$tip,w.SHOW)&&(this.setWhileOpenListeners(!1),clearTimeout(this.$hoverTimeout),this.$hoverTimeout=null,this.$hoverState="",this.hide(null,!0))}},{key:"hide",value:function(t,e){var a=this,o=this.$tip;if(o){var s=new n.default("hide",{cancelable:!e,target:this.$element,relatedTarget:o});if(this.emitEvent(s),!s.defaultPrevented){var r=function(){a.$hoverState!==_.SHOW&&o.parentNode&&(o.parentNode.removeChild(o),a.removeAriaDescribedby(),a.removePopper(),a.$tip=null),t&&t();var e=new n.default("hidden",{cancelable:!1,target:a.$element,relatedTarget:null});a.emitEvent(e)};this.setWhileOpenListeners(!1),e&&(0,i.removeClass)(o,w.FADE),(0,i.removeClass)(o,w.SHOW),this.$activeTrigger.click=!1,this.$activeTrigger.focus=!1,this.$activeTrigger.hover=!1,this.transitionOnce(o,r),this.$hoverState=""}}}},{key:"emitEvent",value:function(t){var e=t.type;this.$root&&this.$root.$emit&&this.$root.$emit("bv::".concat(this.constructor.NAME,"::").concat(e),t);var a=this.$config.callbacks||{};"function"===typeof a[e]&&a[e](t)}},{key:"getContainer",value:function(){var t=this.$config.container,e=document.body;return!1===t?(0,i.closest)(b,this.$element)||e:(0,i.select)(t,e)||e}},{key:"addAriaDescribedby",value:function(){var t=(0,i.getAttr)(this.$element,"aria-describedby")||"";t=t.split(/\s+/).concat(this.$id).join(" ").trim(),(0,i.setAttr)(this.$element,"aria-describedby",t)}},{key:"removeAriaDescribedby",value:function(){var t=this,e=(0,i.getAttr)(this.$element,"aria-describedby")||"";e=e.split(/\s+/).filter((function(e){return e!==t.$id})).join(" ").trim(),e?(0,i.setAttr)(this.$element,"aria-describedby",e):(0,i.removeAttr)(this.$element,"aria-describedby")}},{key:"removePopper",value:function(){this.$popper&&this.$popper.destroy(),this.$popper=null}},{key:"transitionOnce",value:function(t,e){var a=this,o=this.getTransitionEndEvents(),n=!1;clearTimeout(this.$fadeTimeout),this.$fadeTimeout=null;var s=function s(){n||(n=!0,clearTimeout(a.$fadeTimeout),a.$fadeTimeout=null,o.forEach((function(e){(0,i.eventOff)(t,e,s)})),e())};(0,i.hasClass)(t,w.FADE)?(o.forEach((function(e){(0,i.eventOn)(t,e,s)})),this.$fadeTimeout=setTimeout(s,v)):s()}},{key:"getTransitionEndEvents",value:function(){for(var t in T)if(void 0!==this.$element.style[t])return T[t];return[]}},{key:"update",value:function(){null!==this.$popper&&this.$popper.scheduleUpdate()}},{key:"isWithContent",value:function(t){return t=t||this.$tip,!!t&&Boolean(((0,i.select)(k.TOOLTIP_INNER,t)||{}).innerHTML)}},{key:"addAttachmentClass",value:function(t){(0,i.addClass)(this.getTipElement(),"".concat(p,"-").concat(t))}},{key:"getTipElement",value:function(){return this.$tip||(this.$tip=this.compileTemplate(this.$config.template)||this.compileTemplate(this.constructor.Default.template)),this.$tip.tabIndex=-1,this.$tip}},{key:"compileTemplate",value:function(t){if(!t||"string"!==typeof t)return null;var e=document.createElement("div");e.innerHTML=t.trim();var a=e.firstElementChild?e.removeChild(e.firstElementChild):null;return e=null,a}},{key:"setContent",value:function(t){this.setElementContent((0,i.select)(k.TOOLTIP_INNER,t),this.getTitle()),(0,i.removeClass)(t,w.FADE),(0,i.removeClass)(t,w.SHOW)}},{key:"setElementContent",value:function(t,e){if(t){var a=this.$config.html;"object"===r(e)&&e.nodeType?a?e.parentElement!==t&&(t.innerHTML="",t.appendChild(e)):t.innerText=e.innerText:t[a?"innerHTML":"innerText"]=e}}},{key:"getTitle",value:function(){var t=this.$config.title||"";return"function"===typeof t&&(t=t(this.$element)),"object"===r(t)&&t.nodeType&&!t.innerHTML.trim()&&(t=""),"string"===typeof t&&(t=t.trim()),t||(t=(0,i.getAttr)(this.$element,"title")||(0,i.getAttr)(this.$element,"data-original-title")||"",t=t.trim()),t}},{key:"listen",value:function(){var t=this,e=this.$config.trigger.trim().split(/\s+/),a=this.$element;this.setRootListener(!0),e.forEach((function(e){"click"===e?(0,i.eventOn)(a,"click",t):"focus"===e?((0,i.eventOn)(a,"focusin",t),(0,i.eventOn)(a,"focusout",t)):"blur"===e?(0,i.eventOn)(a,"focusout",t):"hover"===e&&((0,i.eventOn)(a,"mouseenter",t),(0,i.eventOn)(a,"mouseleave",t))}),this)}},{key:"unListen",value:function(){var t=this,e=["click","focusin","focusout","mouseenter","mouseleave"];e.forEach((function(e){(0,i.eventOff)(t.$element,e,t)}),this),this.setRootListener(!1)}},{key:"handleEvent",value:function(t){if(!(0,i.isDisabled)(this.$element)&&this.$isEnabled){var e=t.type,a=t.target,o=t.relatedTarget,n=this.$element,s=this.$tip;if("click"===e)this.toggle(t);else if("focusin"===e||"mouseenter"===e)this.enter(t);else if("focusout"===e){if(s&&n&&n.contains(a)&&s.contains(o))return;if(s&&n&&s.contains(a)&&n.contains(o))return;if(s&&s.contains(a)&&s.contains(o))return;if(n&&n.contains(a)&&n.contains(o))return;this.leave(t)}else"mouseleave"===e&&this.leave(t)}}},{key:"setRouteWatcher",value:function(t){var e=this;t?(this.setRouteWatcher(!1),this.$root&&Boolean(this.$root.$route)&&(this.$routeWatcher=this.$root.$watch("$route",(function(t,a){t!==a&&e.forceHide()})))):this.$routeWatcher&&(this.$routeWatcher(),this.$routeWatcher=null)}},{key:"setModalListener",value:function(t){var e=(0,i.closest)(b,this.$element);e&&this.$root&&this.$root[t?"$on":"$off"](g,this.$forceHide)}},{key:"setRootListener",value:function(t){this.$root&&(this.$root[t?"$on":"$off"]("bv::hide::".concat(this.constructor.NAME),this.$doHide),this.$root[t?"$on":"$off"]("bv::show::".concat(this.constructor.NAME),this.$doShow),this.$root[t?"$on":"$off"]("bv::disable::".concat(this.constructor.NAME),this.$doDisable),this.$root[t?"$on":"$off"]("bv::enable::".concat(this.constructor.NAME),this.$doEnable))}},{key:"doHide",value:function(t){t?this.$element&&this.$element.id&&this.$element.id===t&&this.hide():this.forceHide()}},{key:"doShow",value:function(t){t?t&&this.$element&&this.$element.id&&this.$element.id===t&&this.show():this.show()}},{key:"doDisable",value:function(t){t?this.$element&&this.$element.id&&this.$element.id===t&&this.disable():this.disable()}},{key:"doEnable",value:function(t){t?this.$element&&this.$element.id&&this.$element.id===t&&this.enable():this.enable()}},{key:"setOnTouchStartListener",value:function(t){var e=this;"ontouchstart"in document.documentElement&&(0,s.from)(document.body.children).forEach((function(a){t?(0,i.eventOn)(a,"mouseover",e._noop):(0,i.eventOff)(a,"mouseover",e._noop)}))}},{key:"_noop",value:function(){}},{key:"fixTitle",value:function(){var t=this.$element,e=r((0,i.getAttr)(t,"data-original-title"));((0,i.getAttr)(t,"title")||"string"!==e)&&((0,i.setAttr)(t,"data-original-title",(0,i.getAttr)(t,"title")||""),(0,i.setAttr)(t,"title",""))}},{key:"enter",value:function(t){var e=this;t&&(this.$activeTrigger["focusin"===t.type?"focus":"hover"]=!0),(0,i.hasClass)(this.getTipElement(),w.SHOW)||this.$hoverState===_.SHOW?this.$hoverState=_.SHOW:(clearTimeout(this.$hoverTimeout),this.$hoverState=_.SHOW,this.$config.delay&&this.$config.delay.show?this.$hoverTimeout=setTimeout((function(){e.$hoverState===_.SHOW&&e.show()}),this.$config.delay.show):this.show())}},{key:"leave",value:function(t){var e=this;t&&(this.$activeTrigger["focusout"===t.type?"focus":"hover"]=!1,"focusout"===t.type&&/blur/.test(this.$config.trigger)&&(this.$activeTrigger.click=!1,this.$activeTrigger.hover=!1)),this.isWithActiveTrigger()||(clearTimeout(this.$hoverTimeout),this.$hoverState=_.OUT,this.$config.delay&&this.$config.delay.hide?this.$hoverTimeout=setTimeout((function(){e.$hoverState===_.OUT&&e.hide()}),this.$config.delay.hide):this.hide())}},{key:"getPopperConfig",value:function(t,e){var a=this;return{placement:this.constructor.getAttachment(t),modifiers:{offset:{offset:this.getOffset(t,e)},flip:{behavior:this.$config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{padding:this.$config.boundaryPadding,boundariesElement:this.$config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&a.handlePopperPlacementChange(t)},onUpdate:function(t){a.handlePopperPlacementChange(t)}}}},{key:"getOffset",value:function(t,e){if(!this.$config.offset){var a=(0,i.select)(k.ARROW,e),o=parseFloat((0,i.getCS)(a).width)+parseFloat(this.$config.arrowPadding);switch(C[t.toUpperCase()]){case 1:return"+50%p - ".concat(o,"px");case-1:return"-50%p + ".concat(o,"px");default:return 0}}return this.$config.offset}},{key:"getPlacement",value:function(){var t=this.$config.placement;return"function"===typeof t?t.call(this,this.$tip,this.$element):t}},{key:"isWithActiveTrigger",value:function(){for(var t in this.$activeTrigger)if(this.$activeTrigger[t])return!0;return!1}},{key:"cleanTipClass",value:function(){var t=this.getTipElement(),e=t.className.match(h);null!==e&&e.length>0&&e.forEach((function(e){(0,i.removeClass)(t,e)}))}},{key:"handlePopperPlacementChange",value:function(t){this.cleanTipClass(),this.addAttachmentClass(this.constructor.getAttachment(t.placement))}},{key:"fixTransition",value:function(t){var e=this.$config.animation||!1;null===(0,i.getAttr)(t,"x-placement")&&((0,i.removeClass)(t,w.FADE),this.$config.animation=!1,this.hide(),this.show(),this.$config.animation=e)}}],[{key:"getAttachment",value:function(t){return y[t.toUpperCase()]}},{key:"Default",get:function(){return x}},{key:"NAME",get:function(){return f}}]),t}(),E=P;e.default=E},2020:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-4 pt-2 pt-lg-4 d-flex align-items-center",staticStyle:{"min-height":"50px","background-image":"url(img/theme/inventario.jpg)","background-size":"cover","background-position":"center top"}},[a("span",{staticClass:"mask  opacity-7",staticStyle:{"background-color":"#172b4d !important"}}),a("div",{staticClass:"container-fluid d-flex align-items-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h1",{staticClass:"display-2 text-white"},[t._v("Sección de inventario")]),a("p",{staticClass:"text-white mt-0 mb-2"},[t._v("Esta es la sección administrativa de tu inventario, aquí podrás registrar, editar y visualizar todos tus productos.")]),a("a",{staticClass:"btn btn-success text-white cursor-pointer",on:{click:function(e){t.modals.modal1=!0,t.validForm=1,t.initialState(2)}}},[t._v("Registrar un producto")]),a("a",{staticClass:"btn btn-success text-white cursor-pointer",on:{click:function(e){t.modals.modal3=!0,t.providerSup.typeProvider="Registrar",t.initialState(2)}}},[t._v("Registrar un provedor")]),a("a",{staticClass:"btn btn-danger text-white cursor-pointer",on:{click:function(e){t.modals.modal4=!0}}},[t._v("Cerrar inventario")])])])])]),a("tabs",{staticClass:"flex-column flex-md-row inventory",attrs:{fill:""}},[a("card",{attrs:{shadow:""}},[a("tab-pane",[a("span",{staticClass:"p-2",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"fa fa-box-open"}),t._v("\n                  Tabla de productos\n              ")]),a("vue-bootstrap4-table",{staticClass:"tableClient",attrs:{card_title:"Hola",rows:t.rows,columns:t.columns,classes:t.classes,config:t.config},scopedSlots:t._u([{key:"edit",fn:function(e){return[a("b",[a("center",[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Anexar productos")])]),a("base-button",{attrs:{title:"Compras",size:"sm",type:"success",icon:"fa fa-plus"},on:{click:function(a){t.modals.modal1=!0,t.validForm=3,t.dataProduct.entry="",t.unit=e.row.type,t.dataProduct.name=e.row.producto,t.initialState(1,e.row._id)}}})],2),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Alerta de productos")])]),parseFloat(e.row.cantidad)+parseFloat(e.row.entry)-parseFloat(e.row.consume)<=e.row.alertTotal?a("base-button",{attrs:{title:"Alerta producto",size:"sm",type:"danger",icon:"ni ni-bell-55"},on:{click:function(a){return t.dataStock(e.row._id,e.row.alertTotal,e.row.type)}}}):a("base-button",{attrs:{title:"Alerta producto",size:"sm",type:"success",icon:"ni ni-bell-55"},on:{click:function(a){return t.dataStock(e.row._id,e.row.alertTotal,e.row.type)}}})],2),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Eliminar")])]),a("base-button",{attrs:{title:"Eliminar",size:"sm",type:"danger",icon:"fa fa-trash"},on:{click:function(a){return t.deleteItem(e.row._id)}}})],2)],1)],1)]}},{key:"totalIdeal",fn:function(e){return[parseFloat(e.row.cantidad)+parseFloat(e.row.entry)-parseFloat(e.row.consume)<=e.row.alertTotal?a("span",{staticStyle:{color:"#f5365c"}},[t._v("\n                    "+t._s(parseFloat(e.row.cantidad)+parseFloat(e.row.entry)-parseFloat(e.row.consume))+"\n                  ")]):a("span",[t._v("\n                    "+t._s(parseFloat(e.row.cantidad)+parseFloat(e.row.entry)-parseFloat(e.row.consume))+"\n                  ")])]}},{key:"price",fn:function(e){return[t._v("\n                  $ "+t._s(t.formatPrice(e.row.monto))+"\n                ")]}},{key:"pagination-info",fn:function(e){return[t._v("\n                    Actuales "+t._s(e.currentPageRowsLength)+" | \n                       \n                    Registros totales "+t._s(e.originalRowsLength)+"\n                ")]}},{key:"selected-rows-info",fn:function(e){return[t._v("\n                    Total Number of rows selected : "+t._s(e.selectedItemsCount)+"\n                ")]}}])})],1),a("tab-pane",{attrs:{title:"Profile"}},[a("span",{attrs:{slot:"title",id:"provedorBtn"},slot:"title"},[a("i",{staticClass:"fa fa-user-tie"}),t._v("\n                  Tabla de provedores\n              ")]),a("vue-bootstrap4-table",{staticClass:"tableClient",attrs:{rows:t.providerTable,columns:t.columProvider,classes:t.classes,config:t.config},scopedSlots:t._u([{key:"edit",fn:function(e){return[a("b",[a("center",[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Editar")])]),a("base-button",{attrs:{size:"sm",type:"default",icon:"fas fa-edit"},on:{click:function(a){t.modals.modal3=!0,t.providerSup.typeProvider="Editar",t.pushDataProvider(e.row.nombre,e.row.rut,e.row.contacto,e.row.contactoAdicional,e.row.ubicacion,e.row._id)}}})],2),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Eliminar")])]),a("base-button",{attrs:{size:"sm",type:"danger",icon:"fa fa-trash"},on:{click:function(a){return t.deleteProvider(e.row._id)}}})],2)],1)],1)]}},{key:"totalIdeal",fn:function(e){return[t._v("\n                  "+t._s(parseFloat(e.row.cantidad)+parseFloat(e.row.entry)-parseFloat(e.row.consume))+"\n                ")]}},{key:"price",fn:function(e){return[t._v("\n                  $ "+t._s(t.formatPrice(e.row.monto))+"\n                ")]}},{key:"pagination-info",fn:function(e){return[t._v("\n                    Actuales "+t._s(e.currentPageRowsLength)+" | \n                       \n                    Registros totales "+t._s(e.originalRowsLength)+"\n                ")]}},{key:"selected-rows-info",fn:function(e){return[t._v("\n                    Total Number of rows selected : "+t._s(e.selectedItemsCount)+"\n                ")]}}])})],1),a("tab-pane",[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"ni ni-calendar-grid-58"}),t._v("\n                Historial\n              ")]),a("tabs",{staticClass:"flex-column flex-md-row",attrs:{fill:""}},[a("card",{attrs:{shadow:""}},[a("tab-pane",[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"fa fa-money-check-alt"}),t._v("\n                              Historial de compras\n                          ")]),a("vue-bootstrap4-table",{staticClass:"tableClient",attrs:{card_title:"Hola",rows:t.history,columns:t.columHistory,classes:t.classes,config:t.config},scopedSlots:t._u([{key:"totalIdeal",fn:function(e){return[t._v("\n                              "+t._s(parseFloat(e.row.cantidad)+parseFloat(e.row.entry)-parseFloat(e.row.consume))+"\n                            ")]}},{key:"costo",fn:function(e){return[t._v("\n                              $ "+t._s(t.formatPrice(e.row.precio))+"\n                            ")]}},{key:"pagination-info",fn:function(e){return[t._v("\n                                Actuales "+t._s(e.currentPageRowsLength)+" | \n                                   \n                                Registros totales "+t._s(e.originalRowsLength)+"\n                            ")]}},{key:"selected-rows-info",fn:function(e){return[t._v("\n                                Total Number of rows selected : "+t._s(e.selectedItemsCount)+"\n                            ")]}}])})],1),a("tab-pane",{attrs:{title:"Profile"}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"fa fa-file-contract"}),t._v("\n                              Historial de cierres\n                          ")]),a("vue-bootstrap4-table",{staticClass:"tableClient",attrs:{rows:t.historyClosed,columns:t.columHistoryClosed,classes:t.classes,config:t.config},scopedSlots:t._u([{key:"edit",fn:function(e){return[a("b",[a("center",[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Ver informe")])]),a("base-button",{attrs:{size:"sm",type:"default",icon:"ni ni-bullet-list-67"},on:{click:function(a){t.modals.modal5=!0,t.validForm=2,t.reports=e.row.array}}})],2)],1)],1)]}},{key:"date",fn:function(e){return[t._v("\n                              "+t._s(t.formatDate(e.row.fecha))+"\n                            ")]}},{key:"pagination-info",fn:function(e){return[t._v("\n                                Actuales "+t._s(e.currentPageRowsLength)+" | \n                                   \n                                Registros totales "+t._s(e.originalRowsLength)+"\n                            ")]}},{key:"selected-rows-info",fn:function(e){return[t._v("\n                                Total Number of rows selected : "+t._s(e.selectedItemsCount)+"\n                            ")]}}])})],1)],1)],1)],1)],1)],1),a("modal",{attrs:{show:t.modals.modal1,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-sm"},on:{"update:show":function(e){return t.$set(t.modals,"modal1",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[void 0,[3!=t.validForm?a("div",{staticClass:"text-center text-muted mb-4",staticStyle:{"margin-top":"-30%"}},[a("small",[t._v("Datos del producto")])]):a("div",{staticClass:"text-center text-muted mb-4",staticStyle:{"margin-top":"-30%"}},[a("small",[t._v("Anexa mas productos a "+t._s(t.dataProduct.name))])]),a("form",{attrs:{role:"form"}},[3==t.validForm?a("div",{staticClass:"row"},[a("div",{staticClass:"col-7"},[a("base-input",{attrs:{alternative:"",placeholder:"Cantidad","addon-left-icon":"fa fa-box-open"},on:{keyup:t.valid},model:{value:t.dataProduct.entry,callback:function(e){t.$set(t.dataProduct,"entry",e)},expression:"dataProduct.entry"}})],1),a("div",{staticClass:"col-5 mt-2"},[t._v("\n                      "+t._s(t.unit)+"\n                    ")])]):t._e(),3==t.validForm?a("base-input",{attrs:{"addon-left-icon":"ni ni-calendar-grid-58"},on:{change:t.valid},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.focus,n=e.blur;return a("flat-picker",{staticClass:"form-control datepicker",attrs:{config:t.configDatePicker,placeholder:"Seleccione una fecha de compra"},on:{"on-open":o,"on-close":n},model:{value:t.dateAdd,callback:function(e){t.dateAdd=e},expression:"dateAdd"}})}}],null,!1,752621718)}):t._e(),3!=t.validForm?a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Nombre","addon-left-icon":"fa fa-edit"},model:{value:t.dataProduct.name,callback:function(e){t.$set(t.dataProduct,"name",e)},expression:"dataProduct.name"}}):t._e(),3!=t.validForm?a("select",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"unit"}],staticClass:"form-control mb-3",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.unit=e.target.multiple?a:a[0]}}},[a("option",{staticStyle:{color:"black"},attrs:{selected:"",value:""}},[t._v("Seleccione el tipo de medida")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Gramo(s)"}},[t._v("Gramo(s)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Kilogramo(s)"}},[t._v("Kilogramo(s)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Litro(s)"}},[t._v("Litro(s)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Mililitro(s)"}},[t._v("Mililitro(s)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Unidad"}},[t._v("Unidad")])]):t._e(),3!=t.validForm?a("base-input",{attrs:{alternative:"",placeholder:"Cantidad","addon-left-icon":"fa fa-box-open"},model:{value:t.dataProduct.initial,callback:function(e){t.$set(t.dataProduct,"initial",e)},expression:"dataProduct.initial"}}):t._e(),1==t.validForm?a("base-input",{attrs:{alternative:"",placeholder:"Numero para alerta","addon-left-icon":"fa fa-bell"},model:{value:t.dataProduct.alert,callback:function(e){t.$set(t.dataProduct,"alert",e)},expression:"dataProduct.alert"}}):t._e(),a("currency-input",{staticClass:"form-control mb-3",staticStyle:{"margin-top":"-10px"},attrs:{locale:"de",placeholder:"Precio por unidad","addon-left-icon":"ni ni-money-coins"},on:{keyup:t.valid},model:{value:t.dataProduct.price,callback:function(e){t.$set(t.dataProduct,"price",e)},expression:"dataProduct.price"}}),3==t.validForm?a("base-button",{staticClass:"mb-2",attrs:{icon:"fa fa-plus",size:"sm",type:"success"},on:{click:function(e){t.modals.modal3=!0}}},[t._v("Registrar provedor")]):t._e(),a("div",{on:{click:t.valid,keyup:t.valid}},[3==t.validForm?a("vue-single-select",{attrs:{options:t.providers,placeholder:"Provedor"},model:{value:t.provider,callback:function(e){t.provider=e},expression:"provider"}}):t._e()],1),a("div",{staticClass:"text-center"},[1==t.validForm?a("base-button",{attrs:{type:"default"},on:{click:function(e){return t.addProduct()}}},[t._v("Registrar")]):t._e(),2==t.validForm?a("base-button",{attrs:{type:"default"},on:{click:function(e){return t.updateProducts()}}},[t._v("Editar")]):t._e(),3==t.validForm?a("base-button",{attrs:{type:"success"},on:{click:function(e){return t.addMore(t.dataProduct.id)}}},[t._v("Agregar")]):t._e()],1)],1)]],2)],1),a("modal",{attrs:{show:t.modals.modal6,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-sm"},on:{"update:show":function(e){return t.$set(t.modals,"modal6",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-center text-muted mb-4",staticStyle:{"margin-top":"-30%"}},[a("small",[t._v("Edite el total para que le sistema alerte cuando este próximo a acabarse ("+t._s(t.typeStock)+")")])]),a("form",{attrs:{role:"form"}},[a("base-input",{attrs:{alternative:"",placeholder:"Total alarma","addon-left-icon":"fa fa-bell"},model:{value:t.stockTotal,callback:function(e){t.stockTotal=e},expression:"stockTotal"}})],1)],a("div",{staticClass:"text-center"},[a("base-button",{attrs:{type:"default"},on:{click:function(e){return t.editStock()}}},[t._v("Editar")])],1)],2)],1),a("modal",{attrs:{show:t.modals.modal3,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-sm"},on:{"update:show":function(e){return t.$set(t.modals,"modal3",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-center text-muted mb-4",staticStyle:{"margin-top":"-30%"}},[a("small",[t._v("Datos del provedor")])]),a("form",{attrs:{role:"form"}},[a("base-input",{attrs:{alternative:"",placeholder:"Nombre de la empresa","addon-left-icon":"fa fa-user-tie","addon-right-icon":"fa fa-asterisk text-danger"},on:{keyup:function(e){return t.validProviders()}},model:{value:t.provider.name,callback:function(e){t.$set(t.provider,"name",e)},expression:"provider.name"}}),a("base-input",{attrs:{alternative:"",placeholder:"RUT de la empresa","addon-left-icon":"fa fa-key","addon-right-icon":"fas fa-plus text-default"},on:{change:function(e){t.provider.rut=t.formatRut(t.provider.rut)}},model:{value:t.provider.rut,callback:function(e){t.$set(t.provider,"rut",e)},expression:"provider.rut"}}),a("base-input",{attrs:{alternative:"",placeholder:"Contacto de la empresa","addon-left-icon":"fa fa-address-book","addon-right-icon":"fa fa-asterisk text-danger"},on:{keyup:function(e){return t.validProviders()}},model:{value:t.provider.contact,callback:function(e){t.$set(t.provider,"contact",e)},expression:"provider.contact"}}),a("base-input",{attrs:{alternative:"",placeholder:"Contacto adicional","addon-left-icon":"fa fa-address-book","addon-right-icon":"fas fa-plus text-default"},model:{value:t.provider.contactPlus,callback:function(e){t.$set(t.provider,"contactPlus",e)},expression:"provider.contactPlus"}}),a("base-input",{attrs:{alternative:"",placeholder:"Dirección de la empresa","addon-left-icon":"fas fa-route","addon-right-icon":"fa fa-asterisk text-danger"},on:{keyup:function(e){return t.validProviders()}},model:{value:t.provider.direction,callback:function(e){t.$set(t.provider,"direction",e)},expression:"provider.direction"}})],1)],a("div",{staticClass:"text-center"},[a("base-button",{attrs:{disabled:t.providerSup.validProvider,type:"default"},on:{click:function(e){return t.providerFunction()}}},[t._v(t._s(t.providerSup.typeProvider))])],1)],2)],1),a("modal",{attrs:{show:t.modals.modal2,gradient:t.modals.type,"modal-classes":"modal-danger modal-dialog-centered"},on:{"update:show":function(e){return t.$set(t.modals,"modal2",e)}}},[a("div",{staticClass:"py-3 text-center"},[a("i",{class:t.modals.icon}),a("h1",{staticClass:"heading mt-5"},[t._v(t._s(t.modals.message))])])]),a("modal",{attrs:{show:t.modals.modal4,"modal-classes":"modal-dialog-centered modal-lg"},on:{"update:show":function(e){return t.$set(t.modals,"modal4",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Cierre de inventario")]),a("vue-custom-scrollbar",{staticStyle:{height:"30vh",overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"}},[a("div",{staticClass:"row p-2 m-2"},[a("div",{staticClass:"col-7"},[t._v("\n          Nombre del producto\n        ")]),a("div",{staticClass:"col-5 text-left"},[t._v("\n          Total real\n        ")])]),t._l(t.rows,(function(e,o){return a("div",{staticClass:"row p-2 m-2"},[a("dt",{staticClass:"col-7 mt-2"},[t._v(t._s(e.producto))]),a("base-input",{staticClass:"col-5",attrs:{placeholder:"Ingrese cantidad en "+e.type},model:{value:t.countProduct[o].count,callback:function(e){t.$set(t.countProduct[o],"count",e)},expression:"countProduct[index].count"}})],1)}))],2),a("template",{slot:"footer"},[a("base-button",{attrs:{type:"default"},on:{click:t.closeInventory}},[t._v("Cerrar inventario")]),a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.modal4=!1}}},[t._v("Salir\n        ")])],1)],2),a("modal",{attrs:{"modal-classes":"modal-dialog-centered modal-xl",show:t.modals.modal5},on:{"update:show":function(e){return t.$set(t.modals,"modal5",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Informe de cierre")]),a("vue-bootstrap4-table",{staticClass:"tableClient",attrs:{rows:t.reports,columns:t.columHistoryReport,classes:t.classes,config:t.config},scopedSlots:t._u([{key:"pagination-info",fn:function(e){return[t._v("\n              Actuales "+t._s(e.currentPageRowsLength)+" | \n                 \n              Registros totales "+t._s(e.originalRowsLength)+"\n          ")]}},{key:"selected-rows-info",fn:function(e){return[t._v("\n              Total Number of rows selected : "+t._s(e.selectedItemsCount)+"\n          ")]}}])}),a("template",{slot:"footer"},[a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.modal4=!1}}},[t._v("Cerrar\n          ")])],1)],2)],1)},n=[],s=(a("6b54"),a("a481"),a("7f7f"),a("bd86")),i=a("bc3a"),r=a.n(i),l=a("a5e9"),c=a.n(l),d=a("12f9"),u=a("4b70"),m=a.n(u),f=(a("e366"),a("c38f")),p=a.n(f),h=(a("0952"),a("4984")),v={components:{VueBootstrap4Table:d["a"],flatPicker:p.a,vueCustomScrollbar:m.a},data:function(){var t;return{countProduct:[],reports:[],usuario:localStorage.nombre+" "+localStorage.apellido,myId:null,historyClosed:[],validForm:0,providerSup:{validProvider:!1,typeProvider:""},history:[],provider:{name:"",rut:"",contact:"",contactPlus:"",direction:""},providers:[],providerTable:[],unit:"",dateAdd:"",stockTotal:"",idToStock:"",typeStock:"",addValid:!0,configDatePicker:{allowInput:!0,dateFormat:"m-d-Y",locale:h["Spanish"],minDate:new Date},modals:{modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""},dataProduct:{name:"",price:0,initial:"",entry:"",alert:"",id:null},rows:[],columns:[{label:"Producto",name:"producto",sort:!0},{label:"precio",name:"monto",slot_name:"price",sort:!0},{label:"Tipo de medida",name:"type",sort:!0},{label:"Cantidad inicial",name:"cantidad",sort:!0},{label:"Cantidad ingresada",name:"entry",sort:!1},{label:"Consumo",name:"consume",sort:!1},{label:"Total",name:"",sort:!1,slot_name:"totalIdeal"},{label:"Administrar",name:"_id",sort:!1,slot_name:"edit"}],columProvider:[{label:"Nombre de la empresa",name:"nombre",sort:!0},{label:"RUT",name:"rut",sort:!0},{label:"Contacto",name:"contacto",sort:!0},{label:"Contacto adicional",name:"contactoAdicional",sort:!0},{label:"Ubicación",name:"ubicacion",sort:!0},{label:"Administrar",name:"_id",sort:!1,slot_name:"edit"}],columHistory:[{label:"Fecha",name:"fecha",sort:!0},{label:"Producto",name:"producto",sort:!0},{label:"Anexado",name:"entry",sort:!0},{label:"Medida",name:"unit",sort:!0},{label:"Costo",name:"precio",sort:!0,slot_name:"costo"},{label:"Provedor",name:"provedor",sort:!0}],columHistoryClosed:[{label:"Fecha",name:"fecha",sort:!0,slot_name:"date"},{label:"Encargado del cierre",name:"user",sort:!0,slot_name:"costo"},{label:"Productos totales",name:"totalProduct",sort:!0},{label:"Administrar",name:"_id",sort:!1,slot_name:"edit"}],columHistoryReport:[{label:"Producto",name:"name",sort:!0,slot_name:"date"},{label:"Medida",name:"medida",sort:!0,slot_name:"costo"},{label:"Total ideal",name:"ideal",sort:!0},{label:"Total real",name:"count",sort:!0},{label:"Diferencia",name:"diferencia",sort:!0}],config:(t={checkbox_rows:!1,rows_selectable:!0,highlight_row_hover_color:"rgba(238, 238, 238, 0.623)"},Object(s["a"])(t,"rows_selectable",!0),Object(s["a"])(t,"per_page_options",[5,10,20,30,40,50,80,100]),Object(s["a"])(t,"global_search",{placeholder:"Filtrar productos",visibility:!0,case_sensitive:!1}),Object(s["a"])(t,"show_refresh_button",!1),Object(s["a"])(t,"show_reset_button",!1),Object(s["a"])(t,"selected_rows_info",!0),Object(s["a"])(t,"preservePageOnDataChange",!0),Object(s["a"])(t,"pagination_info",!0),t),classes:{table:"table-bordered table-striped"}}},beforeCreate:function(){localStorage.getItem("userToken")||(this.$swal({type:"error",title:"URL restringida",showConfirmButton:!1,timer:1500}),router.push({name:"login"}))},created:function(){this.getProducts(),this.getProviders(),this.getHistoryClosed()},methods:{getProducts:function(){var t=this;this.countProduct=[],r.a.get(c.a.endpointTarget+"/inventario").then((function(e){t.rows=e.data,t.history=[];for(var a=0;a<e.data.length;a++)for(var o=0;o<e.data[a].history.length;o++)t.history.push(e.data[a].history[o]);for(var n=0;n<t.rows.length;n++){var s=t.rows[n].cantidad+t.rows[n].entry-t.rows[n].consume;t.countProduct.push({id:t.rows[n]._id,count:"",ideal:s,medida:t.rows[n].type,name:t.rows[n].producto,diferencia:""})}}))},getProviders:function(){var t=this;r.a.get(c.a.endpointTarget+"/inventario/getProvider").then((function(e){t.providerTable=e.data;for(var a=0;a<e.data.length;a++)t.providers.push(e.data[a].nombre)}))},getHistoryClosed:function(){var t=this;r.a.get(c.a.endpointTarget+"/inventario/getHistory").then((function(e){t.historyClosed=e.data}))},addProduct:function(){var t=this;r.a.post(c.a.endpointTarget+"/inventario",{product:this.dataProduct.name,type:this.unit,quantity:this.dataProduct.initial,price:this.dataProduct.price,alert:this.dataProduct.alert}).then((function(e){"ok"===e.data.status?(t.modals={modal2:!0,message:"¡Producto registrado con exito!",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""},t.getProducts(),t.initialState(3)}),1500)):(t.modals={modal2:!0,message:"¡Producto ya existe!",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){t.modals={modal1:!0,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""},t.getProducts()}),1500))})).catch((function(e){t.$swal({type:"error",title:"Problemas con el servidor",showConfirmButton:!1,timer:1500}),console.log(e)}))},addProvider:function(){var t=this;r.a.post(c.a.endpointTarget+"/inventario/addProvider",{name:this.provider.name,rut:this.provider.rut,contacto:this.provider.contact,contactoPlus:this.provider.contactPlus,direccion:this.provider.direction}).then((function(e){"ok"===e.data.status?(t.$swal({type:"success",title:"Provedor registrado",showConfirmButton:!1,timer:1500}),t.provider={name:"",rut:"",contact:"",contactPlus:"",direction:""},t.modals={modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""},document.getElementById("provedorBtn").click(),t.getProducts(),t.getProviders()):t.$swal({type:"error",title:"Provedor existe",showConfirmButton:!1,timer:1500})})).catch((function(e){t.$swal({type:"error",title:"Problemas con el servidor",showConfirmButton:!1,timer:1500}),console.log(e)}))},initialState:function(t,e){1==t&&(this.myId=e,this.provider="",this.dateAdd="",this.dataProduct.price="",console.log(this.myId)),2==t&&(this.provider={name:"",rut:"",contact:"",contactPlus:"",direction:""},this.providerSup.validProvider=!0),3==t&&(console.log("No entre aqui"),this.dataProduct={name:"",price:0,initial:"",add:"",alert:"",id:""},this.unit="")},pushData:function(t,e,a,o,n){this.validForm=2,this.unit="",this.dataProduct={name:t,price:a,initial:e,id:o},this.unit=n},formatDate:function(t){var e=new Date(t);return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},updateProducts:function(){var t=this;r.a.put(c.a.endpointTarget+"/inventario/"+this.dataProduct.id,{product:this.dataProduct.name,type:this.unit,cantidad:this.dataProduct.initial,monto:this.dataProduct.price}).then((function(e){t.modals={modal2:!0,message:"¡Producto actualizado con exito!",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""},t.getProducts(),t.initialState(2)}),1500)})).catch((function(e){t.modals={modal2:!0,message:"¡Error al actualizar el producto!",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){t.modals={modal1:!0,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""}}),1500)}))},updateProvider:function(){var t=this;r.a.put(c.a.endpointTarget+"/inventario/updateProvider/"+this.provider.id,{name:this.provider.name,rut:this.provider.rut,contact:this.provider.contact,contactoPlus:this.provider.contactPlus,ubicacion:this.provider.direction}).then((function(e){t.$swal({type:"success",title:"Provedor Actualizado",showConfirmButton:!1,timer:1500}),t.getProviders()})).catch((function(e){t.$swal({type:"error",title:"El provedor no fue actualizado",showConfirmButton:!1,timer:1500})}))},addMore:function(){var t=this;r.a.put(c.a.endpointTarget+"/inventario/add/"+this.myId,{entry:this.dataProduct.entry,history:{id:this.myId,fecha:this.dateAdd,producto:this.dataProduct.name,entry:this.dataProduct.entry,unit:this.unit,precio:this.dataProduct.price,provedor:this.provider,status:!0}}).then((function(e){t.modals={modal2:!0,message:"¡Producto actualizado con exito!",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""},t.getProducts()}),1500)})).catch((function(e){t.$swal({type:"error",title:"El producto no fue actualizado",showConfirmButton:!1,timer:1500})}))},valid:function(){""!=this.unit&&""!=this.dateAdd&&""!=this.dataProduct.price&&""!=this.provider?this.addValid=!1:this.addValid=!0},deleteProvider:function(t){var e=this;this.$swal({title:"¿Está seguro de borrar el provedor?",text:"No puedes revertir esta acción",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy seguro",cancelButtonText:"No, evitar acción",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value?r.a.delete(c.a.endpointTarget+"/inventario/deleteProvider/"+t).then((function(t){"ok"==t.data.status&&(e.modals={modal2:!0,message:"Provedor borrado con exito",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){e.modals={modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""},e.getProviders()}),1500))})):(e.modals={modal2:!0,message:"Acción cancelada",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){e.modals={modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""}}),1500))}))},deleteItem:function(t){var e=this;this.$swal({title:"¿Está seguro de borrar el producto?",text:"No puedes revertir esta acción",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy seguro",cancelButtonText:"No, evitar acción",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value?r.a.put(c.a.endpointTarget+"/inventario/deleteItem/"+t).then((function(t){"ok"==t.data.status&&(e.modals={modal2:!0,message:"Producto borrado con exito",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){e.modals={modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""},e.getProducts()}),1500))})):(e.modals={modal2:!0,message:"Acción cancelada",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){e.modals={modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""}}),1500))}))},closeInventory:function(){var t=this;r.a.post(c.a.endpointTarget+"/inventario/closeInventory",{user:this.usuario,array:this.countProduct}).then((function(e){"ok"===e.data.status?(t.modals={modal2:!0,message:"¡Cierre realizado!",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""},t.getProducts(),t.getHistoryClosed()}),1500)):t.$swal({type:"success",title:"Ya se hizo un cierre este mes",showConfirmButton:!1,timer:1500})})).catch((function(e){t.$swal({type:"error",title:"Cierre NO realizado",showConfirmButton:!1,timer:1500})}))},validProviders:function(){""==this.provider.name||""==this.provider.contact||""==this.provider.direction?this.providerSup.validProvider=!0:this.providerSup.validProvider=!1},pushDataProvider:function(t,e,a,o,n,s){this.provider={name:t,rut:e,contact:a,contactPlus:o,direction:n,id:s}},providerFunction:function(){"Registrar"==this.providerSup.typeProvider?this.addProvider():this.updateProvider()},deleteSale:function(t,e){var a=this;r.a.post(c.a.endpointTarget+"/inventario/deleteSale/"+t,{user:this.usuario,array:this.countProduct}).then((function(t){"ok"===t.data.status?(a.$swal({type:"success",title:"Cierre realizado",showConfirmButton:!1,timer:1500}),a.getProducts(),a.getHistoryClosed()):a.$swal({type:"success",title:"Ya se hizo un cierre este mes",showConfirmButton:!1,timer:1500})})).catch((function(t){a.$swal({type:"error",title:"Cierre NO realizado",showConfirmButton:!1,timer:1500})}))},dataStock:function(t,e,a){this.modals.modal6=!0,this.idToStock=t,this.typeStock=a,this.stockTotal=e},editStock:function(){var t=this;r.a.put(c.a.endpointTarget+"/inventario/editStockAlarm/"+this.idToStock,{stockTotal:this.stockTotal}).then((function(e){"ok"==e.data.status?(t.modals={modal2:!0,message:"Alarma actualizada",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""},t.getProducts()}),1500)):t.$swal({type:"error",title:"Hubo un problema",showConfirmButton:!1,timer:1500})}))},formatRut:function(t){for(var e=t.length-2,a="",o=0;o<t.length;o++)a+=t[o],e==o&&(a+=".");var n=a.replace(".","-");return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},g=v,b=(a("862b"),a("2877")),y=Object(b["a"])(g,o,n,!1,null,null,null);e["default"]=y.exports},"241e5":function(t,e,a){"use strict";var o=a("df7b"),n=a.n(o);n.a},"24e2":function(t,e,a){"use strict";function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},o=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(a).filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})))),o.forEach((function(e){n(t,e,a[e])}))}return t}function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}e.__esModule=!0,e.readonlyDescriptor=e.omit=e.isPlainObject=e.isObject=e.is=e.isFrozen=e.create=e.getPrototypeOf=e.getOwnPropertySymbols=e.getOwnPropertyDescriptor=e.freeze=e.defineProperty=e.defineProperties=e.keys=e.getOwnPropertyNames=e.assign=void 0,"function"!==typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),o=1;o<arguments.length;o++){var n=arguments[o];if(null!=n)for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a}),Object.is||(Object.is=function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e});var i=Object.assign;e.assign=i;var r=Object.getOwnPropertyNames;e.getOwnPropertyNames=r;var l=Object.keys;e.keys=l;var c=Object.defineProperties;e.defineProperties=c;var d=Object.defineProperty;e.defineProperty=d;var u=Object.freeze;e.freeze=u;var m=Object.getOwnPropertyDescriptor;e.getOwnPropertyDescriptor=m;var f=Object.getOwnPropertySymbols;e.getOwnPropertySymbols=f;var p=Object.getPrototypeOf;e.getPrototypeOf=p;var h=Object.create;e.create=h;var v=Object.isFrozen;e.isFrozen=v;var g=Object.is;e.is=g;var b=function(t){return null!==t&&"object"===s(t)};e.isObject=b;var y=function(t){return"[object Object]"===Object.prototype.toString.call(t)};e.isPlainObject=y;var C=function(t,e){return Object.keys(t).filter((function(t){return-1===e.indexOf(t)})).reduce((function(e,a){return o({},e,n({},a,t[a]))}),{})};e.omit=C;var _=function(){return{enumerable:!0,configurable:!1,writable:!1}};e.readonlyDescriptor=_},"2eee":function(t,e,a){"use strict";e.__esModule=!0,e.default=void 0;var o=a("91b6"),n=a("0a8d"),s={bTooltip:o.default},i={install:function(t){(0,n.registerDirectives)(t,s)}};e.default=i},4565:function(t,e,a){"use strict";e.__esModule=!0,e.hasPointerEvent=e.hasTouchSupport=e.isServer=e.inBrowser=void 0;var o="undefined"!==typeof document&&"undefined"!==typeof window;e.inBrowser=o;var n=!o;e.isServer=n;var s=o&&("ontouchstart"in document.documentElement||navigator.maxTouchPoints>0);e.hasTouchSupport=s;var i=o&&Boolean(window.PointerEvent||window.MSPointerEvent);e.hasPointerEvent=i},"4eb5":function(t,e,a){var o=a("6981"),n={autoSetContainer:!1,appendToBody:!0},s={install:function(t){t.prototype.$clipboardConfig=n,t.prototype.$copyText=function(t,e){return new Promise((function(a,s){var i=document.createElement("button"),r=new o(i,{text:function(){return t},action:function(){return"copy"},container:"object"===typeof e?e:document.body});r.on("success",(function(t){r.destroy(),a(t)})),r.on("error",(function(t){r.destroy(),s(t)})),n.appendToBody&&document.body.appendChild(i),i.click(),n.appendToBody&&document.body.removeChild(i)}))},t.directive("clipboard",{bind:function(t,e,a){if("success"===e.arg)t._vClipboard_success=e.value;else if("error"===e.arg)t._vClipboard_error=e.value;else{var s=new o(t,{text:function(){return e.value},action:function(){return"cut"===e.arg?"cut":"copy"},container:n.autoSetContainer?t:void 0});s.on("success",(function(e){var a=t._vClipboard_success;a&&a(e)})),s.on("error",(function(e){var a=t._vClipboard_error;a&&a(e)})),t._vClipboard=s}},update:function(t,e){"success"===e.arg?t._vClipboard_success=e.value:"error"===e.arg?t._vClipboard_error=e.value:(t._vClipboard.text=function(){return e.value},t._vClipboard.action=function(){return"cut"===e.arg?"cut":"copy"})},unbind:function(t,e){"success"===e.arg?delete t._vClipboard_success:"error"===e.arg?delete t._vClipboard_error:(t._vClipboard.destroy(),delete t._vClipboard)}})},config:n};t.exports=s},6287:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-5 pt-5 pt-lg-8 d-flex align-items-center",staticStyle:{"min-height":"50px","background-image":"url(img/theme/users.jpg)","background-size":"cover","background-position":"center top"}},[a("span",{staticClass:"mask  opacity-7",staticStyle:{"background-color":"#172b4d !important"}}),a("div",{staticClass:"container-fluid d-flex align-items-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h1",{staticClass:"display-2 text-white"},[t._v("Reporte del cierre ("+t._s(t.closedInfo.date)+")")]),t.validRoute("caja","editar")?a("base-button",{attrs:{type:"success"},on:{click:function(e){t.modals.modal1=!0}}},[t._v("Editar montos manuales")]):t._e(),a("br"),a("a",{staticClass:"btn btn-primary text-white cursor-pointer mt-1",on:{click:t.back}},[t._v("Regresar")])],1)])])]),a("div",{staticClass:"col-12 mt-3 mx-auto"},[a("div",{staticClass:"row mx-auto text-center"},[a("div",{staticClass:"col-4 mx-auto"},[a("dt",{attrs:{type:"success"}},[t._v("Ingresos mensuales")]),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Fondo de caja")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manual)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Efectivo")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualCash)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Egreso de caja")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualEgress)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Total efectivo")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.totalManualCash)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Crédito")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualCredit)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Débito")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualDebit)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Transferencia")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualTransfer)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Otros")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualOthers)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"default"}},[a("span",{staticClass:"float-left"},[t._v("Total")]),a("badge",{staticClass:"float-right",staticStyle:{"font-size":"1em !important"},attrs:{type:"white"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualTotal)))])],1)],1),a("div",{staticClass:"col-4 mx-auto"},[a("dt",{attrs:{type:"default"}},[t._v("Ingresos sistema")]),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Fondo de caja")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.foundEntrySystem)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Efectivo")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.systemCash)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Egreso de caja")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.systemEgress)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Total efectivo")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.totalSystemCash)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Crédito")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.systemCredit)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Débito")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.systemDebit)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Transferencia")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.systemTransfer)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Otros")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.systemOther)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"default"}},[a("span",{staticClass:"float-left"},[t._v("Total")]),a("badge",{staticClass:"float-right",staticStyle:{"font-size":"1em !important"},attrs:{type:"white"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.systemTotal)))])],1)],1),a("div",{staticClass:"col-2 mx-auto"},[a("dt",{attrs:{type:"warning"}},[t._v("Diferencia")]),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("badge",{staticClass:"text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manual-t.closedInfo.foundEntrySystem)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("badge",{staticClass:"text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualCash-t.closedInfo.systemCash)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("badge",{staticClass:"text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualEgress-t.closedInfo.systemEgress)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("badge",{staticClass:"text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.totalManualCash-t.closedInfo.totalSystemCash)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("badge",{staticClass:"text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualCredit-t.closedInfo.systemCredit)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("badge",{staticClass:"text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualDebit-t.closedInfo.systemDebit)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("badge",{staticClass:"text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualTransfer-t.closedInfo.systemTransfer)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("badge",{staticClass:"text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualOthers-t.closedInfo.systemOther)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"default"}},[a("badge",{staticStyle:{"font-size":"1em !important"},attrs:{type:"white"}},[t._v("$ "+t._s(t.formatPrice(t.closedInfo.manualTotal-t.closedInfo.systemTotal)))])],1)],1)])]),a("modal",{attrs:{show:t.modals.modal1,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-sm"},on:{"update:show":function(e){return t.$set(t.modals,"modal1",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":""}},[[a("div",{staticClass:"text-center text-muted mb-2",staticStyle:{"margin-top":"-20% !important"}},[a("small",[t._v("Ingresos manuales")])]),a("div",{staticClass:"text-left text-muted"},[a("small",[t._v("Fondo de caja")])]),a("currency-input",{staticClass:"form-control",attrs:{locale:"de"},on:{keyup:function(e){return t.totalCash()}},model:{value:t.closedInfo.manual,callback:function(e){t.$set(t.closedInfo,"manual",e)},expression:"closedInfo.manual"}}),a("div",{staticClass:"text-left text-muted"},[a("small",[t._v("Efectivo")])]),a("currency-input",{staticClass:"form-control",attrs:{locale:"de"},on:{keyup:function(e){return t.totalCash()}},model:{value:t.closedInfo.manualCash,callback:function(e){t.$set(t.closedInfo,"manualCash",e)},expression:"closedInfo.manualCash"}}),a("div",{staticClass:"text-left text-muted"},[a("small",[t._v("Egreso de caja")])]),a("currency-input",{staticClass:"form-control",attrs:{locale:"de"},on:{keyup:function(e){return t.totalCash()}},model:{value:t.closedInfo.manualEgress,callback:function(e){t.$set(t.closedInfo,"manualEgress",e)},expression:"closedInfo.manualEgress"}}),a("div",{staticClass:"text-left text-muted"},[a("small",[t._v("Total efectivo")])]),a("currency-input",{staticClass:"form-control ",attrs:{locale:"de"},model:{value:t.closedInfo.totalManualCash,callback:function(e){t.$set(t.closedInfo,"totalManualCash",e)},expression:"closedInfo.totalManualCash"}}),a("div",{staticClass:"text-left text-muted"},[a("small",[t._v("Crédito")])]),a("currency-input",{staticClass:"form-control ",attrs:{locale:"de"},model:{value:t.closedInfo.manualCredit,callback:function(e){t.$set(t.closedInfo,"manualCredit",e)},expression:"closedInfo.manualCredit"}}),a("div",{staticClass:"text-left text-muted"},[a("small",[t._v("Débito")])]),a("currency-input",{staticClass:"form-control ",attrs:{locale:"de"},model:{value:t.closedInfo.manualDebit,callback:function(e){t.$set(t.closedInfo,"manualDebit",e)},expression:"closedInfo.manualDebit"}}),a("div",{staticClass:"text-left text-muted"},[a("small",[t._v("Transferencia")])]),a("currency-input",{staticClass:"form-control ",attrs:{locale:"de"},model:{value:t.closedInfo.manualTransfer,callback:function(e){t.$set(t.closedInfo,"manualTransfer",e)},expression:"closedInfo.manualTransfer"}}),a("div",{staticClass:"text-left text-muted"},[a("small",[t._v("Otros")])]),a("currency-input",{staticClass:"form-control ",attrs:{locale:"de"},model:{value:t.closedInfo.manualOthers,callback:function(e){t.$set(t.closedInfo,"manualOthers",e)},expression:"closedInfo.manualOthers"}}),a("div",{staticClass:"text-center"},[a("base-button",{staticClass:"my-2",attrs:{type:"default"},on:{click:t.editEntry}},[t._v("Editar")])],1)]],2)],1),a("modal",{attrs:{show:t.modals.modal2,gradient:"success","modal-classes":"modal-danger modal-dialog-centered"},on:{"update:show":function(e){return t.$set(t.modals,"modal2",e)}}},[a("div",{staticClass:"py-3 text-center"},[a("i",{staticClass:"ni ni-check-bold ni-3x"}),a("h4",{staticClass:"heading mt-4"},[t._v("¡Actualizado!")])])])],1)},n=[],s=(a("6b54"),a("a481"),a("bc3a")),i=a.n(s),r=a("41cb"),l=a("a5e9"),c=a.n(l),d=a("04e1"),u=a.n(d),m=a("12f9"),f={components:{VueBootstrap4Table:m["a"]},data:function(){return{auth:[],id:localStorage.getItem("reportID"),closedInfo:{manual:0,manualCash:0,totalManualCash:0,manualDebit:0,manualCredit:0,manualTransfer:0,manualOthers:0,manualTotal:0,manualEgress:0,foundEntrySystem:0,systemCash:0,totalSystemCash:0,systemDebit:0,systemCredit:0,systemTransfer:0,systemOther:0,systemTotal:0,systemEgress:0,closeId:0,code:0,date:"maldito"},modals:{modal1:!1,modal2:!1}}},beforeCreate:function(){localStorage.getItem("userToken")||(this.$swal({type:"error",title:"URL restringida",showConfirmButton:!1,timer:1500}),r["a"].push({name:"login"}))},created:function(){this.getClosing(),this.getToken(),$(document).ready((function(){setTimeout((function(){$("input[placeholder='Go to page']").hide()}),200)}))},methods:{getToken:function(){var t=localStorage.userToken,e=u()(t);this.auth=e.access},back:function(){window.history.go(-1)},getClosing:function(){var t=this,e=this.id;i.a.get(c.a.endpointTarget+"/ventas/getClosing/"+e).then((function(e){var a=new Date(e.data.fecha);console.log(a),t.closedInfo={manual:e.data.manual.ingresoFondo,manualCash:e.data.manual.efectivo,totalManualCash:e.data.manual.totalEfectivo,manualDebit:e.data.manual.debito,manualCredit:e.data.manual.credito,manualTransfer:e.data.manual.transferencia,manualOthers:e.data.manual.otros,manualTotal:e.data.manual.total,manualEgress:e.data.manual.egreso,foundEntrySystem:e.data.sistema.ingresoFondo,systemCash:e.data.sistema.efectivo,totalSystemCash:e.data.sistema.totalEfectivo,systemDebit:e.data.sistema.debito,systemCredit:e.data.sistema.credito,systemTransfer:e.data.sistema.transferencia,systemOther:e.data.sistema.otros,systemTotal:e.data.sistema.total,systemEgress:e.data.sistema.egreso,closeId:e.data.identificacionCierre,code:e.data._id,date:a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear()},console.log(t.closedInfo.date)}))},formatPrice:function(t){(t/1).toFixed(2).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},totalCash:function(){this.closedInfo.totalManualCash=this.closedInfo.manual+this.closedInfo.manualCash-this.closedInfo.manualEgress},editEntry:function(){var t=this;console.log(this.closedInfo.date),i.a.put(c.a.endpointTarget+"/ventas/editarIngManual/"+this.closedInfo.code,{fondo:this.closedInfo.manual,efectivo:this.closedInfo.manualCash,egreso:this.closedInfo.manualEgress,totalEfectivo:this.closedInfo.totalManualCash,credito:this.closedInfo.manualCredit,debito:this.closedInfo.manualDebit,transferencia:this.closedInfo.manualTransfer,otros:this.closedInfo.manualOthers,total:this.closedInfo.manualTotal}).then((function(e){"ok"==e.data.status&&(t.modals.modal2=!0,setTimeout((function(){t.modals.modal1=!1,t.modals.modal2=!1,t.getClosing()}),1e3))}))},validRoute:function(t,e){for(var a=0;a<this.auth.length;a++){var o=this.auth[a];if(o.ruta==t)for(var n=0;n<o.validaciones.length;n++)if(e==o.validaciones[n])return console.log(!0),!0}}}},p=f,h=a("2877"),v=Object(h["a"])(p,o,n,!1,null,null,null);e["default"]=v.exports},6981:function(t,e,a){
/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
!function(e,a){t.exports=a()}(0,(function(){return function(t){var e={};function a(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,a,o){return a&&t(e.prototype,a),o&&t(e,o),e}}(),s=l(a(1)),i=l(a(3)),r=l(a(4));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.resolveOptions(a),o.listenClick(t),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),n(e,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===o(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,r.default)(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return d("action",t)}},{key:"defaultTarget",value:function(t){var e=d("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return d("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,a=!!document.queryCommandSupported;return e.forEach((function(t){a=a&&!!document.queryCommandSupported(t)})),a}}]),e}();function d(t,e){var a="data-clipboard-"+t;if(e.hasAttribute(a))return e.getAttribute(a)}t.exports=c},function(t,e,a){"use strict";var o,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,a,o){return a&&t(e.prototype,a),o&&t(e,o),e}}(),i=a(2),r=(o=i)&&o.__esModule?o:{default:o},l=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return s(e,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var a=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=a+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":n(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),e}();t.exports=l},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var a=t.hasAttribute("readonly");a||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),a||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),n=document.createRange();n.selectNodeContents(t),o.removeAllRanges(),o.addRange(n),e=o.toString()}return e}},function(t,e){function a(){}a.prototype={on:function(t,e,a){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:a}),this},once:function(t,e,a){var o=this;function n(){o.off(t,n),e.apply(a,arguments)}return n._=e,this.on(t,n,a)},emit:function(t){for(var e=[].slice.call(arguments,1),a=((this.e||(this.e={}))[t]||[]).slice(),o=0,n=a.length;o<n;o++)a[o].fn.apply(a[o].ctx,e);return this},off:function(t,e){var a=this.e||(this.e={}),o=a[t],n=[];if(o&&e)for(var s=0,i=o.length;s<i;s++)o[s].fn!==e&&o[s].fn._!==e&&n.push(o[s]);return n.length?a[t]=n:delete a[t],this}},t.exports=a},function(t,e,a){var o=a(5),n=a(6);t.exports=function(t,e,a){if(!t&&!e&&!a)throw new Error("Missing required arguments");if(!o.string(e))throw new TypeError("Second argument must be a String");if(!o.fn(a))throw new TypeError("Third argument must be a Function");if(o.node(t))return m=e,f=a,(u=t).addEventListener(m,f),{destroy:function(){u.removeEventListener(m,f)}};if(o.nodeList(t))return l=t,c=e,d=a,Array.prototype.forEach.call(l,(function(t){t.addEventListener(c,d)})),{destroy:function(){Array.prototype.forEach.call(l,(function(t){t.removeEventListener(c,d)}))}};if(o.string(t))return s=t,i=e,r=a,n(document.body,s,i,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var s,i,r,l,c,d,u,m,f}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var a=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===a||"[object HTMLCollection]"===a)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,a){var o=a(7);function n(t,e,a,n,s){var i=function(t,e,a,n){return function(a){a.delegateTarget=o(a.target,e),a.delegateTarget&&n.call(t,a)}}.apply(this,arguments);return t.addEventListener(a,i,s),{destroy:function(){t.removeEventListener(a,i,s)}}}t.exports=function(t,e,a,o,s){return"function"==typeof t.addEventListener?n.apply(null,arguments):"function"==typeof a?n.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return n(t,e,a,o,s)})))}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}}])}))},7201:function(t,e,a){"use strict";var o=a("a290"),n=a.n(o);n.a},"73cf":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-5 col-md-7"},[a("div",{staticClass:"card bg-secondary shadow border-0"},[t._m(0),a("div",{staticClass:"card-body px-lg-5 py-lg-5"},[t._m(1),a("form",{attrs:{role:"form"}},[a("base-input",{staticClass:"input-group-alternative mb-3",attrs:{placeholder:"Name","addon-left-icon":"ni ni-hat-3"},model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}}),a("base-input",{staticClass:"input-group-alternative mb-3",attrs:{placeholder:"Email","addon-left-icon":"ni ni-email-83"},model:{value:t.model.email,callback:function(e){t.$set(t.model,"email",e)},expression:"model.email"}}),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Password",type:"password","addon-left-icon":"ni ni-lock-circle-open"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}}),t._m(2),a("div",{staticClass:"row my-4"},[a("div",{staticClass:"col-12"},[a("base-checkbox",{staticClass:"custom-control-alternative"},[a("span",{staticClass:"text-muted"},[t._v("I agree with the "),a("a",{attrs:{href:"#!"}},[t._v("Privacy Policy")])])])],1)]),a("div",{staticClass:"text-center"},[a("base-button",{staticClass:"my-4",attrs:{type:"primary"}},[t._v("Create account")])],1)],1)])]),a("div",{staticClass:"row mt-3"},[t._m(3),a("div",{staticClass:"col-6 text-right"},[a("router-link",{staticClass:"text-light",attrs:{to:"/login"}},[a("small",[t._v("Login into your account")])])],1)])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-transparent pb-5"},[a("div",{staticClass:"text-muted text-center mt-2 mb-3"},[a("small",[t._v("Sign up with")])]),a("div",{staticClass:"btn-wrapper text-center"},[a("a",{staticClass:"btn btn-neutral btn-icon",attrs:{href:"#"}},[a("span",{staticClass:"btn-inner--icon"},[a("img",{attrs:{src:"img/icons/common/github.svg"}})]),a("span",{staticClass:"btn-inner--text"},[t._v("Github")])]),a("a",{staticClass:"btn btn-neutral btn-icon",attrs:{href:"#"}},[a("span",{staticClass:"btn-inner--icon"},[a("img",{attrs:{src:"img/icons/common/google.svg"}})]),a("span",{staticClass:"btn-inner--text"},[t._v("Google")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center text-muted mb-4"},[a("small",[t._v("Or sign up with credentials")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-muted font-italic"},[a("small",[t._v("password strength: "),a("span",{staticClass:"text-success font-weight-700"},[t._v("strong")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("a",{staticClass:"text-light",attrs:{href:"#"}},[a("small",[t._v("Forgot password?")])])])}],s={name:"register",data:function(){return{model:{name:"",email:"",password:""}}}},i=s,r=a("2877"),l=Object(r["a"])(i,o,n,!1,null,null,null);e["default"]=l.exports},8e3:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-4 pt-2 pt-lg-4 d-flex align-items-center",staticStyle:{"min-height":"50px","background-image":"url(img/theme/clients.jpg)","background-size":"cover","background-position":"center top"}},[a("span",{staticClass:"mask  opacity-7",staticStyle:{"background-color":"#172b4d !important"}}),a("div",{staticClass:"container-fluid d-flex align-items-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h1",{staticClass:"display-2 text-white"},[t._v("Pedidos")]),a("p",{staticClass:"text-white mt-0 mb-2"},[t._v("Esta es la sección administrativa de tus pedidos, aquí podrás visualizar todos tus pedidos.")]),t.validRoute("clientes","filtrar")?a("base-button",{attrs:{type:"default"},on:{click:t.showFilter}},[t._v("Filtrar")]):t._e()],1)])])]),a("modal",{attrs:{show:t.modals.modal1,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(e){return t.$set(t.modals,"modal1",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-muted text-center mb-3",staticStyle:{"margin-top":"-15% !important"}},[t._v("\n                    Datos del cliente\n                ")])],[1==t.registerClient.valid2?a("tabs",{staticClass:"flex-column flex-md-row",attrs:{fill:""}},[a("card",{attrs:{shadow:""}},[a("tab-pane",[1==t.registerClient.valid2?a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"ni ni-collection"}),t._v("\n                                Basicos\n                            ")]):t._e(),a("form",{attrs:{role:"form"}},[a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Nombre","addon-left-icon":"ni ni-single-02","addon-right-icon":"fa fa-asterisk text-danger"},on:{change:function(e){return t.validRegister()}},model:{value:t.registerClient.name,callback:function(e){t.$set(t.registerClient,"name",e)},expression:"registerClient.name"}}),a("base-input",{attrs:{alternative:"",type:"text",placeholder:"Contacto principal","addon-left-icon":"fa fa-address-card","addon-right-icon":"fa fa-asterisk text-danger"},on:{change:function(e){return t.validRegister()}},model:{value:t.registerClient.id,callback:function(e){t.$set(t.registerClient,"id",e)},expression:"registerClient.id"}}),a("base-input",{attrs:{alternative:"",type:"text",placeholder:"Contacto adicional","addon-left-icon":"fa fa-address-card","addon-right-icon":"fas fa-plus text-default"},model:{value:t.registerClient.contactOne,callback:function(e){t.$set(t.registerClient,"contactOne",e)},expression:"registerClient.contactOne"}}),a("base-input",{attrs:{alternative:"",type:"text",placeholder:"Contacto adicional","addon-left-icon":"fa fa-address-card","addon-right-icon":"fas fa-plus text-default"},model:{value:t.registerClient.contactTwo,callback:function(e){t.$set(t.registerClient,"contactTwo",e)},expression:"registerClient.contactTwo"}}),a("div",{staticClass:"text-center"},[0==t.registerClient.valid?a("base-button",{staticClass:"my-4",attrs:{type:"primary",disabled:""}},[t._v(t._s(t.tipeForm))]):a("base-button",{staticClass:"my-4",attrs:{type:"primary"},on:{click:function(e){return t.clientEdit()}}},[t._v(t._s(t.tipeForm))])],1)],1)]),1==t.registerClient.valid2?a("tab-pane",[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"ni ni-chart-bar-32"}),t._v("\n                                Avanzados\n                            ")]),a("div",{staticClass:"row"},[a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"primary"}},[a("span",[t._v("Participación")]),a("badge",{staticClass:"text-default",attrs:{type:"secondary"}},[t._v(t._s(t.registerClient.participation))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"primary"}},[a("span",{staticClass:"text-left"},[t._v("Recomendaciones")]),a("badge",{staticClass:"text-default",attrs:{type:"secondary"}},[t._v(t._s(t.registerClient.recommenders))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"primary"}},[a("span",{staticClass:"text-left"},[t._v("Recomendador")]),a("badge",{staticClass:"text-default",attrs:{type:"secondary"}},[t._v(t._s(t.registerClient.recommender))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"primary"}},[a("span",[t._v("Cliente desde")]),a("badge",{staticClass:"text-default",attrs:{type:"secondary"}},[t._v(t._s(t.registerClient.date))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"primary"}},[a("span",[t._v("Ultima atención")]),a("badge",{staticClass:"text-default",attrs:{type:"secondary"}},[t._v(t._s(t.registerClient.lastDate))])],1)],1)]):t._e()],1)],1):a("form",{attrs:{role:"form"}},[a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Nombre","addon-left-icon":"ni ni-single-02","addon-right-icon":"fa fa-asterisk text-danger"},on:{change:function(e){return t.validRegister()}},model:{value:t.registerClient.name,callback:function(e){t.$set(t.registerClient,"name",e)},expression:"registerClient.name"}}),a("base-input",{attrs:{alternative:"",type:"text",placeholder:"Contacto principal","addon-left-icon":"fa fa-address-card","addon-right-icon":"fa fa-asterisk text-danger"},on:{change:function(e){return t.validRegister()}},model:{value:t.registerClient.id,callback:function(e){t.$set(t.registerClient,"id",e)},expression:"registerClient.id"}}),a("base-input",{attrs:{alternative:"",type:"text",placeholder:"Contacto adicional","addon-left-icon":"fa fa-address-card","addon-right-icon":"fas fa-plus text-default"},model:{value:t.registerClient.contactOne,callback:function(e){t.$set(t.registerClient,"contactOne",e)},expression:"registerClient.contactOne"}}),a("base-input",{attrs:{alternative:"",type:"text",placeholder:"Contacto adicional","addon-left-icon":"fa fa-address-card","addon-right-icon":"fas fa-plus text-default"},model:{value:t.registerClient.contactTwo,callback:function(e){t.$set(t.registerClient,"contactTwo",e)},expression:"registerClient.contactTwo"}}),a("base-checkbox",{staticClass:"mb-3",model:{value:t.registerClient.discount,callback:function(e){t.$set(t.registerClient,"discount",e)},expression:"registerClient.discount"}},[t._v("\n                        Descuento de nuevo cliente\n                    ")]),a("vue-single-select",{attrs:{options:t.clientsNames,placeholder:"Recomendador"},model:{value:t.registerClient.recommender,callback:function(e){t.$set(t.registerClient,"recommender",e)},expression:"registerClient.recommender"}}),a("div",{staticClass:"text-center"},[0==t.registerClient.valid?a("base-button",{staticClass:"my-4",attrs:{type:"primary",disabled:""}},[t._v(t._s(t.tipeForm))]):a("base-button",{staticClass:"my-4",attrs:{type:"primary"},on:{click:function(e){return t.registerClients()}}},[t._v(t._s(t.tipeForm))])],1)],1)]],2)],1),a("modal",{attrs:{show:t.modals.modal2,gradient:t.modals.type,"modal-classes":"modal-danger modal-dialog-centered"},on:{"update:show":function(e){return t.$set(t.modals,"modal2",e)}}},[a("div",{staticClass:"py-3 text-center"},[a("i",{class:t.modals.icon}),a("h1",{staticClass:"heading mt-5"},[t._v(t._s(t.modals.message))])])]),a("modal",{attrs:{show:t.modals.modal3,"modal-classes":"modal-dialog-centered"},on:{"update:show":function(e){return t.$set(t.modals,"modal3",e)}}},[a("div",{staticClass:"py-3 text-center"},[a("h1",{staticClass:"heading mt-5"},[t._v("¿Seguro que desea confirmar este pedido?")]),a("base-button",{staticClass:"my-4",attrs:{type:"success"},on:{click:function(e){return t.confirmar()}}},[t._v("Si")]),a("base-button",{staticClass:"my-4",attrs:{type:"danger"},on:{click:function(e){t.modals.modal3=!1,t.idPedido=""}}},[t._v("No")])],1)]),t.successRegister?a("base-alert",{staticClass:"positionAlert",attrs:{type:"success"}},[a("strong",[t._v("Registrado!")]),t._v(" Has registrado al cliente con exito!\n    ")]):t._e(),a("vue-bootstrap4-table",{staticClass:"tableClient",attrs:{rows:t.rows,columns:t.columns,classes:t.classes,config:t.config},scopedSlots:t._u([{key:"Administrar",fn:function(e){return[a("b",[a("center",[t.validRoute("clientes","detalle")&&"Nconfirmado"==e.row.estado?a("base-button",{attrs:{size:"sm",type:"success",icon:"ni ni-check-bold"},on:{click:function(a){t.modals.modal3=!0,t.idPedido=e.row._id,t.identidadPedido=e.row.contacto,t.codePedido=e.row.codigo,t.articuloPedido=e.row.articulo,t.clientePedido=e.row.cliente}}},[t._v("Confirmar")]):"usado"==e.row.estado?a("base-button",{attrs:{size:"sm",disabled:"",type:"danger"}},[t._v("Utilizado")]):a("base-button",{attrs:{disabled:"",size:"sm",type:"default"}},[t._v("Confirmado")])],1)],1)]}},{key:"date",fn:function(e){return[a("b",[a("center",[t._v("\n                   "+t._s(t.formatDate(e.row.date))+"\n                    \n                ")])],1)]}},{key:"pagination-info",fn:function(e){return[t._v("\n            Actuales "+t._s(e.currentPageRowsLength)+" | \n            Registros totales "+t._s(e.originalRowsLength)+"\n        ")]}},{key:"selected-rows-info",fn:function(e){return[t._v("\n            Total Number of rows selected : "+t._s(e.selectedItemsCount)+"\n        ")]}}])})],1)},n=[],s=(a("7f7f"),a("bd86")),i=a("bc3a"),r=a.n(i),l=a("a5e9"),c=a.n(l),d=a("12f9"),u=a("e366"),m=a("04e1"),f=a.n(m),p=a("41cb"),h={components:{VueBootstrap4Table:d["a"]},data:function(){var t;return{auth:[],idPedido:"",identidadPedido:"",codePedido:"",articuloPedido:"",clientePedido:"",successRegister:!1,clientsNames:[],tipeForm:"",registerClient:{name:"",id:"",contactOne:"",contactTwo:"",recommender:null,discount:!1,valid:!1,valid2:!1,recommenders:"",lastDate:"",date:"",participation:0},modals:{modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""},rows:[],columns:[{label:"Fecha",name:"date",sort:!0,slot_name:"date"},{label:"N° de pedido",name:"nPedido",sort:!0},{label:"Cliente",name:"cliente",sort:!0},{label:"Contacto",name:"contacto",sort:!0},{label:"Articulo",name:"articulo",sort:!0},{label:"Total",name:"total",sort:!0},{label:"Administrar",name:"_id",sort:!1,slot_name:"Administrar"}],config:(t={card_title:"Tabla de pedidos",checkbox_rows:!1,rows_selectable:!0,highlight_row_hover_color:"rgba(238, 238, 238, 0.623)"},Object(s["a"])(t,"rows_selectable",!0),Object(s["a"])(t,"per_page_options",[5,10,20,30,40,50,80,100]),Object(s["a"])(t,"global_search",{placeholder:"Filtre sus pedidos",visibility:!0,case_sensitive:!1}),Object(s["a"])(t,"show_refresh_button",!1),Object(s["a"])(t,"show_reset_button",!1),Object(s["a"])(t,"selected_rows_info",!0),Object(s["a"])(t,"preservePageOnDataChange",!0),Object(s["a"])(t,"pagination_info",!0),t),classes:{table:"table-bordered table-striped"}}},beforeCreate:function(){localStorage.getItem("userToken")||(this.$swal({type:"error",title:"URL restringida",showConfirmButton:!1,timer:1500}),p["a"].push({name:"login"}))},created:function(){this.getClients(),this.getToken()},methods:Object(s["a"])({getToken:function(){var t=localStorage.userToken,e=f()(t);this.auth=e.access,console.log(this.auth)},getClients:function(){var t=this;r.a.get(c.a.endpointTarget+"/pedidos").then((function(e){console.log(e.data),t.rows=e.data}))},registerClients:function(){var t=this;console.log(this.registerClient.recommender);var e=this.registerClient.discount?0:1;r.a.post(c.a.endpointTarget+"/pedidos",{nombre:this.registerClient.name,identidad:this.registerClient.id,recomendador:this.registerClient.recommender,correoCliente:this.registerClient.contactOne,instagramCliente:this.registerClient.contactTwo,ifCheck:e}).then((function(e){"Registrado"==e.data.status?(t.modals={modal2:!0,message:"Se registro el cliente con exito",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""},t.initialState(1),t.getClients(),u["a"].$emit("reloadClients","reload")}),1500)):(t.modals={modal2:!0,message:"El cliente ya existe",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),1500))}))},validRegister:function(){""!=this.registerClient.name&&""!=this.registerClient.id?this.registerClient.valid=!0:this.registerClient.valid=!1},MaysPrimera:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},initialState:function(t){this.registerClient={name:"",id:"",contactOne:"",discount:!1,contactTwo:"",recommender:null,valid:!1},1==t&&(this.modals={modal1:!1,modal2:!1,modal3:!1}),2==t&&(this.tipeForm="Registrar"),3==t&&(this.tipeForm="Editar")},pushData:function(t,e,a,o,n,s,i,r,l,c){this.registerClient={name:t,id:e,contactOne:a,discount:!1,contactTwo:o,recommender:s,valid:!0,valid2:!0,recommenders:i,lastDate:this.formatDate(r),date:this.formatDate(l),participation:n,_id:c}},formatDate:function(t){var e=new Date(t);return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()+"  ("+e.getHours()+":"+e.getMinutes()+")"},deleteClient:function(t){var e=this;this.$swal({title:"¿Está seguro de borrar el cliente?",text:"No puedes revertir esta acción",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy seguro",cancelButtonText:"No, evitar acción",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value?r.a.put(c.a.endpointTarget+"/clients/deleteClient/"+t).then((function(t){"ok"==t.data.status&&(e.modals={modal2:!0,message:"Cliente borrado con exito",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){e.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""},e.getClients(),u["a"].$emit("reloadClients","reload")}),1500))})):(e.modals={modal2:!0,message:"Acción cancelada",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){e.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),1500))}))},clientEdit:function(){var t=this;r.a.put(c.a.endpointTarget+"/clients/"+this.registerClient._id,{nombreClienteEditar:this.registerClient.name,identidadClienteEditar:this.registerClient.id,correoClienteEditar:this.registerClient.contactOne,instagramClienteEditar:this.registerClient.contactTwo}).then((function(e){console.log(e),"Servicio actualizado"==e.data.status?(t.modals={modal2:!0,message:"el cliente editó con exito",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""},t.getClients(),t.initialState(1),u["a"].$emit("reloadClients","reload")}),1500)):(t.modals={modal2:!0,message:"El cliente ya existe",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),1500))}))},showFilter:function(){$(".tableClient .vbt-table-tools").toggle()},validRoute:function(t,e){for(var a=0;a<this.auth.length;a++){var o=this.auth[a];if(o.ruta==t)for(var n=0;n<o.validaciones.length;n++)if(e==o.validaciones[n])return!0}},selectTemplate:function(t){this.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""},setTimeout((function(){localStorage.setItem("selectTemplate",t),p["a"].push({path:"Correo"})}),200)},confirmar:function(){var t=this;console.log(this.identidadPedido+"  -  "+this.codePedido),r.a.put(c.a.endpointTarget+"/pedidos/"+this.idPedido,{nombreClienteEditar:this.registerClient.name,identidadClienteEditar:this.registerClient.id,correoClienteEditar:this.registerClient.contactOne,instagramClienteEditar:this.registerClient.contactTwo}).then((function(e){console.log(e),"Servicio actualizado"==e.data.status?(r.a.post(c.a.endpointTarget+"/pedidos/sendEmailPedido",{to:t.identidadPedido,code:t.codePedido,article:t.articuloPedido,client:t.clientePedido}),t.modals={modal2:!0,message:"Pedido confirmado",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""},t.getClients(),t.initialState(1),u["a"].$emit("reloadClients","reload")}),1500)):(t.modals={modal2:!0,message:"Falla de conexion a internet",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),1500))}))}},"formatDate",(function(t){var e=new Date(t);return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()}))},v=h,g=(a("7201"),a("2877")),b=Object(g["a"])(v,o,n,!1,null,null,null);e["default"]=b.exports},"862b":function(t,e,a){"use strict";var o=a("e2c2"),n=a.n(o);n.a},"91b6":function(t,e,a){"use strict";e.__esModule=!0,e.default=void 0;var o=a("f0bd"),n=a("16ae"),s=a("24e2"),i=a("93e0");function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},o=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(a).filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})))),o.forEach((function(e){l(t,e,a[e])}))}return t}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}var d="undefined"!==typeof window&&"undefined"!==typeof document,u="__BV_ToolTip__",m={focus:!0,hover:!0,click:!0,blur:!0};function f(t){var e={};"string"===typeof t.value||"function"===typeof t.value?e.title=t.value:"object"===c(t.value)&&(e=r({},e,t.value)),t.arg&&(e.container="#".concat(t.arg)),(0,s.keys)(t.modifiers).forEach((function(t){if(/^html$/.test(t))e.html=!0;else if(/^nofade$/.test(t))e.animation=!1;else if(/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/.test(t))e.placement=t;else if(/^(window|viewport)$/.test(t))e.boundary=t;else if(/^d\d+$/.test(t)){var a=parseInt(t.slice(1),10)||0;a&&(e.delay=a)}else if(/^o-?\d+$/.test(t)){var o=parseInt(t.slice(1),10)||0;o&&(e.offset=o)}}));var a={},o="string"===typeof e.trigger?e.trigger.trim().split(/\s+/):[];return o.forEach((function(t){m[t]&&(a[t]=!0)})),(0,s.keys)(m).forEach((function(e){t.modifiers[e]&&(a[e]=!0)})),e.trigger=(0,s.keys)(a).join(" "),"blur"===e.trigger&&(e.trigger="focus"),e.trigger||delete e.trigger,e}function p(t,e,a){d&&(o.default?t[u]?t[u].updateConfig(f(e)):t[u]=new n.default(t,f(e),a.context.$root):(0,i.default)("v-b-tooltip: Popper.js is required for tooltips to work"))}function h(t){d&&t[u]&&(t[u].destroy(),t[u]=null,delete t[u])}var v={bind:function(t,e,a){p(t,e,a)},inserted:function(t,e,a){p(t,e,a)},update:function(t,e,a){e.value!==e.oldValue&&p(t,e,a)},componentUpdated:function(t,e,a){e.value!==e.oldValue&&p(t,e,a)},unbind:function(t){h(t)}};e.default=v},"93e0":function(t,e,a){"use strict";e.__esModule=!0,e.default=void 0;var o=function(t){console.warn("[BootstrapVue warn]: ".concat(t))},n=o;e.default=n},"9cc6":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"pb-6 pb-8 pt-5 pt-md-8",attrs:{type:"gradient-success"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-lg-6"},[a("stats-card",{staticClass:"mb-4 mb-xl-0",attrs:{title:"Total traffic",type:"gradient-red","sub-title":"350,897",icon:"ni ni-active-40"}},[a("template",{slot:"footer"},[a("span",{staticClass:"text-success mr-2"},[a("i",{staticClass:"fa fa-arrow-up"}),t._v(" 3.48%")]),a("span",{staticClass:"text-nowrap"},[t._v("Since last month")])])],2)],1),a("div",{staticClass:"col-xl-3 col-lg-6"},[a("stats-card",{staticClass:"mb-4 mb-xl-0",attrs:{title:"Total traffic",type:"gradient-orange","sub-title":"2,356",icon:"ni ni-chart-pie-35"}},[a("template",{slot:"footer"},[a("span",{staticClass:"text-success mr-2"},[a("i",{staticClass:"fa fa-arrow-up"}),t._v(" 12.18%")]),a("span",{staticClass:"text-nowrap"},[t._v("Since last month")])])],2)],1),a("div",{staticClass:"col-xl-3 col-lg-6"},[a("stats-card",{staticClass:"mb-4 mb-xl-0",attrs:{title:"Sales",type:"gradient-green","sub-title":"924",icon:"ni ni-money-coins"}},[a("template",{slot:"footer"},[a("span",{staticClass:"text-danger mr-2"},[a("i",{staticClass:"fa fa-arrow-down"}),t._v(" 5.72%")]),a("span",{staticClass:"text-nowrap"},[t._v("Since last month")])])],2)],1),a("div",{staticClass:"col-xl-3 col-lg-6"},[a("stats-card",{staticClass:"mb-4 mb-xl-0",attrs:{title:"Performance",type:"gradient-info","sub-title":"49,65%",icon:"ni ni-chart-bar-32"}},[a("template",{slot:"footer"},[a("span",{staticClass:"text-success mr-2"},[a("i",{staticClass:"fa fa-arrow-up"}),t._v(" 54.8%")]),a("span",{staticClass:"text-nowrap"},[t._v("Since last month")])])],2)],1)])]),a("div",{staticClass:"container-fluid mt--7"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card shadow"},[t._m(0),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row icon-examples"},t._l(t.icons,(function(e,o){return a("div",{key:e.name+o,staticClass:"col-lg-3 col-md-6"},[a("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}},{name:"clipboard",rawName:"v-clipboard:copy",value:e.name,expression:"icon.name",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticClass:"btn-icon-clipboard",attrs:{type:"button",title:e.name,"data-clipboard-text":"air-baloon"}},[a("div",[a("i",{class:e.name}),a("span",[t._v(t._s(e.name.substring(6)))])])])])})),0)])])])])])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-transparent"},[a("h3",{staticClass:"mb-0"},[t._v("Icons")])])}],s=a("2b0e"),i=a("4eb5"),r=a.n(i),l=a("2eee"),c=a.n(l);s["default"].use(r.a);var d={directives:{"b-tooltip":c.a},data:function(){return{icons:[{name:"ni ni-active-40"},{name:"ni ni-air-baloon"},{name:"ni ni-album-2"},{name:"ni ni-align-center"},{name:"ni ni-align-left-2"},{name:"ni ni-ambulance"},{name:"ni ni-app"},{name:"ni ni-archive-2"},{name:"ni ni-atom"},{name:"ni ni-badge"},{name:"ni ni-bag-17"},{name:"ni ni-basket"},{name:"ni ni-bell-55"},{name:"ni ni-bold-down"},{name:"ni ni-bold-left"},{name:"ni ni-bold-right"},{name:"ni ni-bold-up"},{name:"ni ni-bold"},{name:"ni ni-book-bookmark"},{name:"ni ni-books"},{name:"ni ni-box-2"},{name:"ni ni-briefcase-24"},{name:"ni ni-building"},{name:"ni ni-bulb-61"},{name:"ni ni-bullet-list-67"},{name:"ni ni-bus-front-12"},{name:"ni ni-button-pause"},{name:"ni ni-button-play"},{name:"ni ni-button-power"},{name:"ni ni-calendar-grid-58"},{name:"ni ni-camera-compact"},{name:"ni ni-caps-small"},{name:"ni ni-cart"},{name:"ni ni-chart-bar-32"},{name:"ni ni-chart-pie-35"},{name:"ni ni-chat-round"},{name:"ni ni-check-bold"},{name:"ni ni-circle-08"},{name:"ni ni-cloud-download-95"},{name:"ni ni-cloud-upload-96"},{name:"ni ni-compass-04"},{name:"ni ni-controller"},{name:"ni ni-credit-card"},{name:"ni ni-curved-next"},{name:"ni ni-delivery-fast"},{name:"ni ni-diamond"},{name:"ni ni-email-83"},{name:"ni ni-fat-add"},{name:"ni ni-fat-delete"},{name:"ni ni-fat-remove"},{name:"ni ni-favourite-28"},{name:"ni ni-folder-17"},{name:"ni ni-glasses-2"},{name:"ni ni-hat-3"},{name:"ni ni-headphones"},{name:"ni ni-html5"},{name:"ni ni-istanbul"},{name:"ni ni-circle-08"},{name:"ni ni-key-25"},{name:"ni ni-laptop"},{name:"ni ni-like-2"},{name:"ni ni-lock-circle-open"},{name:"ni ni-map-big"},{name:"ni ni-mobile-button"},{name:"ni ni-money-coins"},{name:"ni ni-note-03"},{name:"ni ni-notification-70"},{name:"ni ni-palette"},{name:"ni ni-paper-diploma"},{name:"ni ni-pin-3"},{name:"ni ni-planet"},{name:"ni ni-ruler-pencil"},{name:"ni ni-satisfied"},{name:"ni ni-scissors"},{name:"ni ni-send"},{name:"ni ni-settings-gear-65"},{name:"ni ni-settings"},{name:"ni ni-single-02"},{name:"ni ni-single-copy-04"},{name:"ni ni-sound-wave"},{name:"ni ni-spaceship"},{name:"ni ni-square-pin"},{name:"ni ni-support-16"},{name:"ni ni-tablet-button"},{name:"ni ni-tag"},{name:"ni ni-tie-bow"},{name:"ni ni-time-alarm"},{name:"ni ni-trophy"},{name:"ni ni-tv-2"},{name:"ni ni-umbrella-13"},{name:"ni ni-user-run"},{name:"ni ni-vector"},{name:"ni ni-watch-time"},{name:"ni ni-world"},{name:"ni ni-zoom-split-in"},{name:"ni ni-collection"},{name:"ni ni-image"},{name:"ni ni-shop"},{name:"ni ni-ungroup"},{name:"ni ni-world-2"},{name:"ni ni-ui-04"}]}},methods:{onCopy:function(){this.$notify({type:"success",title:"Copied to clipboard"})}}},u=d,m=a("2877"),f=Object(m["a"])(u,o,n,!1,null,null,null);e["default"]=f.exports},a290:function(t,e,a){},a55b:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-5 col-md-7"},[a("div",{staticClass:"card bg-secondary shadow border-0"},[a("div",{staticClass:"card-body px-lg-5 py-lg-5"},[t._m(0),a("form",{staticClass:"mt-3",attrs:{role:"form"}},[a("base-input",{staticClass:"input-group-alternative mt-4 mb-3",attrs:{placeholder:"Correo","addon-left-icon":"ni ni-email-83"},model:{value:t.model.email,callback:function(e){t.$set(t.model,"email",e)},expression:"model.email"}}),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Contraseña",type:"password","addon-left-icon":"ni ni-lock-circle-open"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}}),a("div",{staticClass:"text-center"},[a("base-button",{staticClass:"my-2",attrs:{type:"default"},on:{click:function(e){return t.login()}}},[t._v("Ingresar")]),a("br")],1)],1)])]),t._m(1)]),a("modal",{attrs:{show:t.modals.modal2,"body-classes":"p-4","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(e){return t.$set(t.modals,"modal2",e)}}},[a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-muted text-center mb-3",staticStyle:{"margin-top":"-15% !important"}},[a("h3",[t._v("Confirme su correo")])])],[a("form",{attrs:{role:"form"}},[a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Correo electronico registrado","addon-left-icon":"ni ni-single-copy-04"},model:{value:t.emailRenew,callback:function(e){t.emailRenew=e},expression:"emailRenew"}}),a("div",{staticClass:"text-center"},[a("base-button",{attrs:{type:"primary"},on:{click:t.SendNewPass}},[t._v("Enviar")])],1)],1)]],2)],1),a("modal",{attrs:{show:t.modals.modal,gradient:t.modals.type,"modal-classes":"modal-danger modal-dialog-centered"},on:{"update:show":function(e){return t.$set(t.modals,"modal",e)}}},[a("div",{staticClass:"py-3 text-center"},[a("i",{class:t.modals.icon}),a("h1",{staticClass:"heading mt-5"},[t._v(t._s(t.modals.message))])])])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn-wrapper text-center mb-4"},[a("span",{staticClass:"mb-5"},[a("img",{staticStyle:{width:"30%"},attrs:{src:"img/brand/syswa-isotipo.png"}})]),a("br"),a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-6"})])}],s=a("bc3a"),i=a.n(s),r=a("41cb"),l=a("a5e9"),c=a.n(l),d=a("e366"),u=a("04e1"),m=a.n(u),f={name:"login",data:function(){return{model:{email:"",password:""},modals:{modal:!1,modal2:!1,message:"",icon:"",type:""},emailRenew:""}},beforeCreate:function(){localStorage.removeItem("userToken"),localStorage.removeItem("nombre"),localStorage.removeItem("apellido"),localStorage.removeItem("image"),localStorage.removeItem("email"),localStorage.removeItem("imageUser"),localStorage.removeItem("status")},methods:{login:function(){var t=this;i.a.post(c.a.endpointTarget+"/users/login",{email:this.model.email,password:this.model.password}).then((function(e){if("pass incorrecto"==e.data.error)t.$swal({type:"error",title:"Contraseña incorrecta",showConfirmButton:!1,timer:1500});else if("User does not exist"==e.data.error)t.$swal({type:"error",title:"No esta registrado",showConfirmButton:!1,timer:1500});else{localStorage.setItem("userToken",e.data.token),t.email="",t.password="";var a=localStorage.userToken,o=m()(a);localStorage.setItem("nombre",o.first_name),localStorage.setItem("apellido",o.last_name),localStorage.setItem("imageUser",o.userImage),localStorage.setItem("showNav",!0),localStorage.setItem("_id",o._id),localStorage.setItem("status",o.status),r["a"].push({path:"/Agendamiento"}),console.log(o.access),t.emitMethod(o.status)}}))},emitMethod:function(t){console.log(t),d["a"].$emit("loggedin",t),localStorage.setItem("logged-in",t)},SendNewPass:function(){var t=this;""==this.emailRenew?(this.modals={modal:!0,message:"Debe llenar el dato de correo",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){t.modals={modal:!1,modal2:!0,message:"",icon:"",type:""}}),1500)):i.a.post(c.a.endpointTarget+"/users/sendNewPass",{email:this.emailRenew}).then((function(e){"ok"==e.data.status?(t.modals={modal:!0,message:"Se le envio un correo, con la contraseña provicional",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){t.modals={modal:!1,modal2:!1,message:"",icon:"",type:""}}),2500),t.emailRenew=""):(t.modals={modal:!0,message:"El correo no esta registrado",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){t.modals={modal:!1,modal2:!0,message:"",icon:"",type:""}}),2e3))}))}}},p=f,h=a("2877"),v=Object(h["a"])(p,o,n,!1,null,null,null);e["default"]=v.exports},bb2f:function(t,e,a){"use strict";e.__esModule=!0,e.concat=e.arrayIncludes=e.isArray=e.from=void 0,Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"===typeof e||"[object Function]"===t.call(e)},a=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},o=Math.pow(2,53)-1,n=function(t){return Math.min(Math.max(a(t),0),o)};return function(t){var a=this,o=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var s,i=arguments.length>1?arguments[1]:void 0;if("undefined"!==typeof i){if(!e(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(s=arguments[2])}var r,l=n(o.length),c=e(a)?Object(new a(l)):new Array(l),d=0;while(d<l)r=o[d],c[d]=i?"undefined"===typeof s?i(r,d):i.call(s,r,d):r,d+=1;return c.length=l,c}}()),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),a=e.length>>>0;if("function"!==typeof t)throw new TypeError("predicate must be a function");var o=arguments[1],n=0;while(n<a){var s=e[n];if(t.call(o,s,n,e))return s;n++}}}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var o=Array.from;e.from=o;var n=Array.isArray;e.isArray=n;var s=function(t,e){return-1!==t.indexOf(e)};e.arrayIncludes=s;var i=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return Array.prototype.concat.apply([],e)};e.concat=i},cc15:function(t,e,a){"use strict";var o=a("cd24"),n=a.n(o);n.a},cd24:function(t,e,a){},d636:function(t,e,a){"use strict";a.r(e);var o,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-5 pt-5 pt-lg-8 d-flex align-items-center",staticStyle:{"min-height":"50px","background-image":"url(img/theme/reportes.jpg)","background-size":"cover","background-position":"center"}},[a("span",{staticClass:"mask  opacity-7",staticStyle:{"background-color":"#172b4d !important"}}),a("div",{staticClass:"container-fluid d-flex align-items-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h1",{staticClass:"display-2 hidden text-white"},[t._v("Reporte de "+t._s(t.nameLender)+" ")]),t.validRoute("empleados","detalle")?a("base-button",{attrs:{type:"success"},on:{click:function(e){t.modals.modal2=!0}}},[t._v("Datos avanzados")]):a("base-button",{attrs:{disabled:"",type:"success"}},[t._v("Datos avanzados")]),t.validRoute("empleados","cerrar ventas")?a("base-button",{attrs:{type:"danger"},on:{click:t.printReport}},[t._v("Cerrar ventas")]):a("base-button",{attrs:{disabled:"",type:"danger"}},[t._v("Cerrar ventas")]),a("base-button",{staticClass:"btn btn-primary text-white cursor-pointer",on:{click:t.back}},[t._v("Regresar")])],1)])])]),a("center",[a("h1",{staticClass:"display-2 pb-3 mb-3 hide text-center text-white"},[t._v("Reporte de cierre ")])]),a("modal",{attrs:{show:t.modals.modal1,gradient:t.modals.type,"modal-classes":"modal-danger modal-dialog-centered"},on:{"update:show":function(e){return t.$set(t.modals,"modal1",e)}}},[a("div",{staticClass:"py-3 text-center"},[a("i",{class:t.modals.icon}),a("h1",{staticClass:"heading mt-5"},[t._v(t._s(t.modals.message))])])]),a("modal",{attrs:{show:t.modals.modal2,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(e){return t.$set(t.modals,"modal2",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 "}},[[a("div",{staticClass:"text-muted text-center mb-3",staticStyle:{"margin-top":"-15% !important"}},[t._v("\n                    Datos del mes\n                ")])],[a("tabs",{staticClass:"flex-column flex-md-row",attrs:{fill:""}},[a("card",{attrs:{shadow:""}},[a("tab-pane",[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"ni ni-cloud-upload-96"}),t._v("\n                                Datos\n                            ")]),a("div",{staticClass:"description"},[a("base-button",{staticClass:"w-100 mb-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Fecha")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":".9em"},attrs:{type:"success"}},[t._v(t._s(t.fecha))])],1),a("base-button",{staticClass:"w-100 mb-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Nombre")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":".9em"},attrs:{type:"success"}},[t._v(t._s(t.nameLender))])],1),a("base-button",{staticClass:"w-100 mb-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Adelantos")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":".9em"},attrs:{type:"success"}},[t._v(t._s(t.formatPrice(t.advancement)))])],1),a("base-button",{staticClass:"w-100 mb-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Bonos")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":".9em"},attrs:{type:"success"}},[t._v(t._s(t.formatPrice(t.lenderBonus)))])],1),a("base-button",{staticClass:"w-100 mb-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Comisión total")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":".9em"},attrs:{type:"success"}},[t._v(t._s(t.formatPrice(t.totalComission)))])],1),a("base-button",{staticClass:"w-100 mb-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v("Total")]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":".9em"},attrs:{type:"success"}},[t._v(t._s(t.formatPrice(t.totalComission+t.lenderBonus-t.advancement)))])],1)],1)]),t.validRoute("empleados","cerrar ventas")?a("tab-pane",{attrs:{title:"Profile"}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"ni ni-bell-55 mr-2"}),t._v("\n                                Adelantos o bonos\n                            ")]),a("form",{attrs:{role:"form"}},[a("base-checkbox",{staticClass:"mb-3",model:{value:t.bonus,callback:function(e){t.bonus=e},expression:"bonus"}},[t._v("\n                                    ¿Esta registrando un bono?\n                                ")]),a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Razón","addon-left-icon":"ni ni-single-copy-04"},on:{keyup:function(e){return t.validRegister()}},model:{value:t.dataExpense.reason,callback:function(e){t.$set(t.dataExpense,"reason",e)},expression:"dataExpense.reason"}}),a("currency-input",{staticClass:"form-control mb-3",staticStyle:{"margin-top":"-10px"},attrs:{locale:"de","addon-left-icon":"ni ni-time-alarm"},on:{keyup:function(e){return t.validRegister()}},model:{value:t.dataExpense.amount,callback:function(e){t.$set(t.dataExpense,"amount",e)},expression:"dataExpense.amount"}}),a("base-input",{attrs:{"addon-left-icon":"ni ni-calendar-grid-58"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.focus,n=e.blur;return a("flat-picker",{staticClass:"form-control datepicker",attrs:{config:t.configDate,"aria-placeholder":"Seleccione una fecha"},on:{"on-open":o,"on-close":n},model:{value:t.dates.simple,callback:function(e){t.$set(t.dates,"simple",e)},expression:"dates.simple"}})}}],null,!1,2021394339)}),a("div",{staticClass:"text-center"},[t.dataExpense.valid?a("base-button",{attrs:{type:"primary"},on:{click:t.registerExpense}},[t._v("Registrar")]):a("base-button",{attrs:{type:"primary",disabled:""}},[t._v("Registrar")])],1)],1)]):t._e()],1)],1),a("vue-custom-scrollbar",{staticClass:"maxHeight"},[a("vue-bootstrap4-table",{attrs:{rows:t.lendeAdvancements,columns:t.columnsLender,classes:t.classes,config:t.configLender},scopedSlots:t._u([{key:"format-total",fn:function(e){return[a("span",[t._v(t._s(t.formatPrice(e.row.total)))])]}},{key:"format-date",fn:function(e){return[a("span",[t._v(t._s(t.formatDate(e.row.date)))])]}}])})],1)]],2)],1),a("modal",{attrs:{show:t.modals.modal3,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-sm"},on:{"update:show":function(e){return t.$set(t.modals,"modal3",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-muted text-center mb-3",staticStyle:{"margin-top":"-25%"}},[a("h3",[t._v("Servicios")])])],[a("div",{staticClass:"m-2 w-100"},t._l(t.dataDetail,(function(e){return a("badge",{key:e.servicio,staticClass:"w-100 text-default",attrs:{type:"primary"}},[t._v(t._s(e.servicio))])})),1)]],2)],1),a("div",{staticClass:"container-fluid hide"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("dt",{staticClass:"col-sm-12"},[t._v("Nombre del empleado: "),a("b",[t._v(t._s(t.nameLender))])]),a("dt",{staticClass:"col-sm-12"},[t._v("Fecha de Inicio: "),a("b",[t._v(t._s(t.formatDate(t.dateInit)))])]),a("dt",{staticClass:"col-sm-12"},[t._v("Fecha de Cierre: "),a("b",[t._v(t._s(t.formatDate(new Date)))])]),a("dt",{staticClass:"col-sm-12"},[t._v("Servicios totales del mes: "),a("b",[t._v(t._s(t.sales.length))])]),a("dt",{staticClass:"col-sm-12"},[t._v("Servicios totales: "),a("b",[t._v(t._s(t.salesTotal.length))])])]),a("div",{staticClass:"col-6"},[a("dt",{staticClass:"col-sm-12"},[t._v("Comisión Total: "),a("b",[t._v(t._s(t.formatPrice(t.totalComission)))])]),a("dt",{staticClass:"col-sm-12"},[t._v("Total de Adelantos: "),a("b",[t._v(t._s(t.formatPrice(t.advancement)))])]),a("dt",{staticClass:"col-sm-12"},[t._v("Total de Bonos: "),a("b",[t._v(t._s(t.formatPrice(t.lenderBonus)))])]),a("dt",{staticClass:"col-sm-12"},[t._v("Total: "),a("b",[t._v(t._s(t.formatPrice(t.totalComission+t.lenderBonus-t.advancement)))])]),a("dt",{staticClass:"col-sm-12"},[t._v("Porcentaje de Servicios Realizados: "),a("b",[t._v(t._s(100*t.sales.length/t.salesTotal.length)+"%")])])])])]),a("vue-bootstrap4-table",{staticClass:"printPadding",attrs:{rows:t.sales,columns:t.columns,classes:t.classes,id:"tbH",config:t.config},scopedSlots:t._u([{key:"format-total",fn:function(e){return[a("span",[t._v(t._s(t.formatPrice(e.row.total)))])]}},{key:"format-comission",fn:function(e){return[a("span",[t._v(t._s(t.formatPrice(e.row.comision)))])]}},{key:"format-date",fn:function(e){return[a("span",[t._v(t._s(t.formatDate(e.row.fecha)))])]}},{key:"reportSale",fn:function(e){return[a("base-button",{attrs:{icon:"ni ni-bullet-list-67",size:"sm",type:"primary"},on:{click:function(a){return t.servicesSale(e.row.servicios)}}},[t._v("Servicios")])]}},{key:"cancelSale",fn:function(e){return[a("base-button",{attrs:{block:"",size:"sm",type:"default"},on:{click:function(a){return t.cancelSale(e.row._id,e.row.servicios,e.row.EmployeComision)}}},[t._v("Anular")])]}},{key:"pagination-info",fn:function(e){return[t._v("\n            Actuales "+t._s(e.currentPageRowsLength)+" | \n            Filtrados "+t._s(e.filteredRowsLength)+" | \n            Registros totales "+t._s(e.originalRowsLength)+"\n        ")]}},{key:"selected-rows-info",fn:function(e){return[t._v("\n            Total Number of rows selected : "+t._s(e.selectedItemsCount)+"\n        ")]}},{key:"result-info",fn:function(e){return[t._v("\n            Si? : "+t._s(e.selectedItemsCount)+"\n        ")]}}])}),a("div",{staticClass:"container-fluid hide"},[a("vue-bootstrap4-table",{attrs:{rows:t.lendeAdvancements,columns:t.columnsLender,classes:t.classes,config:t.configLender},scopedSlots:t._u([{key:"format-total",fn:function(e){return[a("span",[t._v(t._s(t.formatPrice(e.row.total)))])]}},{key:"format-date",fn:function(e){return[a("span",[t._v(t._s(t.formatDate(e.row.date)))])]}}])}),a("vue-bootstrap4-table",{attrs:{rows:t.lenderBonuses,columns:t.columnsBonuses,classes:t.classes,config:t.configBonuses},scopedSlots:t._u([{key:"format-reason",fn:function(e){return[a("span",[t._v(t._s(e.row.expense.split(" / ")[0]))])]}},{key:"format-total",fn:function(e){return[a("span",[t._v(t._s(t.formatPrice(e.row.figure)))])]}},{key:"format-date",fn:function(e){return[a("span",[t._v(t._s(t.formatDate(e.row.date)))])]}}])})],1)],1)},s=[],i=(a("6b54"),a("a481"),a("96cf"),a("3b8d")),r=a("bd86"),l=a("bc3a"),c=a.n(l),d=a("41cb"),u=a("a5e9"),m=a.n(u),f=a("04e1"),p=a.n(f),h=a("12f9"),v=a("4b70"),g=a.n(v),b=a("c38f"),y=a.n(b),C=a("8055"),_=a.n(C),w=(a("0952"),{components:{VueBootstrap4Table:h["a"],vueCustomScrollbar:g.a,flatPicker:y.a},data:function(){var t;return{socket:_()(m.a.endpointTarget),auth:[],id:localStorage.getItem("idReportEmploye"),sales:[],salesTotal:[],dateInit:"",fecha:"",lenderBonuses:[],code:"",dataDetail:[],nameLender:"",totalComission:0,lenderBonus:0,advancement:"",totalSale:0,modals:{modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""},configDate:{allowInput:!0,minDate:new Date},dates:{simple:new Date},dataExpense:{reason:"",amount:0,valid:!1},bonus:!1,lendeAdvancements:[],columnsLender:[{label:"Razón",name:"reason",sort:!0},{label:"Total",name:"total",slot_name:"format-total",sort:!1},{label:"Fecha",name:"date",slot_name:"format-date",sort:!1}],columnsBonuses:[{label:"Razón",name:"expense",slot_name:"format-reason",sort:!0},{label:"Total",name:"Figure",slot_name:"format-total",sort:!1},{label:"Fecha",name:"date",slot_name:"format-date",sort:!1}],configBonuses:{card_title:"Bonos",checkbox_rows:!1,rows_selectable:!1,highlight_row_hover_color:"rgba(238, 238, 238, 0.623)",per_page_options:[5,10,20,30,40,50,80,100],show_refresh_button:!1,show_reset_button:!1,selected_rows_info:!1,preservePageOnDataChange:!0,pagination_info:!1,pagination:!1,global_search:{placeholder:"Busque el prestador",visibility:!1,case_sensitive:!1,showClearButton:!0,searchOnPressEnter:!1,searchDebounceRate:200}},configLender:{card_title:"Adelantos",checkbox_rows:!1,rows_selectable:!1,highlight_row_hover_color:"rgba(238, 238, 238, 0.623)",per_page_options:[5,10,20,30,40,50,80,100],show_refresh_button:!1,show_reset_button:!1,selected_rows_info:!1,preservePageOnDataChange:!0,pagination_info:!1,pagination:!1,global_search:{placeholder:"Busque el prestador",visibility:!1,case_sensitive:!1,showClearButton:!0,searchOnPressEnter:!1,searchDebounceRate:200}},columns:[{label:"Fecha",name:"fecha",slot_name:"format-date",sort:!0},{label:"Cliente",name:"cliente",sort:!0},{label:"Comisión",name:"comision",slot_name:"format-comission",sort:!0},{label:"Total",name:"total",slot_name:"format-total"},{label:"Detalle",name:"_id",slot_name:"reportSale"},{label:"Anular venta",name:"_id",slot_name:"cancelSale"}],config:(t={card_title:"Tabla de ventas",checkbox_rows:!1,rows_selectable:!0,highlight_row_hover_color:"rgba(238, 238, 238, 0.623)"},Object(r["a"])(t,"rows_selectable",!0),Object(r["a"])(t,"per_page_options",[5,10,20,30,40,50,80,100]),Object(r["a"])(t,"global_search",{placeholder:"Enter custom Search text",visibility:!1,case_sensitive:!1}),Object(r["a"])(t,"show_refresh_button",!1),Object(r["a"])(t,"show_reset_button",!1),Object(r["a"])(t,"selected_rows_info",!0),Object(r["a"])(t,"preservePageOnDataChange",!0),Object(r["a"])(t,"pagination_info",!0),t),classes:{table:"table-bordered table-striped"}}},beforeCreate:function(){localStorage.getItem("userToken")||(this.$swal({type:"error",title:"URL restringida",showConfirmButton:!1,timer:1500}),d["a"].push({name:"login"}))},created:function(){this.getData(),this.getAdvancements(),this.getToken(),this.getBonus(),$(document).ready((function(){setTimeout((function(){$("input[placeholder='Go to page']").hide()}),200)}))},methods:(o={getToken:function(){var t=localStorage.userToken,e=p()(t);this.auth=e.access},back:function(){window.history.go(-1)},servicesSale:function(t){this.dataDetail=t,this.modals.modal3=!0},cancelSale:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a,o){var n,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(o),t.next=3,c.a.put(m.a.endpointTarget+"/ventas/"+e,{employeComision:o});case 3:if(n=t.sent,"ok"!=n.data.status){t.next=15;break}return c.a.post(m.a.endpointTarget+"/inventario/nullSale",{array:a}),this.modals={modal1:!0,message:"¡Venta anulada!",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){i.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),1500),this.getData(),t.next=11,c.a.post(m.a.endpointTarget+"/notifications",{userName:localStorage.getItem("nombre")+" "+localStorage.getItem("apellido"),userImage:localStorage.getItem("imageUser"),detail:"Anuló una venta del día "+this.formatDate(this.arreglo.fecha),link:"Ventas"});case 11:s=t.sent,s&&this.socket.emit("sendNotification",s.data),t.next=17;break;case 15:this.modals={modal1:!0,message:"¡Error al anular!",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){i.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),1500);case 17:case"end":return t.stop()}}),t,this)})));function e(e,a,o){return t.apply(this,arguments)}return e}(),getAdvancements:function(){var t=this;c.a.get(m.a.endpointTarget+"/manicuristas/advancements/"+this.id).then((function(e){t.lendeAdvancements=[],t.lendeAdvancements=e.data})).catch((function(t){console.error(t)}))},getBonus:function(){var t=this;c.a.get(m.a.endpointTarget+"/manicuristas/getBonusByEmploye/"+this.id).then((function(e){console.log(e.data),t.lenderBonuses=[],t.lenderBonuses=e.data})).catch((function(t){console.error(t)}))},validRegister:function(){this.dataExpense.valid=""!=this.dataExpense.reason&&this.dataExpense.amount>0},registerExpense:function(){var t=this;c.a.post(m.a.endpointTarget+"/manicuristas/registerAdvancement",{reason:this.dataExpense.reason,id:this.id,name:this.nameLender,prest:this.code,total:this.dataExpense.amount,check:this.bonus,date:this.dates.simple}).then((function(e){"bonus"==e.data.status?(t.modals={modal1:!0,message:"Se registro el bono con exito",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),1500),t.bonus=!1,t.dataExpense.reason="",t.dataExpense.amount=0,t.dataExpense.valid=!1,t.getAdvancements(),t.getData()):(t.modals={modal1:!0,message:"Se registro el avance con exito",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),1500),t.getAdvancements(),t.getData())})).catch((function(t){console.log(t)}))},formatDate:function(t){var e=new Date(t);return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return"$ "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},getData:function(){var t=this,e=new Date;this.fecha=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),console.log(this.fecha),c.a.get(m.a.endpointTarget+"/manicuristas/justOneById/"+this.id).then((function(e){t.code=e.data._id,t.nameLender=e.data.nombre,t.totalComission=e.data.comision,t.lenderBonus=e.data.bonus,t.advancement=e.data.advancement;var a=e.data.nombre+":"+e.data.documento;c.a.get(m.a.endpointTarget+"/manicuristas/SalesByPrest/"+a).then((function(e){console.log(e),t.sales=e.data,t.dateInit=e.data[0].fecha;for(var a=0,o=0,n=0;n<e.data.length;n++)a=parseFloat(e.data[n].total)+parseFloat(a),o=parseFloat(e.data[n].comision)+parseFloat(o);t.totalSale=a})),c.a.get(m.a.endpointTarget+"/manicuristas/SalesByPrestAll/"+a).then((function(e){t.salesTotal=e.data}))})).catch((function(t){console.log(t)}))}},Object(r["a"])(o,"formatPrice",(function(t){var e=(t/1).toFixed(2).replace(".",",");return"$ "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")})),Object(r["a"])(o,"printReport",(function(){var t=this;this.$swal({title:"¿Estás seguro de hacer el Cierre?",type:"warning",showCancelButton:!0,confirmButtonText:"Si hacer Cierre",cancelButtonText:"No hacer Cierre",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(e){e.value?c.a.put(m.a.endpointTarget+"/manicuristas/ClosePrest/"+t.code).then((function(e){"ok"==e.data.status?(print(),setTimeout((function(){d["a"].push({path:"/Empleados"})}),1e3)):t.$swal("Error en el cierre","Hubo un error","error")})).catch((function(t){console.log(t)})):t.$swal("No se hizo el cierre","Aborto la acción","info")}))})),Object(r["a"])(o,"validRoute",(function(t,e){for(var a=0;a<this.auth.length;a++){var o=this.auth[a];if(o.ruta==t)for(var n=0;n<o.validaciones.length;n++)if(e==o.validaciones[n])return!0}})),o)}),k=w,x=(a("241e5"),a("2877")),T=Object(x["a"])(k,n,s,!1,null,null,null);e["default"]=T.exports},dc39:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-4 pt-2 pt-lg-4 d-flex align-items-center",staticStyle:{"min-height":"50px","background-image":"url(img/theme/clients.jpg)","background-size":"cover","background-position":"center top"}},[a("span",{staticClass:"mask  opacity-7",staticStyle:{"background-color":"#172b4d !important"}}),a("div",{staticClass:"container-fluid d-flex align-items-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-md-12",staticStyle:{display:"inline-block"}},[a("h1",{staticClass:"display-2 text-white w-100"},[t._v("Sección de ventas")]),t.validRoute("ventas","filtrar")?a("label",{staticClass:"text-white"},[t._v("Filtra tus ventas")]):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[t.validRoute("ventas","filtrar")?a("base-input",{attrs:{"addon-left-icon":"ni ni-calendar-grid-58"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.focus,n=e.blur;return a("flat-picker",{staticClass:"form-control datepicker",attrs:{config:t.configDatePicker},on:{"on-open":o,"on-close":n},model:{value:t.dates.range,callback:function(e){t.$set(t.dates,"range",e)},expression:"dates.range"}})}}],null,!1,125364662)}):t._e()],1),a("div",{staticClass:"col-md-2"},[t.validRoute("ventas","filtrar")?a("base-button",{attrs:{type:"default"},on:{click:t.filterSale}},[t._v("Filtrar")]):t._e()],1),a("div",{staticClass:"col-md-2"},[t.inspectorFilter?a("base-button",{attrs:{type:"secondary"},on:{click:function(e){return t.getSales("button")}}},[a("font-awesome-icon",{staticClass:"icons",staticStyle:{color:"#172b4d","font-size":"1em"},attrs:{icon:"redo"}})],1):t._e()],1),a("div",{staticClass:"col-md-4"},[t.validRoute("ventas","filtrar")?a("base-button",{staticClass:"excel-generate",attrs:{title:"Generar excel",icon:"ni ni-book-bookmark",type:"default"},on:{click:function(e){t.modals.modal3=!0}}}):t._e()],1)])])])])]),a("modal",{attrs:{show:t.modals.modal1,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(e){return t.$set(t.modals,"modal1",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-muted text-center mb-3",staticStyle:{"margin-top":"-15% !important"}},[a("h3",[t._v("Detalle de la venta")])])],[a("tabs",{staticClass:"flex-column flex-md-row",attrs:{fill:""}},[a("card",{attrs:{shadow:""}},[a("tab-pane",[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"ni ni-cloud-upload-96"}),t._v("\n                                Básicos\n                            ")]),a("div",{staticClass:"text-muted text-left"},[a("h3",[a("strong",[t._v("Fecha: ")]),t._v(t._s(t.formatDate(t.arreglo.fecha)))])]),a("div",{staticClass:"text-muted text-left"},[a("h3",[a("strong",[t._v("N° de Venta: ")]),t._v("V-"+t._s(t.arreglo.count))])]),a("div",{staticClass:"text-muted text-left"},[a("h3",[a("strong",[t._v("Prestador/es: "),a("br")]),t._l(t.arreglo.EmployeComision,(function(e){return a("span",{key:e},[t._v("("+t._s(e.employe)+" - "+t._s(t.formatPrice(e.comision))+") "),a("br")])}))],2)]),a("div",{staticClass:"text-muted text-left"},[a("h3",[a("strong",[t._v("Cliente/s: "),a("br")]),t._l(t.arreglo.cliente,(function(e){return a("span",{key:e},[t._v("("+t._s(e)+") "),a("br")])}))],2)]),a("hr"),a("div",{staticClass:"text-muted mt-2"},[a("h2",{staticClass:"text-center"},[t._v("Metodos de pago")]),t.arreglo.pagoEfectivo>0?a("h3",[a("strong",{staticClass:"text-left pl-5"},[t._v("Efectivo: ")]),a("span",{staticClass:"float-right pr-5"},[t._v(t._s(t.formatPrice(t.arreglo.pagoEfectivo))+" ")])]):t._e(),t.arreglo.pagoRedCDebito>0?a("h3",[a("strong",{staticClass:"text-left pl-5"},[t._v("Débito: ")]),a("span",{staticClass:"float-right pr-5"},[t._v(t._s(t.formatPrice(t.arreglo.pagoRedCDebito))+" ")])]):t._e(),t.arreglo.pagoRedCCredito>0?a("h3",[a("strong",{staticClass:"text-left pl-5"},[t._v("Crédito: ")]),a("span",{staticClass:"float-right pr-5"},[t._v(t._s(t.formatPrice(t.arreglo.pagoRedCCredito))+" ")])]):t._e(),t.arreglo.pagoTransf>0?a("h3",[a("strong",{staticClass:"text-left pl-5"},[t._v("transferencia: ")]),a("span",{staticClass:"float-right pr-5"},[t._v(t._s(t.formatPrice(t.arreglo.pagoTransf))+" ")])]):t._e(),t.arreglo.pagoOtros>0?a("h3",[a("strong",{staticClass:"text-left pl-5"},[t._v("Otros: ")]),a("span",{staticClass:"float-right pr-5"},[t._v(t._s(t.formatPrice(t.arreglo.pagoOtros))+" ")])]):t._e()])]),a("tab-pane",[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"ni ni-bell-55 mr-2"}),t._v("\n                                Avanzados\n                            ")]),a("div",{staticClass:"text-muted text-left"},[a("h3",[a("strong",[t._v("Servicios: ")]),t._l(t.arreglo.servicios,(function(e){return a("span",{key:e},[t._v("("+t._s(e.servicio)+") ")])}))],2)]),a("div",{staticClass:"text-muted"},[a("h2",{staticClass:"text-center"},[t._v("Montos")]),a("h3",[a("strong",{staticClass:"text-left"},[t._v("Descuentos "),a("br")]),t._l(t.arreglo.descuento,(function(e){return a("span",{key:e},[t._v("("+t._s(e)+")"),a("br")])}))],2),a("h3",[a("strong",{staticClass:"text-left"},[t._v("Comisión total: ")]),a("span",{staticClass:"float-right"},[t._v(t._s(t.formatPrice(t.arreglo.comision))+" ")])]),a("h3",[a("strong",{staticClass:"text-left"},[t._v("Diseño: ")]),a("span",{staticClass:"float-right"},[t._v(t._s(t.formatPrice(t.arreglo.design))+" ")])]),a("h3",[a("strong",{staticClass:"text-left"},[t._v("Local: ")]),a("span",{staticClass:"float-right"},[t._v(t._s(t.formatPrice(t.arreglo.ganancialocal))+" ")])]),a("h3",[a("strong",{staticClass:"text-left"},[t._v("Total: ")]),a("span",{staticClass:"float-right"},[t._v(t._s(t.formatPrice(t.arreglo.total))+" ")])])])])],1)],1),t.validRoute("ventas","filtrar")?[t.arreglo.status?a("base-button",{staticClass:"mt-2",attrs:{block:"",type:"default"},on:{click:function(e){return t.cancelSale(t.arreglo._id,t.arreglo.servicios)}}},[t._v("Anular venta")]):t._e()]:[t.arreglo.status?a("base-button",{staticClass:"mt-2",attrs:{disabled:"",block:"",type:"default"}},[t._v("Anular venta")]):t._e()]]],2)],1),a("modal",{attrs:{show:t.modals.modal3,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(e){return t.$set(t.modals,"modal3",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-muted text-center mb-3",staticStyle:{"margin-top":"-15% !important"}},[a("h3",[t._v("Aplica filtros para tu reporte")])])],[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",{attrs:{for:"date"}},[t._v("Filtra por fecha")]),a("base-input",{attrs:{"addon-left-icon":"ni ni-calendar-grid-58"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.focus,n=e.blur;return a("flat-picker",{staticClass:"form-control datepicker",attrs:{config:t.configDatePicker},on:{"on-open":o,"on-close":n},model:{value:t.dates.rangeExcel,callback:function(e){t.$set(t.dates,"rangeExcel",e)},expression:"dates.rangeExcel"}})}}])})],1),a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"lender"}},[t._v("¿Filtrar por prestadora en específico?")]),a("div",{on:{click:t.chooseLender}},[t.validClient?a("vue-single-select",{attrs:{options:t.lenderNames,placeholder:"Prestadoras"},model:{value:t.lenderSelect,callback:function(e){t.lenderSelect=e},expression:"lenderSelect"}}):a("vue-single-select",{staticClass:"bgcolor-danger",attrs:{options:t.lenderNames,placeholder:"Prestadoras",disabled:""},model:{value:t.lenderSelect,callback:function(e){t.lenderSelect=e},expression:"lenderSelect"}})],1)]),a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"lender"}},[t._v("¿Filtrar por cliente en específico?")]),a("div",{on:{click:t.chooseClient}},[t.validLender?a("vue-single-select",{attrs:{options:t.clientNames,placeholder:"Clientes"},model:{value:t.clientSelect,callback:function(e){t.clientSelect=e},expression:"clientSelect"}}):a("vue-single-select",{staticClass:"bgcolor-danger",attrs:{options:t.clientNames,placeholder:"Clientes",disabled:""},model:{value:t.clientSelect,callback:function(e){t.clientSelect=e},expression:"clientSelect"}})],1)]),a("div",{staticClass:"col-md-12"},[a("center",[a("base-button",{attrs:{type:"default"},on:{click:function(e){return t.generateExcel()}}},[t._v(" Generar\n                            ")])],1)],1)])]],2)],1),t.progress?a("vue-bootstrap4-table",{attrs:{rows:t.sales,columns:t.columns,classes:t.classes,config:t.configTable},scopedSlots:t._u([{key:"date-format",fn:function(e){return[t._v("\n            "+t._s(t.formatDate(e.row.fecha))+"\n        ")]}},{key:"lenderName",fn:function(e){return[t._v("\n            "+t._s(t.justName(e.row.manicurista))+"\n        ")]}},{key:"comission",fn:function(e){return[t._v("\n            "+t._s(t.formatPrice(e.row.comision))+"\n        ")]}},{key:"localGain",fn:function(e){return[t._v("\n            "+t._s(t.formatPrice(e.row.ganancialocal))+"\n        ")]}},{key:"client",fn:function(e){return[1==e.row.cliente.length?a("div",[t._v(t._s(e.row.cliente[0]))]):a("div",[a("center",[a("base-dropdown",[a("base-button",{staticClass:"dropdown-toggle",attrs:{slot:"title",type:"secondary"},slot:"title"},[t._v("\n                        Ver clientes\n                        ")]),t._l(e.row.cliente,(function(e){return a("div",{staticClass:"dropdown-item"},[t._v(t._s(e))])}))],2)],1)],1)]}},{key:"totalGain",fn:function(e){return[t._v("\n            "+t._s(t.formatPrice(e.row.total))+"\n        ")]}},{key:"reportSale",fn:function(e){return[t.validRoute("ventas","detalle")?a("center",[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Ver detalles")])]),e.row.status?a("base-button",{attrs:{icon:"ni ni-fat-add",size:"sm",type:"default"},on:{click:function(a){return t.dataReport(e.row._id)}}}):a("base-button",{attrs:{icon:"ni ni-fat-add",size:"sm",type:"danger"},on:{click:function(a){return t.dataReport(e.row._id)}}})],2)],1):a("center",[e.row.status?a("base-button",{attrs:{icon:"ni ni-fat-add",disabled:"",size:"sm",type:"default"},on:{click:function(a){return t.dataReport(e.row._id)}}}):a("base-button",{attrs:{icon:"ni ni-fat-add",disabled:"",size:"sm",type:"danger"},on:{click:function(a){return t.dataReport(e.row._id)}}})],1)]}},{key:"pagination-info",fn:function(e){return[t._v("\n            Actuales "+t._s(e.currentPageRowsLength)+" | \n            Registros totales "+t._s(e.originalRowsLength)+"\n        ")]}}],null,!1,2254346408)}):a("center",[a("loading-progress",{staticClass:"text-center",attrs:{progress:t.progress,indeterminate:!0,"hide-background":!0,shape:"circle",size:"100","fill-duration":"2"}})],1),a("modal",{attrs:{show:t.modals.modal2,gradient:t.modals.type,"modal-classes":"modal-danger modal-dialog-centered"},on:{"update:show":function(e){return t.$set(t.modals,"modal2",e)}}},[a("div",{staticClass:"py-3 text-center"},[a("i",{class:t.modals.icon}),a("h1",{staticClass:"heading mt-5"},[t._v(t._s(t.modals.message))])])])],1)},n=[],s=(a("6b54"),a("a481"),a("6762"),a("2fdb"),a("28a5"),a("96cf"),a("3b8d")),i=a("bd86"),r=a("bc3a"),l=a.n(r),c=a("41cb"),d=a("a5e9"),u=a.n(d),m=a("e366"),f=a("12f9"),p=a("c38f"),h=a.n(p),v=(a("0952"),a("4984")),g=a("8055"),b=a.n(g),y=a("04e1"),C=a.n(y),_=a("1146"),w=a.n(_),k=new Date,x={components:{flatPicker:h.a,VueBootstrap4Table:f["a"]},data:function(){var t;return{progress:!1,auth:[],socket:b()(u.a.endpointTarget),modals:{modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""},dates:{range:k.getMonth()+1+"-"+k.getDate()+"-"+k.getFullYear(),rangeExcel:k.getMonth()+1+"-"+k.getDate()+"-"+k.getFullYear()},configDatePicker:{allowInput:!0,mode:"range",dateFormat:"m-d-Y",locale:v["Spanish"]},columns:[{label:"Fecha",name:"fecha",slot_name:"date-format",sort:!0},{label:"Comisión",name:"comision",slot_name:"comission"},{label:"Total local",name:"ganancialocal",slot_name:"localGain"},{label:"Total",name:"total",slot_name:"totalGain"},{label:"Cliente",name:"cliente",slot_name:"client",sort:!0},{label:"Prestadoras",name:"manicurista",slot_name:"lenderName",sort:!0},{label:"Acciones",name:"_id",slot_name:"reportSale"}],configTable:(t={card_title:"Tabla de ventas",checkbox_rows:!1,rows_selectable:!0,highlight_row_hover_color:"rgba(238, 238, 238, 0.623)"},Object(i["a"])(t,"rows_selectable",!0),Object(i["a"])(t,"per_page_options",[5,10,20,30,40,50,80,100]),Object(i["a"])(t,"num_of_visibile_pagination_buttons",7),Object(i["a"])(t,"global_search",{placeholder:"Enter custom Search text",visibility:!1,case_sensitive:!1}),Object(i["a"])(t,"show_refresh_button",!1),Object(i["a"])(t,"show_reset_button",!1),Object(i["a"])(t,"selected_rows_info",!0),Object(i["a"])(t,"preservePageOnDataChange",!0),Object(i["a"])(t,"pagination_info",!0),t),classes:{table:"table-bordered table-striped"},sales:[],arreglo:[],successAlert:!1,errorAlert:!1,messageSuccess:"",messageError:"",inspectorFilter:!1,lenderSelect:"",lenderNames:[],clientSelect:"",clientNames:[],paySelect:"",payNames:["Efectivo","Transferencia","Débito","Crédito","Otros"],validLender:!0,validClient:!0}},beforeCreate:function(){localStorage.getItem("userToken")||(this.$swal({type:"error",title:"URL restringida",showConfirmButton:!1,timer:1500}),c["a"].push({name:"login"}))},created:function(){this.getSales("no-button"),this.getToken(),this.getClient(),this.getLenders(),$(document).ready((function(){setTimeout((function(){$("input[placeholder='Go to page']").hide()}),200)}))},methods:{getToken:function(){var t=localStorage.userToken,e=C()(t);this.auth=e.access},getClient:function(){var t=this;l.a.get(u.a.endpointTarget+"/clients").then((function(e){t.clientNames=[];for(var a=0;a<e.data.length;a++)t.clientNames.push(e.data[a].nombre+" / "+e.data[a].identidad)}))},getLenders:function(){var t=this;l.a.get(u.a.endpointTarget+"/manicuristas").then((function(e){t.lenderNames=[];for(var a=0;a<e.data.length;a++)t.lenderNames.push(e.data[a].nombre)}))},filterSale:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,o,n,s,i,r,c,d=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.progress=!1,this.inspectorFilter=!0,e=this.dates.range.split(" a "),!(e.length>1)){t.next=17;break}return a=e[0]+":"+e[1],t.prev=5,t.next=8,l.a.get(u.a.endpointTarget+"/ventas/findSalesByDate/"+a);case 8:o=t.sent,"no Sales"==o.data.status?(this.progress=!0,this.modals={modal2:!0,message:"No hay ventas en las fechas seleccionadas",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){d.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),2e3)):(this.progress=!0,this.sales=o.data.status),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),console.log(t.t0);case 15:t.next=32;break;case 17:return n=new Date(this.dates.range),s=n.getMonth()+1+"-"+n.getDate()+"-"+n.getFullYear(),n.setDate(n.getDate()+1),i=n.getMonth()+1+"-"+n.getDate()+"-"+n.getFullYear(),r=s+":"+i,t.prev=22,t.next=25,l.a.get(u.a.endpointTarget+"/ventas/findSalesByDay/"+r);case 25:c=t.sent,"no Sales"==c.data.status?(this.progress=!0,this.modals={modal2:!0,message:"No hay ventas en la fecha seleccionada",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){d.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),2e3)):(this.progress=!0,this.sales=c.data.status),t.next=32;break;case 29:t.prev=29,t.t1=t["catch"](22),console.log(t.t1);case 32:case"end":return t.stop()}}),t,this,[[5,12],[22,29]])})));function e(){return t.apply(this,arguments)}return e}(),getSales:function(t){var e=this;"button"==t&&(this.dates.range=""),this.inspectorFilter=!1;var a={headers:{"x-access-token":localStorage.userToken}};l.a.get(u.a.endpointTarget+"/ventas",a).then((function(t){e.sales=t.data;for(var a=0;a<e.sales.length;a++){var o=e.sales[a].cliente;if(e.sales[a].cliente=[],o.includes("-")){var n=o.split("-");e.sales[a].cliente=n}else e.sales[a].cliente.push(o)}console.log(e.sales),e.progress=!0})).catch((function(t){e.modals={modal2:!0,message:"Acceso invalido, ingrese de nuevo, si el problema persiste comuniquese con el proveedor del servicio",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){e.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),2e3),c["a"].push({name:"login"})}))},formatDate:function(t){var e=new Date(t);return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return"$ "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},justName:function(t){if(t){for(var e=t.split(" / "),a="",o=0;o<e.length;o++)a=a+"\n "+e[o];return a}},dataReport:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get(u.a.endpointTarget+"/ventas/getSale/"+e);case 3:a=t.sent,this.arreglo=a.data,this.arreglo.cliente=this.arreglo.cliente.split(" - "),this.arreglo.manicurista=this.arreglo.manicurista.split(" / "),this.arreglo.descuento=this.arreglo.descuento.split(" - "),this.modals.modal1=!0,t.next=18;break;case 11:t.prev=11,t.t0=t["catch"](0),this.messageError="error técnico",this.errorAlert=!0,setTimeout((function(){o.errorAlert=!1}),1500),this.modals={modal2:!0,message:"Error técnico",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){o.modals={modal1:!1,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),2e3);case 18:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(e){return t.apply(this,arguments)}return e}(),cancelSale:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var o,n,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.put(u.a.endpointTarget+"/ventas/"+e,{employeComision:this.arreglo.EmployeComision});case 2:if(o=t.sent,"ok"!=o.data.status){t.next=16;break}return l.a.post(u.a.endpointTarget+"/inventario/nullSale",{array:a}),this.modals={modal2:!0,message:"¡Venta anulada!",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){s.modals={modal1:!0,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),2e3),this.getSales("no-button"),this.arreglo.status=!1,t.next=11,l.a.post(u.a.endpointTarget+"/notifications",{userName:localStorage.getItem("nombre")+" "+localStorage.getItem("apellido"),userImage:localStorage.getItem("imageUser"),detail:"Anuló una venta del día "+this.formatDate(this.arreglo.fecha),link:"Ventas"});case 11:n=t.sent,console.log(n),n&&this.socket.emit("sendNotification",n.data),t.next=18;break;case 16:this.modals={modal2:!0,message:"¡Error al anular!",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){s.modals={modal1:!0,modal2:!1,modal3:!1,message:"",icon:"",type:""}}),2e3);case 18:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),validRoute:function(t,e){for(var a=0;a<this.auth.length;a++){var o=this.auth[a];if(o.ruta==t)for(var n=0;n<o.validaciones.length;n++)if(e==o.validaciones[n])return!0}},generateExcel:function(){var t=this,e=this.dates.rangeExcel,a=this.dates.rangeExcel+":not";if(this.dates.rangeExcel.length>12){a=this.dates.rangeExcel;var o=this.dates.rangeExcel.split(" a ");e=o[0]}null==this.lenderSelect&&(this.lenderSelect=""),null==this.clientSelect&&(this.clientSelect=""),l.a.post(u.a.endpointTarget+"/ventas/generateDataExcel",{rangeExcel:a,lenderSelect:this.lenderSelect,clientSelect:this.clientSelect}).then((function(a){if("ok"==a.data.status){var o=w.a.utils.json_to_sheet(a.data.dataTable),n=w.a.utils.book_new();w.a.utils.book_append_sheet(n,o,"Datos"),w.a.writeFile(n,"Ventas del "+e+".xlsx"),t.lenderSelect="",t.clientSelect="",t.validLender=!0,t.validClient=!0,t.dates.rangeExcel=k.getMonth()+1+"-"+k.getDate()+"-"+k.getFullYear(),t.modals.modal3=!1}else t.modals={modal2:!0,message:"¡No se encontraron ventas!",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!0,message:"",icon:"",type:""}}),2e3)}))},chooseLender:function(){""==this.lenderSelect||null==this.lenderSelect?this.validLender=!0:this.validLender=!1},chooseClient:function(){""==this.clientSelect||null==this.clientSelect?this.validClient=!0:this.validClient=!1}},mounted:function(){var t=this;m["a"].$on("reloadSales",(function(e){t.getSales("no-button")}))}},T=x,S=(a("cc15"),a("2877")),P=Object(S["a"])(T,o,n,!1,null,null,null);e["default"]=P.exports},df7b:function(t,e,a){},e2c2:function(t,e,a){},f8bb:function(t,e,a){"use strict";e.__esModule=!0,e.default=void 0;var o=a("24e2");function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,a){return e&&s(t.prototype,e),a&&s(t,a),t}var r=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,t),!e)throw new TypeError("Failed to construct '".concat(this.constructor.name,"'. 1 argument required, ").concat(arguments.length," given."));(0,o.assign)(this,t.defaults(),a,{type:e}),(0,o.defineProperties)(this,{type:(0,o.readonlyDescriptor)(),cancelable:(0,o.readonlyDescriptor)(),nativeEvent:(0,o.readonlyDescriptor)(),target:(0,o.readonlyDescriptor)(),relatedTarget:(0,o.readonlyDescriptor)(),vueTarget:(0,o.readonlyDescriptor)()});var s=!1;this.preventDefault=function(){this.cancelable&&(s=!0)},(0,o.defineProperty)(this,"defaultPrevented",{enumerable:!0,get:function(){return s}})}return i(t,null,[{key:"defaults",value:function(){return{type:"",cancelable:!0,nativeEvent:null,target:null,relatedTarget:null,vueTarget:null}}}]),t}(),l=r;e.default=l}}]);
//# sourceMappingURL=demo.1bea0370.js.map