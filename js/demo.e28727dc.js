(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["demo"],{"0407":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-3 pt-5 pt-lg-8 d-flex align-items-center",staticStyle:{"min-height":"50px","background-image":"url(img/theme/users.jpg)","background-size":"cover","background-position":"center top"}},[a("span",{staticClass:"mask  opacity-7",staticStyle:{"background-color":"#172b4d !important"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"text-absolute"},[a("p",{staticClass:"mb-0 display-2 text-white"},[t._v("Reporte del cierre ("+t._s(t._f("formatDate")(t.closes.createdAt))+")")])]),a("base-button",{staticClass:"float-right mt-6 mr-2",attrs:{size:"sm",disabled:!t.validRoute("caja","editar"),type:"default"},on:{click:function(e){t.modals.modal1=!0}}},[a("a-icon",{staticClass:"mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.8em"},attrs:{type:"form"}}),t._v("\n                    Editar montos manuales\n                ")],1),a("base-button",{staticClass:"float-right mt-6 mr-2",attrs:{size:"sm",type:"warning"},on:{click:t.back}},[a("a-icon",{staticStyle:{"vertical-align":"1px","font-size":"1.8em"},attrs:{type:"rollback"}})],1)],1)])]),a("div",{staticClass:"col-12 mt-3 mx-auto"},[a("div",{staticClass:"row mx-auto text-center"},[a("div",{staticClass:"col-4 mx-auto"},[a("dt",{attrs:{type:"success"}},[t._v("Ingresos manuales")]),t._l(t.closes.manual,(function(e){return a("base-button",{key:e.type,staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v(t._s(e.type))]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v(t._s(t.formatPrice(e.total)))])],1)}))],2),a("div",{staticClass:"col-4 mx-auto"},[a("dt",{attrs:{type:"default"}},[t._v("Ingresos sistema")]),t._l(t.closes.system,(function(e){return a("base-button",{key:e.type,staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"float-left"},[t._v(t._s(e.type))]),a("badge",{staticClass:"float-right text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v(t._s(t.formatPrice(e.total)))])],1)}))],2),a("div",{staticClass:"col-2 mx-auto"},[a("dt",{attrs:{type:"warning"}},[t._v("Diferencia")]),t._l(t.closes.system,(function(e,n){return a("base-button",{key:e.type,staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("badge",{staticClass:"text-default",staticStyle:{"font-size":"1em !important"},attrs:{type:"success"}},[t._v(t._s(t.formatPrice(parseInt(e.total)-parseInt(t.closes.manual[n].total))))])],1)}))],2)])]),a("modal",{attrs:{show:t.modals.modal1,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-sm"},on:{"update:show":function(e){return t.$set(t.modals,"modal1",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":""}},[[a("div",{staticClass:"text-center text-muted mb-2",staticStyle:{"margin-top":"-15% !important"}},[a("small",[t._v("Ingresos manuales")])]),t._l(t.closes.manual,(function(e){return["Total"!=e.type?a("div",{key:e.type,staticClass:"text-left text-muted"},[a("small",[t._v(t._s(e.type))])]):t._e(),"Total"!=e.type?a("currency-input",{key:e.type,staticClass:"form-control",attrs:{locale:"de"},on:{keyup:function(e){return t.cashTotal()}},model:{value:e.total,callback:function(a){t.$set(e,"total",a)},expression:"close.total"}}):t._e()]})),a("div",{staticClass:"text-center"},[a("base-button",{staticClass:"my-2",attrs:{type:"default"},on:{click:t.editEntry}},[t._v("Editar")])],1)]],2)],1),a("modal",{attrs:{show:t.modals.modal2,gradient:"success","modal-classes":"modal-danger modal-dialog-centered"},on:{"update:show":function(e){return t.$set(t.modals,"modal2",e)}}},[a("div",{staticClass:"py-3 text-center"},[a("i",{staticClass:"ni ni-check-bold ni-3x"}),a("h4",{staticClass:"heading mt-4"},[t._v("¡Actualizado!")])])])],1)},r=[],o=(a("6b54"),a("a481"),a("96cf"),a("3b8d")),s=a("bc3a"),i=a.n(s),l=a("41cb"),c=a("a5e9"),d=a.n(c),u=a("04e1"),h=a.n(u),p=a("12f9"),m=a("c1df"),f=(a("898b"),a("ef34"));m["locale"]("es");var g={mixins:[f["a"]],components:{VueBootstrap4Table:p["a"]},data:function(){return{auth:[],id:localStorage.getItem("reportID"),modals:{modal1:!1,modal2:!1},closes:{},configHeader:{headers:{"x-database-connect":d.a.database,"x-access-token":localStorage.userToken}}}},created:function(){this.getClosing(),this.getToken(),$(document).ready((function(){setTimeout((function(){$("input[placeholder='Go to page']").hide()}),200)}))},methods:{getToken:function(){var t=localStorage.userToken,e=h()(t);this.auth=e.access},back:function(){window.history.go(-1)},getClosing:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get(d.a.endpointTarget+"/sales/getClosing/"+this.id,this.configHeader);case 3:e=t.sent,this.closes=e.data.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){l["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return"$ "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},formatDate:function(t){return m(t).format("DD-MM-YYYY")},cashTotal:function(){for(var t=0,e=0;e<=2;e++){var a=this.closes.manual[e];0==e||1==e?t+=a.total:2==e&&(t-=a.total)}this.closes.manual[3].total=t},editEntry:function(){for(var t=this,e=0,a={"Egreso de caja":"si","Fondo de caja":"si","Total efectivo":"si"},n=0;n<this.closes.manual.length-1;n++){var r=this.closes.manual[n];r.type in a?e=e:e+=r.total}this.closes.manual[this.closes.manual.length-1].total=e,i.a.put(d.a.endpointTarget+"/sales/editclosedmanualamounts/"+this.id,{manual:this.closes.manual},this.configHeader).then((function(e){"ok"==e.data.status&&(t.modals.modal1=!1,t.$swal({icon:"success",title:"Edición exitosa.",showConfirmButton:!1,timer:1500}))})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){l["a"].push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},validRoute:function(t,e){for(var a=0;a<this.auth.length;a++){var n=this.auth[a];if(n.ruta==t)for(var r=0;r<n.validaciones.length;r++)if(e==n.validaciones[r])return!0}}}},v=g,b=a("2877"),y=Object(b["a"])(v,n,r,!1,null,null,null);e["default"]=y.exports},"0694":function(t,e,a){},"172e":function(t,e,a){"use strict";a.r(e);var n,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-3 pt-2 pt-lg-4 d-flex align-items-center",staticStyle:{"min-height":"50px","background-image":"url(img/theme/branch.png)","background-size":"cover","background-position":"center 25%"}},[a("span",{staticClass:"mask opacity-7",staticStyle:{"background-color":"#172b4d !important"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"text-absolute"},[a("p",{staticClass:"mb-0 display-2 text-white"},[t._v("Sucursales")]),a("p",{staticClass:"text-white hideText"},[t._v("Esta es la sección administrativa de tus sucursales, aquí podrás registrar, editar y visualizar todas tus sucursales.")])]),a("base-button",{staticClass:"float-right mt-7",staticStyle:{"font-size":"1em"},attrs:{disabled:!t.validRoute("sucursales","registrar"),size:"sm",type:"success"},on:{click:function(e){t.modals.modal1=!0}}},[a("a-icon",{staticClass:"mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.2em"},attrs:{type:"form"}}),t._v(" Registrar")],1)],1)])]),a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v("Sin sucursales registrados.")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columns,loading:t.progress,"data-source":t.branches,scroll:t.getScreen},scopedSlots:t._u([{key:"filterDropdown",fn:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,s=e.clearFilters,i=e.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por nombre",value:r[0]},on:{change:function(t){return n(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(r,o,i.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(r,o,i.dataIndex)}}},[t._v("\n                    Buscar\n                ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(s)}}},[t._v("\n                    resetear\n                ")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"customRender",fn:function(e,n,r,o){return[t.searchText&&t.searchedColumn===o.dataIndex?a("span",[t._l(e.toString().split(new RegExp("(?<="+t.searchText+")|(?="+t.searchText+")","i")),(function(e,n){return[e.toLowerCase()===t.searchText.toLowerCase()?a("mark",{key:n,staticClass:"highlight"},[t._v(t._s(e))]):[t._v(t._s(e))]]}))],2):[t._v("\n                        "+t._s(e)+"\n                    ")]]}},{key:"actionButtons",fn:function(e,n){return[t.validRoute("sucursales","configurar")?a("router-link",{attrs:{to:{path:"/configuration",query:{id:n._id}}}},[a("base-button",{staticClass:"text-center",attrs:{disabled:!t.validRoute("sucursales","configurar"),icon:"ni ni-settings-gear-65",size:"sm",type:"default"}},[t._v("\n                            Configurar\n                        ")])],1):a("base-button",{staticClass:"text-center",attrs:{disabled:"",icon:"ni ni-settings-gear-65",size:"sm",type:"default"}},[t._v("\n                        Configurar\n                    ")]),a("a-tooltip",{staticClass:"ml-2",attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Activar / Desactivar")])]),t.validRoute("servicios","activaciones")?[n.active?a("base-button",{staticClass:"text-center",attrs:{icon:"ni ni-check-bold",size:"sm",type:"success"},on:{click:function(e){return t.changeStatus(n._id,!0)}}}):a("base-button",{staticClass:"text-center",attrs:{size:"sm",type:"danger"},on:{click:function(e){return t.changeStatus(n._id,!1)}}},[a("a-icon",{staticStyle:{"vertical-align":"1px"},attrs:{type:"close"}})],1)]:[n.active?a("base-button",{staticClass:"text-center",attrs:{icon:"ni ni-check-bold",size:"sm",type:"success",disabled:""}}):a("base-button",{staticClass:"text-center",attrs:{icon:"ni ni-fat-remove",size:"sm",type:"danger",disabled:""}})]],2)]}},{key:"format-date",fn:function(e,a){return[t._v("\n                "+t._s(t._f("formatDate")(a.createdAt))+"\n            ")]}}])})],1),a("modal",{attrs:{show:t.modals.modal1,"modal-classes":"modal-dialog-centered modal-xl pt-lg-2"},on:{"update:show":function(e){return t.$set(t.modals,"modal1",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[a("h3",[t._v("Registre una sucursal")])]),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"stepsBar"},[a("a-steps",[a("a-step",{attrs:{status:t.status.branch,title:"Sucursal"}},[a("a-icon",{staticStyle:{"vertical-align":"3px"},attrs:{slot:"icon",type:"process"==t.status.branch?"loading":"shop"},slot:"icon"})],1),a("a-step",{attrs:{status:t.status.date,title:"Agenda"}},[a("a-icon",{staticStyle:{"vertical-align":"3px"},attrs:{slot:"icon",type:"process"==t.status.date?"loading":"calendar"},slot:"icon"})],1),a("a-step",{attrs:{status:t.status.sale,title:"Ventas"}},[a("a-icon",{staticStyle:{"vertical-align":"3px"},attrs:{slot:"icon",type:"process"==t.status.sale?"loading":"credit-card"},slot:"icon"})],1)],1)],1),a("div",{staticClass:"stepsBox mt-1"},["branch"==t.process?a("div",{staticClass:"branch mt-1"},[a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-6 col-sm-12"},[a("label",{staticClass:"ml-2",attrs:{for:"branch"}},[t._v("\n                                    Nombre de la sucursal\n                                ")]),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Nombre de la sucursal","addon-left-icon":"ni ni-shop",valid:t.modelStart.businessName.length>=4},model:{value:t.modelStart.businessName,callback:function(e){t.$set(t.modelStart,"businessName",e)},expression:"modelStart.businessName"}})],1),a("div",{staticClass:"col-md-6 col-sm-12 row pr-0"},[a("label",{staticClass:"ml-4 mb-0 pb-0 w-100",staticStyle:{"margin-bottom":"-20px !important"},attrs:{for:"credentials"}},[t._v("\n                                    Número de contacto\n                                ")]),a("div",{staticClass:"col-12 pl-3 pr-0 mt-0 pt-0"},[a("VuePhoneNumberInput",{attrs:{"default-country-code":t.modelStart.businessPhone.countryCode,translations:{countrySelectorLabel:"Código de país",countrySelectorError:"Elije un país",phoneNumberLabel:"Número de teléfono",example:"Ejemplo :"}},on:{update:function(e){t.modelStart.businessPhone=e}},model:{value:t.modelStart.businessPhone.formatNational,callback:function(e){t.$set(t.modelStart.businessPhone,"formatNational",e)},expression:"modelStart.businessPhone.formatNational"}})],1)]),a("div",{staticClass:"col-md-6 col-sm-12"},[a("a-tooltip",[a("template",{slot:"title"},[t._v("\n                                        Debe ser un correo valido\n                                    ")]),a("a-icon",{staticClass:"ml-2",staticStyle:{cursor:"pointer","vertical-align":"0.05em"},attrs:{type:"question-circle"}})],2),a("label",{staticClass:"ml-2",attrs:{for:"branch"}},[t._v("\n                                    Correo\n                                ")]),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Correo de la sucursal","addon-left-icon":"ni ni-email-83",valid:t.verifyEmailVar},on:{keyup:function(e){return t.verifyEmail()}},model:{value:t.modelStart.email,callback:function(e){t.$set(t.modelStart,"email",e)},expression:"modelStart.email"}})],1),a("div",{staticClass:"col-md-6 col-sm-12"},[a("label",{staticClass:"ml-2",attrs:{for:"branch"}},[t._v("\n                                    Logo de la sucursal\n                                ")]),a("br"),a("input",{ref:"file",staticClass:"form-control input-group-alternative",attrs:{type:"file",id:"fileProfile",placeholder:"seleccione logo"},on:{change:function(e){return t.handleFileUpload()}}})]),a("div",{staticClass:"col-md-6 col-sm-12"},[a("label",{staticClass:"ml-2 w-100",attrs:{for:"location"}},[t._v("\n                                    Dirección del local\n                                ")]),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Dirección","addon-left-icon":"fa fa-location-arrow",valid:t.modelStart.businessLocation.length>=10},model:{value:t.modelStart.businessLocation,callback:function(e){t.$set(t.modelStart,"businessLocation",e)},expression:"modelStart.businessLocation"}})],1),a("div",{staticClass:"col-md-6 col-sm-12"},[a("label",{staticClass:"ml-2 w-100",attrs:{for:"bussiness"}},[t._v("\n                                    Tipo de negocio\n                                ")]),a("a-select",{staticClass:"input-group-alternative",staticStyle:{width:"100%",height:"43px"},attrs:{"show-search":"",placeholder:"Seleccionar negocio","option-filter-prop":"children",size:"large","filter-option":t.filterOption},on:{change:t.handleChange},model:{value:t.modelStart.businessType,callback:function(e){t.$set(t.modelStart,"businessType",e)},expression:"modelStart.businessType"}},[a("a-select-option",{attrs:{value:"nails"}},[t._v("\n                                        Spa de uñas\n                                    ")]),a("a-select-option",{attrs:{value:"barber"}},[t._v("\n                                        Barberia\n                                    ")]),a("a-select-option",{attrs:{value:"stylish"}},[t._v("\n                                        Peluquería\n                                    ")])],1)],1)]),a("base-button",{staticClass:"float-right mt-2",attrs:{outline:"",type:"default"},on:{click:function(e){return t.nextStep("branch")}}},[t._v("\n                            Siguiente\n                        ")])],1):"date"==t.process?a("div",{staticClass:"data"},[a("h1",{staticClass:"text-uppercase text-center"},[t._v("\n                            Horario\n                        ")]),a("hr",{staticClass:"w-50"}),a("h3",{staticClass:"text-weigth-bold text-center"},[a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Seleccione los días y horarios de apertura y cierre de su negocio.")])]),a("a-icon",{staticClass:"mr-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em"},attrs:{type:"question-circle"}})],2),t._v("\n                            Configura tu horario\n                        ")],1),a("div",{staticClass:"row pl-8 pr-4"},[a("div",{staticClass:"col-2"},[a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.monday,size:"sm"},on:{click:function(e){return t.salectDay("monday")}}},[t._v("\n                                    Lunes\n                                ")]),a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.tuesday,size:"sm"},on:{click:function(e){return t.salectDay("tuesday")}}},[t._v("\n                                    Martes\n                                ")]),a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.wednesday,size:"sm"},on:{click:function(e){return t.salectDay("wednesday")}}},[t._v("\n                                    Miércoles\n                                ")]),a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.thursday,size:"sm"},on:{click:function(e){return t.salectDay("thursday")}}},[t._v("\n                                    Jueves\n                                ")]),a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.friday,size:"sm"},on:{click:function(e){return t.salectDay("friday")}}},[t._v("\n                                    Viernes\n                                ")]),a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.saturday,size:"sm"},on:{click:function(e){return t.salectDay("saturday")}}},[t._v("\n                                    Sábado\n                                ")]),a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.sunday,size:"sm"},on:{click:function(e){return t.salectDay("sunday")}}},[t._v("\n                                    Domingo\n                                ")])],1),a("div",{staticClass:"col-10"},[a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[1].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[1].start,callback:function(e){t.$set(t.modelStart.blockHour[1],"start",e)},expression:"modelStart.blockHour[1].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[1].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[1].end,callback:function(e){t.$set(t.modelStart.blockHour[1],"end",e)},expression:"modelStart.blockHour[1].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[2].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[2].start,callback:function(e){t.$set(t.modelStart.blockHour[2],"start",e)},expression:"modelStart.blockHour[2].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[2].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[2].end,callback:function(e){t.$set(t.modelStart.blockHour[2],"end",e)},expression:"modelStart.blockHour[2].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[3].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[3].start,callback:function(e){t.$set(t.modelStart.blockHour[3],"start",e)},expression:"modelStart.blockHour[3].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[3].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[3].end,callback:function(e){t.$set(t.modelStart.blockHour[3],"end",e)},expression:"modelStart.blockHour[3].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[4].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[4].start,callback:function(e){t.$set(t.modelStart.blockHour[4],"start",e)},expression:"modelStart.blockHour[4].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[4].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[4].end,callback:function(e){t.$set(t.modelStart.blockHour[4],"end",e)},expression:"modelStart.blockHour[4].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[5].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[5].start,callback:function(e){t.$set(t.modelStart.blockHour[5],"start",e)},expression:"modelStart.blockHour[5].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[5].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[5].end,callback:function(e){t.$set(t.modelStart.blockHour[5],"end",e)},expression:"modelStart.blockHour[5].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[6].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[6].start,callback:function(e){t.$set(t.modelStart.blockHour[6],"start",e)},expression:"modelStart.blockHour[6].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[6].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[6].end,callback:function(e){t.$set(t.modelStart.blockHour[6],"end",e)},expression:"modelStart.blockHour[6].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[0].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[0].start,callback:function(e){t.$set(t.modelStart.blockHour[0],"start",e)},expression:"modelStart.blockHour[0].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[0].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[0].end,callback:function(e){t.$set(t.modelStart.blockHour[0],"end",e)},expression:"modelStart.blockHour[0].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1)],1)]),a("base-button",{staticClass:"float-left mt-2",attrs:{outline:"",type:"default"},on:{click:function(e){return t.prevStep("date")}}},[t._v("\n                            Anterior\n                        ")]),a("base-button",{staticClass:"float-right mt-3",attrs:{outline:"",type:"default"},on:{click:function(e){return t.nextStep("date")}}},[t._v("\n                            Siguiente\n                        ")])],1):"sale"==t.process?a("div",{staticClass:"data"},[a("h1",{staticClass:"text-uppercase text-center"},[t._v("\n                            Tipos de pago\n                        ")]),a("hr",{staticClass:"w-50"}),a("h3",{staticClass:"text-weigth-bold text-center"},[a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Seleccione los días y horarios de apertura y cierre de su negocio.")])]),a("a-icon",{staticClass:"mr-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em"},attrs:{type:"question-circle"}})],2),t._v("\n                            Crea tus tipos de pago\n                        ")],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("label",{attrs:{for:"currency"}},[t._v("\n                                    Escriba su tipo de pago\n                                ")]),a("div",{staticClass:"row pr-2"},[a("div",{staticClass:"col-10 pr-0"},[a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Tipo de pago","addon-left-icon":"fa fa-plus"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.insertTypePay(e)}},model:{value:t.typePay,callback:function(e){t.typePay=e},expression:"typePay"}})],1),a("div",{staticClass:"col-2"},[a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Ingresar método de pago.")])]),a("base-button",{staticClass:"p-2 px-3 mt-1",attrs:{outline:"",type:"default"},on:{click:t.insertTypePay}},[a("a-icon",{staticStyle:{"vertical-align":"1px"},attrs:{type:"plus"}})],1)],2)],1)]),a("label",{staticClass:"mt-4",attrs:{for:"currency"}},[t._v("\n                                    Seleccione su moneda local\n                                ")]),a("a-select",{staticClass:"input-group-alternative",staticStyle:{width:"100%",height:"43px"},attrs:{"default-value":"CLP",size:"large"},on:{change:t.selectCurrency}},[a("a-select-option",{attrs:{value:"USD"}},[t._v("\n                                        USD\n                                    ")]),a("a-select-option",{attrs:{value:"EUR"}},[t._v("\n                                        EUR\n                                    ")]),a("a-select-option",{attrs:{value:"CLP"}},[t._v("\n                                        CLP\n                                    ")]),a("a-select-option",{attrs:{value:"COP"}},[t._v("\n                                        COP\n                                    ")]),a("a-select-option",{attrs:{value:"ARG"}},[t._v("\n                                        ARG\n                                    ")]),a("a-select-option",{attrs:{value:"VES"}},[t._v("\n                                        VES\n                                    ")])],1)],1),a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("p",[t._v("No se han agregado metodos de pago")])],1)]},proxy:!0}])},[a("div",{staticClass:"col-md-8 mt-4",staticStyle:{overflow:"hidden","overflow-y":"scroll","max-height":"200px"}},[a("a-list",{attrs:{size:"small",bordered:"","data-source":t.modelStart.typesPay},scopedSlots:t._u([{key:"renderItem",fn:function(e,n){return a("a-list-item",{},[t._v("\n                                            "+t._s(e)+" \n                                            "),"Efectivo"!=e?a("base-button",{staticClass:"float-right",staticStyle:{"margin-top":"-3px"},attrs:{outline:"",type:"default",size:"sm"},on:{click:function(e){return t.removeTypePay(n)}}},[a("i",{staticClass:"fa fa-times"})]):t._e()],1)}}])})],1)])],1),a("base-button",{staticClass:"float-left mt-2",attrs:{outline:"",type:"default"},on:{click:function(e){return t.prevStep("sale")}}},[t._v("\n                            Anterior\n                        ")]),a("base-button",{staticClass:"float-right mt-3",attrs:{outline:"",type:"default"},on:{click:function(e){return t.finishProcess()}}},[t._v("\n                            Finalizar\n                        ")])],1):t._e()])]],2)],1)],1)},o=[],s=(a("ac4d"),a("8a81"),a("7514"),a("28a5"),a("a481"),a("ac6a"),a("96cf"),a("3b8d")),i=(a("7f7f"),a("6b54"),a("6762"),a("2fdb"),a("bd86")),l=a("bc3a"),c=a.n(l),d=a("41cb"),u=a("a5e9"),h=a.n(u),p=a("04e1"),m=a.n(p),f=a("7bec"),g=a.n(f),v=(a("4413"),a("e366")),b=a("ef34"),y=a("bb36"),x={mixins:[b["a"],y["a"]],components:{VuePhoneNumberInput:g.a},data:function(){var t,e=this;return{configHeader:{headers:{"x-database-connect":h.a.database,"x-access-token":localStorage.userToken}},phoneData:{isValid:!1},modals:{modal1:!1},status:{branch:"process",date:"wait",sale:"wait"},process:"branch",typePay:"",modelStart:(t={email:"",password:"",first_name:"",last_name:"",branch:""},Object(i["a"])(t,"email",""),Object(i["a"])(t,"businessName",""),Object(i["a"])(t,"businessPhoneCode","+56"),Object(i["a"])(t,"businessPhone",{countryCode:"CL",isValid:!1,phoneNumber:"",countryCallingCode:"",formattedNumber:"",nationalNumber:"",formatInternational:"",formatNational:"",uri:"",e164:""}),Object(i["a"])(t,"businessType","Seleccione"),Object(i["a"])(t,"businessLocation",""),Object(i["a"])(t,"blockHour",[{day:0,start:"10:00",end:"20:00",status:!1,time:0},{day:1,start:"10:00",end:"20:00",status:!1,time:0},{day:2,start:"10:00",end:"20:00",status:!1,time:0},{day:3,start:"10:00",end:"20:00",status:!1,time:0},{day:4,start:"10:00",end:"20:00",status:!1,time:0},{day:5,start:"10:00",end:"20:00",status:!1,time:0},{day:6,start:"10:00",end:"20:00",status:!1,time:0}]),Object(i["a"])(t,"currency","CLP"),Object(i["a"])(t,"typesPay",["Efectivo"]),t),fromArray:["6:00","6:30","7:00","7:30","8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00"],toArray:["12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00"],verifyEmailVar:!1,progress:!1,days:{monday:"danger",tuesday:"danger",wednesday:"danger",thursday:"danger",friday:"danger",saturday:"danger",sunday:"danger"},searchText:"",searchInput:null,searchedColumn:"",branch:"",branchName:"",branches:[],columns:[{title:"Nombre",dataIndex:"name",key:"name",ellipsis:!0,scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.name.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){e.searchInput.focus()}),0)}},{title:"Fecha",dataIndex:"createdAt",key:"createdAt",ellipsis:!0,scopedSlots:{customRender:"format-date"}},{title:"Acciones",dataIndex:"_id",key:"_id",scopedSlots:{customRender:"actionButtons"},ellipsis:!0}],file:"",activeBranchs:0}},created:function(){this.getToken(),this.getBranch()},methods:(n={getBranch:function(){this.branchName=localStorage.branchName,this.branch=localStorage.branch,this.getBranches()},getToken:function(){var t=localStorage.userToken;if(t.length>0){var e=m()(t);this.auth=e.access}},dataEdit:function(t){console.log(t)},handleSearch:function(t,e,a){e(),this.searchText=t[0],this.searchedColumn=a},handleReset:function(t){t(),this.searchText=""},getBranches:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.activeBranchs=0,t.prev=1,t.next=4,c.a.get(h.a.endpointTarget+"/branches",this.configHeader);case 4:e=t.sent,"ok"==e.data.status&&(this.branches=e.data.data,this.branches.forEach((function(t){t.active&&a.activeBranchs++}))),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){d["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return"$ "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},validRoute:function(t,e){for(var a=0;a<this.auth.length;a++){var n=this.auth[a];if(n.ruta==t)for(var r=0;r<n.validaciones.length;r++)if(e==n.validaciones[r])return!0}},filterOption:function(t,e){return e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())>=0},removeTypePay:function(t){this.modelStart.typesPay.splice(t,1)},handleChange:function(t){this.modelStart.businessType=t},salectDay:function(t){"monday"==t?(this.modelStart.blockHour[1].status="success"!=this.days.monday,this.days.monday="success"==this.days.monday?"danger":"success"):"tuesday"==t?(this.modelStart.blockHour[2].status="success"!=this.days.tuesday,this.days.tuesday="success"==this.days.tuesday?"danger":"success"):"wednesday"==t?(this.modelStart.blockHour[3].status="success"!=this.days.wednesday,this.days.wednesday="success"==this.days.wednesday?"danger":"success"):"thursday"==t?(this.modelStart.blockHour[4].status="success"!=this.days.thursday,this.days.thursday="success"==this.days.thursday?"danger":"success"):"friday"==t?(this.modelStart.blockHour[5].status="success"!=this.days.friday,this.days.friday="success"==this.days.friday?"danger":"success"):"saturday"==t?(this.modelStart.blockHour[6].status="success"!=this.days.saturday,this.days.saturday="success"==this.days.saturday?"danger":"success"):"sunday"==t&&(this.modelStart.blockHour[0].status="success"!=this.days.sunday,this.days.sunday="success"==this.days.sunday?"danger":"success")},formatPhone:function(){var t=this.modelStart.businessPhone.replace(/[^\d]/g,"");9==t.length&&(t=t.replace(/(\d{1})(\d{4})/,"$1-$2-")),this.modelStart.businessPhone=t},verifyEmail:function(){this.modelStart.email.split("@")[1]&&this.modelStart.email.split("@")[1].split(".")[0]?this.verifyEmailVar=!0:this.verifyEmailVar=!1},nextStep:function(t){if("branch"==t)this.modelStart.businessName.length>=4&&this.modelStart.businessPhone.isValid&&this.modelStart.businessLocation.length>=10&&"Seleccione"!=this.modelStart.businessType&&this.verifyEmailVar?(this.status.branch="finish",this.status.date="process",this.process="date"):this.verifyEmailVar?0==this.modelStart.businessPhone.isValid?this.$swal({icon:"error",title:"Debe escribir un número de teléfono valido",showConfirmButton:!1,timer:1500}):this.$swal({icon:"error",title:"Ningún campo puede quedar en rojo",showConfirmButton:!1,timer:1500}):this.$swal({icon:"error",title:"El correo es invalido",showConfirmButton:!1,timer:1500});else if("date"==t){var e=this.modelStart.blockHour.find((function(t){return 1==t.status}));void 0!=e?(this.status.date="finish",this.status.sale="process",this.process="sale"):this.$swal({icon:"error",title:"Debe seleccionar mínimo un día.",showConfirmButton:!1,timer:1500})}else"sale"==t?this.modelStart.typesPay.length>0?(this.status.sale="finish",this.status.final="process",this.process="final"):this.$swal({icon:"error",title:"Debe crear mínimo un tipo de pago.",showConfirmButton:!1,timer:1500}):"final"==t&&(this.status.branch="finish")},changeStatus:function(t,e){var a=this;this.activeBranchs<=1&&e?this.$swal({icon:"error",title:"Debe haber al menos una sucursal activa",text:"La sucursal que intentas desactivar en la unica activa restante",showConfirmButton:!0}):c.a.put(h.a.endpointTarget+"/branches/changeActive/"+t,{id:t},this.configHeader).then((function(t){a.getBranch(),v["a"].$emit("newBranch",status)})).catch((function(t){t.response?401==t.response.status&&(a.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){d["a"].push("login")}),1550)):a.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},prevStep:function(t){"date"==t?(this.status.branch="process",this.status.date="wait",this.process="branch"):"sale"==t?(this.status.date="process",this.status.sale="wait",this.process="date"):"final"==t&&(this.status.sale="process",this.status.final="wait",this.process="sale")},handleFileUpload:function(){this.file=this.$refs.file.files[0]},insertTypePay:function(){var t=this;if(this.modelStart.typesPay.length<8)if(this.typePay.length>4){var e=this.modelStart.typesPay.find((function(e){return e==t.typePay}));void 0==e?(this.modelStart.typesPay.push(this.typePay),this.typePay=""):this.$swal({icon:"error",title:"Tipo de pago duplicado.",showConfirmButton:!1,timer:1500})}else this.typePay.length<=4?this.$swal({icon:"error",title:"El método de pago debe estar compuesto por mas de 4 caracteres",showConfirmButton:!1,timer:1500}):this.$swal({icon:"error",title:"Debe llenar el tipo de pago",showConfirmButton:!1,timer:1500});else this.$swal({icon:"error",title:"No puede ingresar mas de 8 métodos de pago.",showConfirmButton:!1,timer:1500})}},Object(i["a"])(n,"removeTypePay",(function(t){this.modelStart.typesPay.splice(t,1)})),Object(i["a"])(n,"selectCurrency",(function(t){this.currency=t})),Object(i["a"])(n,"validEmail",(function(){var t=this.modelStart.email.split("@");return t.length>1&&t[1].includes(".")})),Object(i["a"])(n,"calculatedHour",(function(){var t=!0,e=!1,a=void 0;try{for(var n,r=this.modelStart.blockHour[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o,s,i,l=n.value;l.status&&(o=60*parseInt(l.end.split(":")[0]-parseInt(l.start.split(":")[0])),s=parseInt(l.start.split(":")[1])-parseInt(l.end.split(":")[1]),i=o+s,l.time=i)}}catch(c){e=!0,a=c}finally{try{t||null==r.return||r.return()}finally{if(e)throw a}}})),Object(i["a"])(n,"createFormData",(function(t){var e=new FormData;return e.append("image",this.file),e})),Object(i["a"])(n,"finishProcess",function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.calculatedHour(),!(this.modelStart.typesPay.length>1)){t.next=46;break}return t.prev=2,t.next=5,c.a.post(h.a.endpointTarget+"/branches",{branch:this.modelStart.businessName},this.configHeader);case 5:if(e=t.sent,"ok"!=e.data.status){t.next=38;break}return t.prev=7,a=new FormData,a.append("image",this.file),n={headers:{"Content-Type":"multipart/form-data","x-access-token":localStorage.userToken,"x-database-connect":h.a.database}},t.prev=11,t.next=14,c.a.post(h.a.endpointTarget+"/configurations/uploadLogo",a,n);case 14:if(r=t.sent,"ok"!=r.data.status){t.next=22;break}return t.next=18,c.a.post(h.a.endpointTarget+"/configurations",{branch:e.data.data._id,blockHour:this.modelStart.blockHour,businessName:this.modelStart.businessName,businessPhone:this.modelStart.businessPhone,businessType:this.modelStart.businessType,businessLocation:this.modelStart.businessLocation,route:h.a.url,email:this.modelStart.email,typesPay:this.modelStart.typesPay,currency:this.modelStart.currency,file:r.data.file},this.configHeader);case 18:o=t.sent,"ok"==o.data.status&&(this.$swal({type:"success",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:1500}),this.getBranches(),this.modals.modal1=!1,v["a"].$emit("newBranch",status)),t.next=26;break;case 22:return t.next=24,c.a.post(h.a.endpointTarget+"/configurations",{branch:e.data.data._id,blockHour:this.modelStart.blockHour,businessName:this.modelStart.businessName,businessPhone:this.modelStart.businessPhone,businessType:this.modelStart.businessType,businessLocation:this.modelStart.businessLocation,email:this.modelStart.email,typesPay:this.modelStart.typesPay,currency:this.modelStart.currency,route:h.a.url,file:""},this.configHeader);case 24:s=t.sent,"ok"==s.data.status&&(this.$swal({type:"success",icon:"success",title:"Registro de la sucursal, exitoso.",showConfirmButton:!1,timer:1500}),this.getBranches(),this.modals.modal1=!1,v["a"].$emit("newBranch",status));case 26:t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](11),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){d["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 31:t.next=36;break;case 33:t.prev=33,t.t1=t["catch"](7),t.t1.response?401==t.t1.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){d["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 36:t.next=39;break;case 38:this.$swal({type:"error",icon:"error",title:"Sucursal ya existente",showConfirmButton:!1,timer:1500});case 39:t.next=44;break;case 41:t.prev=41,t.t2=t["catch"](2),t.t2.response?401==t.t2.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){d["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 44:t.next=47;break;case 46:this.$swal({type:"error",icon:"error",title:"Registre al menos dos tipos de pago.",showConfirmButton:!1,timer:1500});case 47:case"end":return t.stop()}}),t,this,[[2,41],[7,33],[11,28]])})));function e(){return t.apply(this,arguments)}return e}()),n),mounted:function(){var t=this;v["a"].$on("changeBranch",(function(e){t.getBranch()}))},computed:{getScreen:function(){return screen.width<780?{x:"calc(700px + 50%)",y:240}:{y:"auto"}}}},w=x,C=a("2877"),k=Object(C["a"])(w,r,o,!1,null,null,null);e["default"]=k.exports},2992:function(t,e,a){},"2b56":function(t,e,a){"use strict";var n=a("31f8"),r=a.n(n);r.a},"2c25":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-4 pt-2 pt-lg-4 d-flex align-items-center",staticStyle:{"min-height":"50px","background-image":"url(img/theme/store.png)","background-size":"cover","background-position":"center 70%"}},[a("span",{staticClass:"mask  opacity-7",staticStyle:{"background-color":"#172b4d !important"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"text-absolute"},[a("p",{staticClass:"mb-0 display-2 text-white"},[t._v("Bodega")]),a("p",{staticClass:"text-white"},[t._v("Total STOCK - "+t._s(t._f("formatPrice")(t.totalStock)))])]),a("base-button",{staticClass:"float-right mt-7 mr-0",attrs:{disabled:!t.validRoute("bodega","cierre_bodega"),size:"sm",type:"warning"},on:{click:function(e){t.modals.modal4=!0}}},[a("i",{staticClass:"fa fa-archive mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.2em"}}),t._v("\n                  Cerrar bodega\n              ")]),a("base-button",{staticClass:"float-right mt-7 mr-2",attrs:{disabled:!t.validRoute("bodega","registrar_proveedores"),size:"sm",type:"primary"},on:{click:function(e){t.modals.modal3=!0,t.providerSup.typeProvider="Registrar",t.initialState(2)}}},[a("a-icon",{staticClass:"mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.2em"},attrs:{type:"shopping-cart"}}),t._v("\n                  Proveedores\n              ")],1),a("base-button",{staticClass:"float-right mt-7 mr-2",attrs:{disabled:!t.validRoute("bodega","gestion_sucursales"),size:"sm",type:"success"},on:{click:function(e){t.modalAdminProduct.modal1=!0,t.selectLoad(),t.productForBranch=""}}},[a("a-icon",{staticClass:"mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.2em"},attrs:{type:"shop"}}),t._v("\n                  Sucursales\n              ")],1),a("base-button",{staticClass:"float-right mt-7 mr-2",attrs:{disabled:!t.validRoute("bodega","registrar_producto"),size:"sm",type:"success"},on:{click:function(e){t.modals.modal1=!0,t.validForm=1,t.initialState(3)}}},[a("a-icon",{staticClass:"mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.2em"},attrs:{type:"form"}}),t._v("\n                  Registrar\n              ")],1)],1)])]),a("tabs",{staticClass:"flex-column flex-md-row inventory inventoryTabs",attrs:{fill:""}},[a("card",{attrs:{shadow:""}},[a("tab-pane",[a("span",{staticClass:"p-2",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"fa fa-box-open"}),t._v("\n                  Tabla de productos\n              ")]),[a("div",{staticClass:"p-2"},[a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v("No hay ningún producto registrado")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columns,loading:t.productState,"data-source":t.products,scroll:t.getScreen},scopedSlots:t._u([{key:"filterDropdown",fn:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,s=e.clearFilters,i=e.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por "+i.title.toLowerCase(),value:r[0]},on:{change:function(t){return n(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(r,o,i.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(r,o,i.dataIndex)}}},[t._v("\n                                  Buscar\n                              ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(s)}}},[t._v("\n                                  Restablecer\n                              ")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"total",fn:function(e,n){return[parseFloat(n.quantity)+parseFloat(n.entry)-parseFloat(n.consume)<n.alertTotal?a("span",{staticClass:"text-danger"},[t._v("\n                                  "+t._s(parseFloat(n.quantity)+parseFloat(n.entry)-parseFloat(n.consume))+"\n                                  "),a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Bajo en stock")])]),a("a-icon",{staticClass:"ml-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em","font-size":"1.1em"},attrs:{type:"exclamation-circle"}})],2)],1):a("span",[t._v("\n                                  "+t._s(parseFloat(n.quantity)+parseFloat(n.entry)-parseFloat(n.consume))+"\n                                ")])]}},{key:"price",fn:function(e){return[t._v("\n                                  "+t._s(t.formatPrice(e))+"\n                              ")]}},{key:"actions",fn:function(e,n){return[a("b",[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Anexar productos")])]),a("base-button",{attrs:{disabled:!t.validRoute("bodega","anexar_productos"),title:"Compras",size:"sm",type:"success",icon:"fa fa-plus"},on:{click:function(e){t.modals.modal1=!0,t.validForm=3,t.dataProduct.entry="",t.dataProduct.measure=n.measure,t.dataProduct.product=n.product,t.initialState(1,n._id)}}})],2),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Editar producto")])]),a("base-button",{attrs:{disabled:!t.validRoute("bodega","editar_producto"),title:"Editar producto",size:"sm",type:"default",icon:"fa fa-edit"},on:{click:function(e){return t.pushDataProduct(n.product,n.measure,n.price,n.alertTotal,n._id)}}})],2),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Eliminar")])]),a("base-button",{attrs:{disabled:!t.validRoute("bodega","eliminar_producto"),title:"Eliminar",size:"sm",type:"danger",icon:"fa fa-trash"},on:{click:function(e){return t.deleteItem(n._id)}}})],2)],1)]}}])})],1)],1)]],2),a("tab-pane",{attrs:{title:"Profile"}},[a("span",{attrs:{slot:"title",id:"provedorBtn"},slot:"title"},[a("i",{staticClass:"fa fa-user-tie"}),t._v("\n                  Tabla de proveedores\n              ")]),[a("div",{staticClass:"p-2"},[a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v("No hay ningún proveedor registrado")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columnsProviders,loading:t.productState,"data-source":t.providerTable,scroll:t.getScreen},scopedSlots:t._u([{key:"filterDropdown",fn:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,s=e.clearFilters,i=e.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por "+i.title.toLowerCase(),value:r[0]},on:{change:function(t){return n(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(r,o,i.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(r,o,i.dataIndex)}}},[t._v("\n                                  Buscar\n                              ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(s)}}},[t._v("\n                                  Restablecer\n                              ")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"actions",fn:function(e,n){return[a("b",[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Editar")])]),a("base-button",{attrs:{disabled:!t.validRoute("bodega","editar_proveedor"),size:"sm",type:"default",icon:"fas fa-edit"},on:{click:function(e){t.modals.modal3=!0,t.providerSup.typeProvider="Editar",t.pushDataProvider(n.name,n.document,n.contact,n.contactPlus,n.location,n._id)}}})],2),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Eliminar")])]),a("base-button",{attrs:{disabled:!t.validRoute("bodega","eliminar_proveedor"),size:"sm",type:"danger",icon:"fa fa-trash"},on:{click:function(e){return t.deleteProvider(n._id)}}})],2)],1)]}}])})],1)],1)]],2),a("tab-pane",[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"ni ni-calendar-grid-58"}),t._v("\n                Historial\n              ")]),a("tabs",{staticClass:"flex-column flex-md-row",attrs:{fill:""}},[a("card",{attrs:{shadow:""}},[a("tab-pane",[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"fa fa-money-check-alt"}),t._v("\n                              Historial de compras y abastecimientos\n                          ")]),[a("div",{staticClass:"p-2"},[a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v(t._s(t.messageHistory))])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columnsHistory,loading:t.productState,"data-source":t.dataHistory,scroll:t.getScreen},scopedSlots:t._u([{key:"filterDropdown",fn:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,s=e.clearFilters,i=e.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por "+i.title.toLowerCase(),value:r[0]},on:{change:function(t){return n(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(r,o,i.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(r,o,i.dataIndex)}}},[t._v("\n                                            Buscar\n                                        ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(s)}}},[t._v("\n                                            Restablecer\n                                        ")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"date",fn:function(e){return[t._v("\n                                            "+t._s(t.formatDate(e))+"\n                                        ")]}},{key:"price",fn:function(e){return[t._v("\n                                            "+t._s(t.formatPrice(e))+"\n                                        ")]}},{key:"priceTotal",fn:function(e,n){return[a("span","Abastecimiento"==e||"Devolución"==e||"Descartamiento"==e?[t._v("No aplica")]:[t._v(t._s(t.formatPrice(e*n.entry)))])]}}])})],1)],1)]],2),a("tab-pane",{attrs:{title:"Profile"}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"fa fa-file-contract"}),t._v("\n                              Historial de cierres\n                          ")]),[a("div",{staticClass:"p-2"},[a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v(t._s(t.messageHistory))])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columnsHistoryClosed,loading:t.productState,"data-source":t.dataHistoryClosed,scroll:t.getScreen},scopedSlots:t._u([{key:"filterDropdown",fn:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,s=e.clearFilters,i=e.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por "+i.title.toLowerCase(),value:r[0]},on:{change:function(t){return n(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(r,o,i.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(r,o,i.dataIndex)}}},[t._v("\n                                            Buscar\n                                        ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(s)}}},[t._v("\n                                            Restablecer\n                                        ")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"date",fn:function(e){return[t._v("\n                                            "+t._s(t.formatDate(e))+"\n                                        ")]}},{key:"user",fn:function(e){return[t._v("\n                                            "+t._s(e.email)+"\n                                        ")]}},{key:"report",fn:function(e,n){return[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Ver informe")])]),a("base-button",{attrs:{size:"sm",type:"default",icon:"ni ni-bullet-list-67"},on:{click:function(e){t.modals.modal5=!0,t.validForm=2,t.dataHistoryClosedReport=n.products,t.dateReport=n.createdAt}}})],2)]}}])})],1)],1)]],2)],1)],1)],1)],1)],1),a("modal",{attrs:{show:t.modals.modal1,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-sm"},on:{"update:show":function(e){return t.$set(t.modals,"modal1",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[void 0,[3!=t.validForm?a("div",{staticClass:"text-center text-muted mb-4",staticStyle:{"margin-top":"-30%"}},[a("small",[t._v("Datos del producto")])]):a("div",{staticClass:"text-center text-muted mb-4",staticStyle:{"margin-top":"-30%"}},[a("small",[t._v("Anexa mas productos a "+t._s(t.dataProduct.product))])]),a("form",{attrs:{role:"form"}},[3==t.validForm?a("div",{staticClass:"row"},[a("div",{staticClass:"col-7"},[a("base-input",{attrs:{alternative:"",placeholder:"Cantidad","addon-left-icon":"fa fa-box-open"},model:{value:t.dataProduct.entry,callback:function(e){t.$set(t.dataProduct,"entry",e)},expression:"dataProduct.entry"}})],1),a("div",{staticClass:"col-5 mt-2"},[t._v("\n                      "+t._s(t.dataProduct.measure)+"\n                    ")])]):t._e(),3==t.validForm?a("base-input",{attrs:{"addon-left-icon":"ni ni-calendar-grid-58"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.focus,r=e.blur;return a("flat-picker",{staticClass:"form-control datepicker",attrs:{config:t.configDatePicker,placeholder:"Seleccione una fecha de compra"},on:{"on-open":n,"on-close":r},model:{value:t.dateAdd,callback:function(e){t.dateAdd=e},expression:"dateAdd"}})}}],null,!1,752621718)}):t._e(),3!=t.validForm?a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Nombre","addon-left-icon":"fa fa-edit"},model:{value:t.dataProduct.product,callback:function(e){t.$set(t.dataProduct,"product",e)},expression:"dataProduct.product"}}):t._e(),3!=t.validForm?a("select",{directives:[{name:"model",rawName:"v-model",value:t.dataProduct.measure,expression:"dataProduct.measure"}],staticClass:"form-control mb-3",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dataProduct,"measure",e.target.multiple?a:a[0])}}},[a("option",{staticStyle:{color:"black"},attrs:{selected:"",value:""}},[t._v("Seleccione el tipo de medida")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Gramo(s)"}},[t._v("Gramo(s)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Kilogramo(s)"}},[t._v("Kilogramo(s)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Litro(s)"}},[t._v("Litro(s)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Mililitro(s)"}},[t._v("Mililitro(s)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Unidad"}},[t._v("Unidad")])]):t._e(),1==t.validForm?a("base-input",{attrs:{alternative:"",placeholder:"Numero para alerta","addon-left-icon":"fa fa-bell"},on:{keyup:function(e){return t.verifyDecimal()}},model:{value:t.dataProduct.alertTotal,callback:function(e){t.$set(t.dataProduct,"alertTotal",e)},expression:"dataProduct.alertTotal"}}):t._e(),a("a-tooltip",{attrs:{placement:"right"}},[a("template",{slot:"title"},[a("span",[t._v("Introduzca gasto total")])]),1!=t.validForm?a("currency-input",{staticClass:"form-control mb-3",staticStyle:{"margin-top":"-10px"},attrs:{locale:"de",placeholder:"Gasto total","addon-left-icon":"ni ni-money-coins"},model:{value:t.dataProduct.price,callback:function(e){t.$set(t.dataProduct,"price",e)},expression:"dataProduct.price"}}):t._e()],2),3==t.validForm?a("base-button",{staticClass:"mb-2",attrs:{icon:"fa fa-plus",size:"sm",type:"success"},on:{click:function(e){t.modals.modal3=!0,t.providerSup.typeProvider="Registrar",t.initialState(2)}}},[t._v("Registrar proveedor")]):t._e(),3==t.validForm?a("a-select",{staticClass:"input-group-alternative w-100 mb-4 mt-2",attrs:{"default-value":"Seleccione un proveedor",size:"large"}},t._l(t.providers,(function(e){return a("a-select-option",{key:e,attrs:{value:e},on:{click:function(a){return t.selectProviderForProduct(e)}}},[t._v("\n                          "+t._s(e)+"\n                      ")])})),1):t._e(),a("div",{staticClass:"text-center"},[1==t.validForm?a("base-button",{attrs:{disabled:""==t.dataProduct.product||""==t.dataProduct.measure||""==t.dataProduct.alertTotal,type:"default"},on:{click:function(e){return t.addProduct()}}},[t._v("Registrar")]):t._e(),2==t.validForm?a("base-button",{attrs:{type:"default"},on:{click:function(e){return t.updateProducts()}}},[t._v("Editar")]):t._e(),3==t.validForm?a("base-button",{attrs:{disabled:""==t.dataProduct.entry||null==t.dataProduct.price||""==t.dateAdd||""==t.dataProduct.price||0==t.dataProduct.price||""==t.provider.name,type:"success"},on:{click:function(e){return t.addMore(t.dataProduct.id)}}},[t._v("Agregar")]):t._e()],1)],1)]],2)],1),a("modal",{attrs:{show:t.modals.modal6,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-sm"},on:{"update:show":function(e){return t.$set(t.modals,"modal6",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-center mb-4",staticStyle:{"margin-top":"-30%"}},[t._v("\n                  Editar producto\n              ")]),a("form",{attrs:{role:"form"}},[a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Nombre","addon-left-icon":"fa fa-edit"},model:{value:t.dataProduct.product,callback:function(e){t.$set(t.dataProduct,"product",e)},expression:"dataProduct.product"}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.dataProduct.measure,expression:"dataProduct.measure"}],staticClass:"form-control mb-3",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dataProduct,"measure",e.target.multiple?a:a[0])}}},[a("option",{staticStyle:{color:"black"},attrs:{selected:"",value:""}},[t._v("Seleccione el tipo de medida")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Gramo(s)"}},[t._v("Gramo(s)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Kilogramo(s)"}},[t._v("Kilogramo(s)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Litro(s)"}},[t._v("Litro(s)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Mililitro(s)"}},[t._v("Mililitro(s)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"Unidad"}},[t._v("Unidad")])]),a("base-input",{attrs:{alternative:"",placeholder:"Numero para alerta","addon-left-icon":"fa fa-bell"},on:{keyup:function(e){return t.verifyDecimal()}},model:{value:t.dataProduct.alertTotal,callback:function(e){t.$set(t.dataProduct,"alertTotal",e)},expression:"dataProduct.alertTotal"}})],1)],a("div",{staticClass:"text-center"},[a("base-button",{attrs:{disabled:""==t.dataProduct.product||""==t.dataProduct.measure||""==t.dataProduct.alertTotal,type:"default"},on:{click:function(e){return t.editProduct()}}},[t._v("Editar")])],1)],2)],1),a("modal",{attrs:{show:t.modals.modal3,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-sm"},on:{"update:show":function(e){return t.$set(t.modals,"modal3",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-center text-muted mb-4",staticStyle:{"margin-top":"-30%"}},[a("small",[t._v("Datos del proveedor")])]),a("form",{attrs:{role:"form"}},[a("base-input",{attrs:{alternative:"",placeholder:"Nombre de la empresa","addon-left-icon":"fa fa-user-tie","addon-right-icon":"fa fa-asterisk text-danger"},on:{keyup:function(e){return t.validProviders()}},model:{value:t.provider.name,callback:function(e){t.$set(t.provider,"name",e)},expression:"provider.name"}}),a("base-input",{attrs:{alternative:"",placeholder:"Datos de identificación","addon-left-icon":"fa fa-key","addon-right-icon":"fas fa-plus text-default"},on:{keyup:function(e){return t.formatRut(t.provider.document)}},model:{value:t.provider.document,callback:function(e){t.$set(t.provider,"document",e)},expression:"provider.document"}}),a("VuePhoneNumberInput",{staticClass:"mb-4",attrs:{"default-phoner-number":t.provider.contact.nationalNumber,"default-country-code":t.provider.contact.countryCode,translations:{countrySelectorLabel:"Código de país",countrySelectorError:"Elije un país",phoneNumberLabel:"Número de teléfono",example:"Ejemplo :"}},on:{update:function(e){t.provider.contact=e}},model:{value:t.provider.contact.formatNational,callback:function(e){t.$set(t.provider.contact,"formatNational",e)},expression:"provider.contact.formatNational"}}),a("base-input",{attrs:{alternative:"",placeholder:"Correo","addon-left-icon":"fa fa-address-book","addon-right-icon":"fas fa-plus text-default"},model:{value:t.provider.contactPlus,callback:function(e){t.$set(t.provider,"contactPlus",e)},expression:"provider.contactPlus"}}),a("base-input",{attrs:{alternative:"",placeholder:"Dirección de la empresa","addon-left-icon":"fas fa-route","addon-right-icon":"fa fa-asterisk text-danger"},on:{keyup:function(e){return t.validProviders()}},model:{value:t.provider.location,callback:function(e){t.$set(t.provider,"location",e)},expression:"provider.location"}})],1)],a("div",{staticClass:"text-center"},[a("base-button",{attrs:{disabled:t.providerSup.validProvider,type:"default"},on:{click:function(e){return t.providerFunction()}}},[t._v(t._s(t.providerSup.typeProvider))])],1)],2)],1),a("modal",{attrs:{show:t.modals.modal4,"modal-classes":"modal-dialog-centered modal-lg"},on:{"update:show":function(e){return t.$set(t.modals,"modal4",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Cierre de bodega")]),a("vue-custom-scrollbar",{staticStyle:{height:"30vh",overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"}},[a("div",{staticClass:"row p-2 m-2"},[a("div",{staticClass:"col-6"},[t._v("\n          Nombre del producto\n        ")]),a("div",{staticClass:"col-6 text-left"},[t._v("\n          Total real\n        ")])]),t._l(t.products,(function(e,n){return a("div",{key:n,staticClass:"row p-2 m-2"},[a("dt",{staticClass:"col-6 mt-2"},[t._v(t._s(e.product))]),a("base-input",{staticClass:"col-6",attrs:{placeholder:"Ingrese cantidad en "+e.measure},model:{value:t.countProduct[n].count,callback:function(e){t.$set(t.countProduct[n],"count",e)},expression:"countProduct[index].count"}})],1)}))],2),a("template",{slot:"footer"},[a("base-button",{attrs:{type:"default"},on:{click:t.closeStore}},[t._v("Cerrar inventario")]),a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.modal4=!1}}},[t._v("Salir\n        ")])],1)],2),a("modal",{attrs:{"modal-classes":"modal-dialog-centered modal-xl",show:t.modals.modal5},on:{"update:show":function(e){return t.$set(t.modals,"modal5",e)}}},[a("h4",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Informe de cierre")]),[a("div",{staticClass:"p-2"},[a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v(t._s(t.messageHistory))])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columnsHistoryClosedReport,loading:t.productState,"data-source":t.dataHistoryClosedReport,scroll:t.getScreen},scopedSlots:t._u([{key:"filterDropdown",fn:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,s=e.clearFilters,i=e.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por "+i.title.toLowerCase(),value:r[0]},on:{change:function(t){return n(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(r,o,i.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(r,o,i.dataIndex)}}},[t._v("\n                          Buscar\n                      ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(s)}}},[t._v("\n                          Restablecer\n                      ")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}}])})],1)],1)],a("template",{slot:"footer"},[a("base-button",{staticClass:"ml-auto",attrs:{type:"default"},on:{click:t.printExcel}},[t._v("\n              Imprimir excel\n          ")])],1)],2),a("modal",{attrs:{"modal-classes":"modal-dialog-centered modal-xl",show:t.modalAdminProduct.modal1},on:{"update:show":function(e){return t.$set(t.modalAdminProduct,"modal1",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Gestión de sucursales")]),a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col-md-4 mx-auto"},[a("a-select",{staticClass:"input-group-alternative w-100 mx-auto",attrs:{"show-search":"","default-value":"Seleccione una sucursal",size:"large"},on:{change:t.selectEmploye}},t._l(t.branches,(function(e){return e.active?a("a-select-option",{key:e._id,attrs:{value:e.name},on:{click:function(a){return t.getInventoryByBranch(e._id,e.name)}}},[t._v("\n                      "+t._s(e.name)+"\n                  ")]):t._e()})),1)],1),a("div",{staticClass:"col-md-4 mx-auto"},[t.productsForBranch.length>0?a("a-select",{staticClass:"input-group-alternative w-100",attrs:{"default-value":"Seleccione un producto",size:"large"}},t._l(t.productsForBranch,(function(e){return a("a-select-option",{key:e,attrs:{value:e.name,disabled:e.disabled},on:{click:function(a){return t.selectProductForBranch(e.data)}}},[t._v("\n                      "+t._s(e.name)+"\n                  ")])})),1):t._e()],1),a("div",{staticClass:"col-md-3 mx-auto"},[a("base-button",{staticClass:"mx-auto",attrs:{type:"success",disabled:""==t.productForBranch},on:{click:t.addProductToBranch}},[t._v("Agregar un producto\n              ")])],1)]),1==t.branchDataValid?a("a-empty",[a("span",{attrs:{slot:"description"},slot:"description"},[t._v(" Selecciona una sucursal ")])]):a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v("Esta sucursal no posee ningún producto")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columnsBranchData,"data-source":t.branchData,scroll:t.getScreen},scopedSlots:t._u([{key:"filterDropdown",fn:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,s=e.clearFilters,i=e.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por nombre",value:r[0]},on:{change:function(t){return n(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(r,o,i.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(r,o,i.dataIndex)}}},[t._v("\n                      Buscar\n                  ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(s)}}},[t._v("\n                      resetear\n                  ")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"customRender",fn:function(e,n,r,o){return[t.searchText&&t.searchedColumn===o.dataIndex?a("span",[t._l(e.toString().split(new RegExp("(?<="+t.searchText+")|(?="+t.searchText+")","i")),(function(e,n){return[e.toLowerCase()===t.searchText.toLowerCase()?a("mark",{key:n,staticClass:"highlight"},[t._v(t._s(e))]):[t._v(t._s(e))]]}))],2):[t._v("\n                      "+t._s(e)+"\n                  ")]]}},{key:"actions",fn:function(e,n){return[a("base-button",{staticClass:" mr-0",attrs:{size:"sm",type:"danger",icon:"fa fa-trash"},on:{click:function(e){return t.deleteProductByBranch(n)}}}),a("base-button",{staticClass:"ml-1",attrs:{size:"sm",type:"primary",icon:"ni ni-bell-55"},on:{click:function(e){t.modalAdminProduct.modal4=!0,t.idForAlert=n._id,t.branchAlert=n.alertTotal}}})]}},{key:"total",fn:function(e,n){return[parseFloat(n.quantity)+parseFloat(n.entry)-parseFloat(n.consume)<n.alertTotal?a("span",{staticClass:"text-danger"},[t._v("\n                  "+t._s(parseFloat(n.quantity)+parseFloat(n.entry)-parseFloat(n.consume))+"\n                  "),a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Bajo en stock")])]),a("a-icon",{staticClass:"ml-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em","font-size":"1.1em"},attrs:{type:"exclamation-circle"}})],2)],1):a("span",[t._v("\n                  "+t._s(parseFloat(n.quantity)+parseFloat(n.entry)-parseFloat(n.consume))+"\n                  ")])]}},{key:"add",fn:function(e,n,r){return[a("base-button",{staticClass:"float-right ml-2",attrs:{size:"sm",type:"success",disabled:!(t.branchEntry[r].count>0),icon:"fa fa-plus"},on:{click:function(e){return t.addToProductBranch(n._id,n.storeId,n.measure,r)}}}),a("base-button",{staticClass:"float-right ml-2",attrs:{size:"sm",type:"danger",disabled:!(t.branchEntry[r].count>0),icon:"fa fa-minus"},on:{click:function(e){t.removeProductsBranch(n._id,n.storeId,r,n.measure,n.quantity+n.entry-n.consume)}}}),a("a-input",{staticClass:"ml-auto float-right",staticStyle:{width:"65%"},attrs:{placeholder:"Cantidad"},model:{value:t.branchEntry[r].count,callback:function(e){t.$set(t.branchEntry[r],"count",e)},expression:"branchEntry[index].count"}})]}},{key:"format-date",fn:function(e,a){return[t._v("\n                  "+t._s(t.formatDate(a.createdAt))+"\n              ")]}},{key:"totalStore",fn:function(e,a){return[t._v("\n                  "+t._s(t.getQuantity(a.storeId))+"\n              ")]}}])})],1),a("template",{slot:"footer"},[a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modalAdminProduct.modal1=!1}}},[t._v("Cerrar\n          ")])],1)],2),a("modal",{attrs:{"modal-classes":"modal-dialog-centered modal-lg",show:t.modalAdminProduct.modal2},on:{"update:show":function(e){return t.$set(t.modalAdminProduct,"modal2",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Gestionar productos de sucursal ")]),0==t.branchData?a("a-empty",[a("span",{attrs:{slot:"description"},slot:"description"},[t._v(" Selecciona una sucursal ")])]):t._e(),t.branchData==[]?a("a-empty",[a("span",{attrs:{slot:"description"},slot:"description"},[t._v(" Esta sucursal no posee ningún producto registrado ")])]):t._e(),t._l(t.branchData,(function(e,n){return a("base-button",{key:e,staticClass:"col-12 mb-1",staticStyle:{cursor:"default"},attrs:{size:"sm",type:"secondary"}},[a("div",{staticClass:"row p-0"},[a("div",{staticClass:"col-5 p-0"},[a("base-button",{staticClass:"float-left ml-2 mr-0",attrs:{size:"sm",type:"danger",icon:"fa fa-trash"},on:{click:function(a){return t.deleteProductByBranch(e)}}}),a("base-button",{staticClass:"float-left ml-1",attrs:{size:"sm",type:"primary",icon:"ni ni-bell-55"},on:{click:function(a){t.modalAdminProduct.modal4=!0,t.idForAlert=e._id,t.branchAlert=e.alertTotal}}}),parseFloat(e.quantity)+parseFloat(e.entry)-parseFloat(e.consume)<e.alertTotal?a("span",{staticClass:"text-danger",staticStyle:{"vertical-align":"-0.4em"}},[t._v("\n                      "+t._s(e.product)+"\n                      "),a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Este producto necesita ser reabastecido.")])]),a("a-icon",{staticClass:"ml-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em","font-size":"1.1em"},attrs:{type:"exclamation-circle"}})],2)],1):a("span",{staticStyle:{"vertical-align":"-0.4em"}},[t._v("\n                      "+t._s(e.product)+"\n                  ")])],1),t.branchEntry!=[]?a("div",{staticClass:"col-7 row p-0"},[a("a-input",{staticClass:"w-75 ml-auto float-right",attrs:{placeholder:"Ingrese cantidad en "+e.measure},model:{value:t.branchEntry[n].count,callback:function(e){t.$set(t.branchEntry[n],"count",e)},expression:"branchEntry[index].count"}}),a("base-button",{staticClass:"float-right ml-auto",attrs:{size:"sm",type:"success",icon:"fa fa-plus"},on:{click:function(a){return t.addToProductBranch(e._id,e.storeId,e.measure,n)}}})],1):t._e()])])})),a("template",{slot:"footer"},[a("base-button",{staticClass:"ml-auto",attrs:{type:"success"},on:{click:function(e){t.modalAdminProduct.modal3=!0,t.selectLoad()}}},[t._v("Agregar un producto\n          ")]),a("base-button",{staticClass:"mr-auto",attrs:{type:"link"},on:{click:function(e){t.modalAdminProduct.modal2=!1}}},[t._v("Cerrar\n          ")])],1)],2),a("modal",{attrs:{"modal-classes":"modal-dialog-centered modal-lg",show:t.modalAdminProduct.modal3},on:{"update:show":function(e){return t.$set(t.modalAdminProduct,"modal3",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Gestionar productos de sucursal ")]),0==t.productsForBranch.length?a("a-empty",[a("span",{attrs:{slot:"description"},slot:"description"},[t._v(" No existen productos en la bodega ")])]):t._e(),t.productsForBranch.length>0?a("a-select",{staticClass:"input-group-alternative w-100 mb-4 mt-2",attrs:{"default-value":"Seleccione un producto",size:"large"}},t._l(t.productsForBranch,(function(e){return a("a-select-option",{key:e,attrs:{value:e.name,disabled:e.disabled},on:{click:function(a){return t.selectProductForBranch(e.data)}}},[t._v("\n              "+t._s(e.name)+"\n          ")])})),1):t._e(),a("template",{slot:"footer"},[a("base-button",{staticClass:"ml-auto",attrs:{type:"success"},on:{click:t.addProductToBranch}},[t._v("Agregar\n          ")]),a("base-button",{staticClass:"mr-auto",attrs:{type:"link"},on:{click:function(e){t.modalAdminProduct.modal3=!1}}},[t._v("Cerrar\n          ")])],1)],2),a("modal",{attrs:{"modal-classes":"modal-dialog-centered modal-lg",show:t.modalAdminProduct.modal4},on:{"update:show":function(e){return t.$set(t.modalAdminProduct,"modal4",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Gestionar productos de sucursal ")]),a("div",{staticClass:"text-center text-muted mb-4"},[a("small",[t._v("Anexa mas productos.")])]),a("base-input",{attrs:{alternative:"",placeholder:"Numero para alerta","addon-left-icon":"fa fa-bell"},on:{keyup:function(e){return t.verifyDecimalBranch()}},model:{value:t.branchAlert,callback:function(e){t.branchAlert=e},expression:"branchAlert"}}),a("template",{slot:"footer"},[a("base-button",{staticClass:"ml-auto",attrs:{type:"success"},on:{click:t.addAlertToBranch}},[t._v("Agregar\n          ")]),a("base-button",{staticClass:"mr-auto",attrs:{type:"link"},on:{click:function(e){t.modalAdminProduct.modal4=!1}}},[t._v("Cerrar\n          ")])],1)],2)],1)},r=[],o=(a("ac4d"),a("8a81"),a("a481"),a("96cf"),a("3b8d")),s=(a("ac6a"),a("7f7f"),a("6b54"),a("6762"),a("2fdb"),a("bc3a")),i=a.n(s),l=a("a5e9"),c=a.n(l),d=a("4b70"),u=a.n(d),h=a("e366"),p=a("c38f"),m=a.n(p),f=(a("0952"),a("4984")),g=a("04e1"),v=a.n(g),b=a("7bec"),y=a.n(b),x=(a("4413"),a("1146")),w=a.n(x),C=a("ef34"),k=a("bb36"),S={mixins:[C["a"],k["a"]],components:{flatPicker:m.a,vueCustomScrollbar:u.a,VuePhoneNumberInput:y.a},data:function(){var t=this;return{countProduct:[],usuario:localStorage.nombre+" "+localStorage.apellido,myId:null,historyClosed:[],validForm:0,branches:[],branchDataValid:!0,branchData:[],selectedBranchName:"",branchEntry:[],branchAlert:null,idForAlert:"",selectedBranch:"",productsForBranch:[],productForBranch:"",providerSup:{validProvider:!1,typeProvider:""},history:[],provider:{name:"No entender",document:"",contact:{countryCode:"CL",isValid:!1,phoneNumber:"",countryCallingCode:"",formattedNumber:"",nationalNumber:"",formatInternational:"",formatNational:"",uri:"",e164:""},contactPlus:"",location:""},configHeader:{headers:{"x-database-connect":c.a.database,"x-access-token":localStorage.userToken}},providers:[],providerTable:[],dateAdd:"",productState:!1,addValid:!0,configDatePicker:{allowInput:!0,dateFormat:"m-d-Y",locale:f["Spanish"]},auth:[],modals:{modal1:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1},modalAdminProduct:{modal1:!1,modal2:!1,modal3:!1,modal4:!1},dataProduct:{product:"",price:"",measure:"",quantity:"",entry:"",alertTotal:"",id:null},messageHistory:"",products:[],searchText:"",searchInput:null,searchedColumn:"",columnsBranchData:[{title:"Productos",dataIndex:"product",key:"product",sorter:function(t,e){return t.product>e.product?-1:e.product>t.product?1:0},sortDirections:["descend","ascend"],scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.product.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Medida",dataIndex:"measure",width:120,key:"price",scopedSlots:{customRender:"price"},sorter:function(t,e){return t.price-e.price}},{title:"Total bodega",width:120,key:"_id",scopedSlots:{customRender:"totalStore"},sorter:function(t,e){return t.quantity+t.entry-t.consume-(e.quantity+e.entry-e.consume)}},{title:"Agregar / Restar cantidades",dataIndex:"_id",key:"_id",scopedSlots:{customRender:"add"}},{title:"Total sucursal",width:120,key:"_id",scopedSlots:{customRender:"total"},sorter:function(t,e){return t.quantity+t.entry-t.consume-(e.quantity+e.entry-e.consume)}},{title:"Acciones",dataIndex:"_id",width:150,key:"_id",scopedSlots:{customRender:"actions"}}],columns:[{title:"Producto",dataIndex:"product",key:"product",ellipsis:!0,sorter:function(t,e){return t.product>e.product?-1:e.product>t.product?1:0},sortDirections:["descend","ascend"],scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.product.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Precio promedio",dataIndex:"price",key:"price",ellipsis:!0,scopedSlots:{customRender:"price"},sorter:function(t,e){return t.price-e.price}},{title:"Tipo de medida",dataIndex:"measure",key:"measure",ellipsis:!0,scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.measure.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Cantidad inicial",dataIndex:"quantity",key:"quantity",ellipsis:!0,scopedSlots:{customRender:"quantity"},sorter:function(t,e){return t.quantity-e.quantity}},{title:"Cantidad ingresada",dataIndex:"entry",key:"entry",ellipsis:!0,scopedSlots:{customRender:"entry"},sorter:function(t,e){return t.entry-e.entry}},{title:"Consumo",dataIndex:"consume",key:"consume",ellipsis:!0,scopedSlots:{customRender:"consume"},sorter:function(t,e){return t.consume-e.consume}},{title:"Total",key:"_id",ellipsis:!0,scopedSlots:{customRender:"total"},sorter:function(t,e){return t.quantity+t.entry-t.consume-(e.quantity+e.entry-e.consume)}},{title:"Acciones",dataIndex:"_id",key:"_id",scopedSlots:{customRender:"actions"}}],columnsProviders:[{title:"Nombre de la empresa",dataIndex:"name",key:"name",ellipsis:!0,sorter:function(t,e){return t.name>e.name?-1:e.name>t.name?1:0},sortDirections:["descend","ascend"],scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.name.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Documento",dataIndex:"document",key:"document",ellipsis:!0,scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.document.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Teléfono",dataIndex:"contact.formatInternational",key:"contact.formatInternational",ellipsis:!0,scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.contact.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Correo",dataIndex:"contactPlus",key:"contactPlus",ellipsis:!0,scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.contactPlus.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Ubicación",dataIndex:"location",key:"location",ellipsis:!0,scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.location.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Acciones",dataIndex:"_id",key:"_id",scopedSlots:{customRender:"actions"}}],dateReport:"",columnsHistory:[{title:"Fecha",dataIndex:"date",key:"date",ellipsis:!0,defaultSortOrder:"descend",sorter:function(t,e){return new Date(t.date).getTime()-new Date(e.date).getTime()},scopedSlots:{customRender:"date"}},{title:"Producto",dataIndex:"product",key:"product",ellipsis:!0,sorter:function(t,e){return t.product>e.product?-1:e.product>t.product?1:0},sortDirections:["descend","ascend"],scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.product.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Anexado",dataIndex:"entry",key:"entry",ellipsis:!0},{title:"Medida",dataIndex:"measure",key:"measure",ellipsis:!0},{title:"Precio por medida",dataIndex:"price",key:"price",ellipsis:!0,scopedSlots:{customRender:"price"},sorter:function(t,e){return t.price-e.price}},{title:"Gasto total",dataIndex:"price",key:"price",ellipsis:!0,scopedSlots:{customRender:"priceTotal"},sorter:function(t,e){return t.price-e.price}},{title:"Proveedor",dataIndex:"provider",key:"provider",ellipsis:!0,scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"provide"},onFilter:function(t,e){return e.provider.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Destino",dataIndex:"branchName",key:"branchName",ellipsis:!0,scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"branchName"},onFilter:function(t,e){return e.branchName.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}}],columnsHistoryClosed:[{title:"Fecha",dataIndex:"createdAt",key:"createdAt",ellipsis:!0,defaultSortOrder:"descend",sorter:function(t,e){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()},scopedSlots:{customRender:"date"}},{title:"Encargado del cierre",dataIndex:"user",key:"user",ellipsis:!0,sorter:function(t,e){return t.user>e.user?-1:e.user>t.user?1:0},sortDirections:["descend","ascend"],scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"user"},onFilter:function(t,e){return e.user.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Productos totales",dataIndex:"totalProduct",key:"totalProduct",ellipsis:!0},{title:"Informe",dataIndex:"_id",scopedSlots:{customRender:"report"},key:"_id",ellipsis:!0}],columnsHistoryClosedReport:[{title:"Producto",dataIndex:"product",key:"product",ellipsis:!0,sorter:function(t,e){return t.product>e.product?-1:e.product>t.product?1:0},sortDirections:["descend","ascend"],scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"product"},onFilter:function(t,e){return e.product.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Medida",dataIndex:"measure",key:"measure",ellipsis:!0,sorter:function(t,e){return t.measure>e.measure?-1:e.measure>t.measure?1:0},sortDirections:["descend","ascend"],scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"measure"},onFilter:function(t,e){return e.measure.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Total ideal",dataIndex:"ideal",key:"ideal",ellipsis:!0},{title:"Total real",dataIndex:"count",key:"count",ellipsis:!0},{title:"Diferencia",dataIndex:"difference",key:"difference",ellipsis:!0}],firstNameUser:"",lastNameUser:"",emailUser:"",idUser:"",dataHistory:"",branchName:"",branch:"",totalStock:0}},created:function(){this.getToken(),this.getProducts(),this.getProviders(),this.getHistoryClosed(),this.getUserData(),this.getHistory(),this.getBranches(),this.getBranch()},methods:{getUserData:function(){this.firstNameUser=localStorage.firstname,this.lastNameUser=localStorage.lastname,this.emailUser=localStorage.email,this.idUser=localStorage._id},getBranch:function(){this.branchName=localStorage.branchName,this.branch=localStorage.branch},getToken:function(){var t=localStorage.userToken;if(t.length>0){var e=v()(t);this.auth=e.access}},getQuantity:function(t){var e=0;return this.products.forEach((function(a){a._id==t&&(e=a.entry+a.quantity-a.consume)})),e},getProducts:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.countProduct=[],t.prev=1,t.next=4,i.a.get(c.a.endpointTarget+"/stores/getstore",this.configHeader);case 4:if(e=t.sent,"ok"==e.data.status)for(this.products=e.data.data,a=0;a<this.products.length;a++)n=this.products[a].quantity+this.products[a].entry-this.products[a].consume,this.countProduct.push({id:this.products[a]._id,count:"",ideal:n,measure:this.products[a].measure,product:this.products[a].product,difference:""}),this.totalStock=this.totalStock+(this.products[a].quantity+this.products[a].entry-this.products[a].consume)*this.products[a].price;else this.products=[];t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),getProviders:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get(c.a.endpointTarget+"/stores/getproviders",this.configHeader);case 3:if(e=t.sent,"ok"==e.data.status)for(this.providerTable=e.data.data,this.providers=[],a=0;a<e.data.data.length;a++)this.providers.push(e.data.data[a].name);else this.providers=[],this.providerTable=[];t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getHistory:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get(c.a.endpointTarget+"/stores/getstorehistory",this.configHeader);case 3:e=t.sent,this.validRoute("bodega","ver_historial_compras")?"ok"==e.data.status?this.dataHistory=e.data.data:(this.dataHistory=[],this.messageHistory="Sin historial registrado"):this.messageHistory="No tiene permisos para visualizar historial",t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getBranches:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get(c.a.endpointTarget+"/branches",this.configHeader);case 3:e=t.sent,e&&(this.branches=e.data.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getInventoryByBranch:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.selectedBranch=e,this.selectedBranchName=a,this.branchEntry=[],this.branchData=[],this.branchDataValid=!1,this.productsForBranch=[],t.prev=6,t.next=9,i.a.get(c.a.endpointTarget+"/stores/getinventorybybranch/"+e,this.configHeader);case 9:if(n=t.sent,"ok"==n.data.status)for(this.branchData=n.data.data,r=0;r<this.branchData.length;r++)this.branchEntry.push({count:""});this.selectLoad(),this.productForBranch="",t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](6),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 18:case"end":return t.stop()}}),t,this,[[6,15]])})));function e(e,a){return t.apply(this,arguments)}return e}(),selectLoad:function(){this.productsForBranch=[];for(var t=0;t<this.products.length;t++){var e=!1,a=this.products[t];if(this.branchData)for(var n=0;n<this.branchData.length;n++){var r=this.branchData[n];if(r.product==a.product){e=!0;break}}e?this.productsForBranch.push({data:a,name:a.product,disabled:!0}):this.productsForBranch.push({data:a,name:a.product,disabled:!1})}},selectProductForBranch:function(t){this.productForBranch=t},addProductToBranch:function(){var t=this;this.$swal({title:"¿Registrar ".concat(this.productForBranch.product," a sucursal?"),text:"¡Recuerda! este producto se registrará en inventario de la sucursal",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"No, cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(e){e.value?i.a.post(c.a.endpointTarget+"/stores/registertobranch",{branch:t.selectedBranch,storeId:t.productForBranch._id,product:t.productForBranch.product,measure:t.productForBranch.measure,price:t.productForBranch.price},t.configHeader).then((function(e){"product registered"==e.data.status&&(t.$swal({icon:"success",title:"El producto fue agregado a la sucursal",showConfirmButton:!1,timer:1500}),t.modalAdminProduct.modal3=!1,t.getInventoryByBranch(t.selectedBranch,t.selectedBranchName),t.getBranches(),t.productForBranch="",t.productsForBranch=[],setTimeout((function(){t.selectLoad()}),200))})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):t.$swal({icon:"error",title:"Acción cancelada",showConfirmButton:!1,timer:1500})}))},removeProductsBranch:function(t,e,a,n,r){var o=this;i.a.get(c.a.endpointTarget+"/stores/getstorebyid/"+e,this.configHeader).then((function(e){o.branchEntry[a].count<=r?(o.productForBranch=e.data.data,o.$swal({title:"¿Está seguro que desea eliminar "+o.branchEntry[a].count+" "+n+" de este producto?",html:"¡Recuerda! se descontará de la sucursal: <b>"+o.selectedBranchName+"</b>",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"No, cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(e){e.value?i.a.post(c.a.endpointTarget+"/stores/addtobranch",{branch:o.selectedBranch,branchName:o.selectedBranchName,id:t,storeId:o.productForBranch._id,product:o.productForBranch.product,measure:n,price:o.productForBranch.price,entry:-o.branchEntry[a].count,firstNameUser:o.firstNameUser,lastNameUser:o.lastNameUser,emailUser:o.emailUser,idUser:o.idUser,inv:!1},o.configHeader).then((function(t){"added"==t.data.status&&i.a.post(c.a.endpointTarget+"/expenses/",{branch:o.selectedBranch,detail:"Se ha restado ".concat(o.branchEntry[a].count," ").concat(n," de ").concat(o.productForBranch.product," del inventario"),amount:-o.productForBranch.price*o.branchEntry[a].count,type:"Inventario"},o.configHeader).then((function(t){if("ok"==t.data.status){o.$swal({icon:"success",title:"La cantidad fue restada",showConfirmButton:!1,timer:1500}),o.getInventoryByBranch(o.selectedBranch,o.selectedBranchName),o.branchEntry=[];for(var e=0;e<o.branchData.length;e++)o.branchEntry.push({count:""});o.getProducts(),o.getHistory()}})).catch((function(t){t.response?401==t.response.status&&(o.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):o.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))})).catch((function(t){t.response?401==t.response.status&&(o.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):o.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):o.$swal({icon:"error",title:"Acción cancelada",showConfirmButton:!1,timer:1500})}))):o.$swal({icon:"error",title:"La sucursal no dispone de la cantidad ingresada",showConfirmButton:!1,timer:2e3})})).catch((function(t){t.response?401==t.response.status&&(o.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):o.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},addToProductBranch:function(t,e,a,n){var r=this;i.a.get(c.a.endpointTarget+"/stores/getstorebyid/"+e,this.configHeader).then((function(e){var o=e.data.data.quantity+e.data.data.entry-e.data.data.consume;r.branchEntry[n].count<=o?(r.productForBranch=e.data.data,r.$swal({title:"¿Desea agregar "+r.branchEntry[n].count+" "+a+"?",text:"¡Recuerda! Se descontará de tu bodega",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"No, cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(e){e.value?i.a.post(c.a.endpointTarget+"/stores/addtobranch",{branch:r.selectedBranch,branchName:r.selectedBranchName,id:t,storeId:r.productForBranch._id,product:r.productForBranch.product,measure:r.productForBranch.measure,price:r.productForBranch.price,entry:r.branchEntry[n].count,firstNameUser:r.firstNameUser,lastNameUser:r.lastNameUser,emailUser:r.emailUser,idUser:r.idUser},r.configHeader).then((function(t){"added"==t.data.status&&i.a.post(c.a.endpointTarget+"/expenses/",{branch:r.selectedBranch,detail:"Se agregaron ".concat(r.branchEntry[n].count+" "+a," de ").concat(r.productForBranch.product),amount:r.productForBranch.price*r.branchEntry[n].count,type:"Inventario"},r.configHeader).then((function(t){if("ok"==t.data.status){r.$swal({icon:"success",title:"La cantidad fue agregada a la sucursal",showConfirmButton:!1,timer:1500}),r.getInventoryByBranch(r.selectedBranch,r.selectedBranchName),r.branchEntry=[];for(var e=0;e<r.branchData.length;e++)r.branchEntry.push({count:""});r.getProducts(),r.getHistory()}})).catch((function(t){t.response?401==t.response.status&&(r.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):r.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))})).catch((function(t){t.response?401==t.response.status&&(r.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):r.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):r.$swal({icon:"error",title:"Acción cancelada",showConfirmButton:!1,timer:1500})}))):r.$swal({icon:"error",title:"La bodega no dispone de la cantidad ingresada",showConfirmButton:!1,timer:2e3})})).catch((function(t){t.response?401==t.response.status&&(r.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):r.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},deleteProductByBranch:function(t){var e=this;this.$swal({title:"¿Desea eliminar el producto?",html:"¡Recuerda! El producto se eliminará de la sucursal: <b>"+this.selectedBranchName+"</b>",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"No, cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value?i.a.post(c.a.endpointTarget+"/stores/deleteinventoryproduct",{id:t._id,storeId:t.storeId,branch:e.selectedBranch,branchName:e.selectedBranchName,firstNameUser:e.firstNameUser,lastNameUser:e.lastNameUser,emailUser:e.emailUser,idUser:e.idUser,price:"Descartamiento",product:t.product,entry:t.entry,measure:t.measure},e.configHeader).then((function(t){"product deleted"==t.data.status&&i.a.post(c.a.endpointTarget+"/expenses/",{branch:e.selectedBranch,detail:"Producto (".concat(t.data.product,") eliminado del inventario"),amount:-t.data.price*t.data.total,type:"Inventario"},e.configHeader).then((function(t){if("ok"==t.data.status){e.$swal({icon:"success",title:"El producto fue eliminado con éxito",showConfirmButton:!1,timer:1500}),e.getInventoryByBranch(e.selectedBranch,e.selectedBranchName),e.branchEntry=[];for(var a=0;a<e.branchData.length;a++)e.branchEntry.push({count:""});e.getProducts(),e.getHistory()}})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):e.$swal({icon:"error",title:"Acción cancelada",showConfirmButton:!1,timer:1500})}))},getHistoryClosed:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get(c.a.endpointTarget+"/stores/getstoreclosed",this.configHeader);case 3:e=t.sent,this.validRoute("bodega","ver_historial_compras")?"ok"==e.data.status?this.dataHistoryClosed=e.data.data:(this.dataHistoryClosed=[],this.messageHistory="Sin historial registrado"):this.messageHistory="No tiene permisos para visualizar historial",t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),validDataProduct:function(){return""!=this.dataProduct.product&&""!=this.dataProduct.measure&&null!=this.dataProduct.price&&""!=this.dataProduct.alertTotal&&0!=this.dataProduct.price},addAlertToBranch:function(){var t=this;i.a.put(c.a.endpointTarget+"/stores/editstockalarmfrominventory/"+this.idForAlert,{stock:this.branchAlert},this.configHeader).then((function(e){"ok"==e.data.status&&(t.$swal({icon:"success",title:"Alerta actualizada",showConfirmButton:!1,timer:1500}),t.getInventoryByBranch(t.selectedBranch),t.modalAdminProduct.modal4=!1)})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},addProduct:function(){var t=this;i.a.post(c.a.endpointTarget+"/stores",{product:this.dataProduct.product,measure:this.dataProduct.measure,price:this.dataProduct.price,alertTotal:this.dataProduct.alertTotal},this.configHeader).then((function(e){"product registered"===e.data.status?(t.$swal({icon:"success",title:"¡Producto registrado con éxito!",showConfirmButton:!1,timer:1500}),t.getProducts(),t.initialState(3),t.modals.modal1=!1):t.$swal({icon:"error",title:"¡Producto ya existe!",showConfirmButton:!1,timer:1500})})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},handleSearch:function(t,e,a){e(),this.searchText=t[0],this.searchedColumn=a},handleReset:function(t){t(),this.searchText=""},verifyDecimal:function(){""!=this.dataProduct.alertTotal&&(this.dataProduct.alertTotal=this.dataProduct.alertTotal.toString().replace(/\,/g,"."))},verifyDecimalBranch:function(){var t=this;setTimeout((function(){""!=t.branchAlert&&(t.branchAlert=parseFloat(t.branchAlert.toString().replace(/\,/g,".")))}),200)},addProvider:function(){var t=this;i.a.post(c.a.endpointTarget+"/stores/addprovider",{name:this.provider.name,document:this.provider.document,contact:this.provider.contact,contactPlus:this.provider.contactPlus,location:this.provider.location},this.configHeader).then((function(e){"provider registered"===e.data.status?(t.$swal({icon:"success",title:"Proveedor registrado",showConfirmButton:!1,timer:1500}),t.provider={name:"",rut:"",contact:{countryCode:"CL",isValid:!1,phoneNumber:"",countryCallingCode:"",formattedNumber:"",nationalNumber:"",formatInternational:"",formatNational:"",uri:"",e164:""},contactPlus:"",direction:""},t.modals.modal3=!1,0==t.modals.modal1&&document.getElementById("provedorBtn").click(),t.getProducts(),t.getProviders()):t.$swal({title:"Proveedor existe",showConfirmButton:!1,timer:1500})})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},initialState:function(t,e){1==t&&(this.myId=e,this.dateAdd="",this.dataProduct.price=""),2==t&&(this.provider={name:"",rut:"",contact:{countryCode:"CL",isValid:!1,phoneNumber:"",countryCallingCode:"",formattedNumber:"",nationalNumber:"",formatInternational:"",formatNational:"",uri:"",e164:""},contactPlus:"",direction:""},this.providerSup.validProvider=!0),3==t&&(this.dataProduct={product:"",price:0,measure:"",quantity:"",entry:"",alertTotal:"",id:null},this.unit="")},formatDate:function(t){var e=new Date(t);return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()},formatPrice:function(t){if("Abastecimiento"==t||"Devolución"==t||"Descartamiento"==t)return t;var e=(t/1).toFixed(2).replace(".",",");return"$ "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},updateProvider:function(){var t=this;i.a.put(c.a.endpointTarget+"/stores/updateProvider/"+this.provider.id,{name:this.provider.name,document:this.provider.document,contact:this.provider.contact,contactPlus:this.provider.contactPlus,location:this.provider.location},this.configHeader).then((function(e){"provider edited"==e.data.status?(t.$swal({icon:"success",title:"Proveedor Actualizado",showConfirmButton:!1,timer:1500}),t.getProviders(),t.modals.modal3=!1):t.$swal({icon:"error",title:"El nuevo documento del proveedor ya se encuentra registrado",showConfirmButton:!1,timer:1500})})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},addMore:function(){var t=this;i.a.put(c.a.endpointTarget+"/stores/add/"+this.myId,{entry:this.dataProduct.entry,history:{id:this.myId,date:this.dateAdd,product:this.dataProduct.product,entry:this.dataProduct.entry,measure:this.dataProduct.measure,price:this.dataProduct.price/this.dataProduct.entry,provider:this.provider.name,firstNameUser:this.firstNameUser,lastNameUser:this.lastNameUser,emailUser:this.emailUser,idUser:this.idUser}},this.configHeader).then((function(e){t.$swal({icon:"success",title:"¡Producto actualizado con éxito!",showConfirmButton:!1,timer:1500}),t.modals.modal1=!1,t.getProducts(),t.getHistory()})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},selectProviderForProduct:function(t){this.provider.name=t},deleteProvider:function(t){var e=this;this.$swal({title:"¿Desea eliminar proveedor?",text:"¡Recuerda! No podrás revertir esta acción",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"No, cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value?i.a.delete(c.a.endpointTarget+"/stores/deleteprovider/"+t,e.configHeader).then((function(t){"provider deleted"==t.data.status&&(e.$swal({icon:"success",title:"Proveedor borrado con éxito",showConfirmButton:!1,timer:1500}),e.getProviders())})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):e.$swal({icon:"error",title:"Accion cancelada",showConfirmButton:!1,timer:1500})}))},deleteItem:function(t){var e=this;this.$swal({title:"¿Desea eliminar productos?",text:"¡Recuerda! Se procederá a eliminar de todas las sucursales donde se encuentre registrado y no se podrá revertir esta acción",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"No, cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value?i.a.post(c.a.endpointTarget+"/stores/deletestoreproduct",{id:t,firstNameUser:e.firstNameUser,lastNameUser:e.lastNameUser,emailUser:e.emailUser,idUser:e.idUser},e.configHeader).then((function(t){"product deleted"==t.data.status&&(e.$swal({icon:"success",title:"Producto borrado con éxito",showConfirmButton:!1,timer:1500}),e.getProducts(),e.getHistory())})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):e.$swal({icon:"error",title:"Acción cancelada",showConfirmButton:!1,timer:1500})}))},closeStore:function(){var t=this,e=!0;this.countProduct.forEach((function(t){""!=t.count&&null!=t.count||(e=!1)})),e?i.a.post(c.a.endpointTarget+"/stores/closestore",{firstNameUser:this.firstNameUser,lastNameUser:this.lastNameUser,emailUser:this.emailUser,idUser:this.idUser,products:this.countProduct},this.configHeader).then((function(e){"closed"===e.data.status?(t.$swal({icon:"success",title:"Cierre realizado con éxito",showConfirmButton:!1,timer:1500}),t.getProducts(),t.getHistoryClosed()):t.$swal({icon:"error",title:"Ya se hizo un cierre este mes",showConfirmButton:!1,timer:1500})})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):this.$swal({icon:"error",title:"Debes llenar todos los campos",showConfirmButton:!1,timer:1500})},validProviders:function(){""!=this.provider.name&&this.provider.contact.isValid&&""!=this.provider.location?this.providerSup.validProvider=!1:this.providerSup.validProvider=!0},pushDataProvider:function(t,e,a,n,r,o){this.provider={name:t,document:e,contact:a,contactPlus:n,location:r,id:o}},providerFunction:function(){"Registrar"==this.providerSup.typeProvider?this.addProvider():this.updateProvider()},pushDataProduct:function(t,e,a,n,r){this.modals.modal6=!0,this.dataProduct={product:t,price:a,measure:e,quantity:"",entry:"",alertTotal:n,id:r}},printExcel:function(){var t=[],e=!0,a=!1,n=void 0;try{for(var r,o=this.dataHistoryClosedReport[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;t.push({Producto:s.product,Medida:s.measure,"En stock":s.count,"Total ideal":s.ideal,Diferencia:s.difference})}}catch(c){a=!0,n=c}finally{try{e||null==o.return||o.return()}finally{if(a)throw n}}var i=w.a.utils.json_to_sheet(t),l=w.a.utils.book_new();w.a.utils.book_append_sheet(l,i,"Datos"),w.a.writeFile(l,"Reporte del "+this.formatDate(this.dateReport)+".xlsx")},editProduct:function(){var t=this;this.$swal({title:"¿Desea editar el producto ".concat(this.dataProduct.product,"?"),text:"¡Recuerda! También se editara de todas las sucursales donde está registrado. No puedes revertir esta acción.",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"No, cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(e){e.value?i.a.put(c.a.endpointTarget+"/stores/"+t.dataProduct.id,{product:t.dataProduct.product,measure:t.dataProduct.measure,price:t.dataProduct.price,alertTotal:t.dataProduct.alertTotal},t.configHeader).then((function(e){"store edited"==e.data.status?(t.$swal({icon:"success",title:"Producto editado correctamente",showConfirmButton:!1,timer:1500}),setTimeout((function(){t.modals={modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,message:"",icon:"",type:""},t.getProducts()}),1500)):"product already in use"==e.data.status?t.$swal({icon:"error",title:"El nombre del producto ya se encuentra registrado en la bodega",showConfirmButton:!1,timer:1500}):t.$swal({icon:"error",title:"Hubo un problema",showConfirmButton:!1,timer:1500})})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):t.$swal({icon:"error",title:"Acción cancelada",showConfirmButton:!1,timer:1500})}))},formatRut:function(t){t.replace(/[-.]/g,"");for(var e=t.replace(/\./g,"").replace(/\-/g,"").trim().toLowerCase(),a=e.substr(-1,1),n=e.substr(0,e.length-1),r="",o=n.length;o>0;o--){var s=n.charAt(o-1);r=s.concat(r),o%3===0&&(r=".".concat(r))}this.provider.document=r.concat("-").concat(a)},validRoute:function(t,e){for(var a=0;a<this.auth.length;a++){var n=this.auth[a];if(n.ruta==t)for(var r=0;r<n.validaciones.length;r++)if(e==n.validaciones[r])return!0}}},mounted:function(){var t=this;h["a"].$on("changeBranch",(function(e){t.getBranch()}))},computed:{getScreen:function(){return screen.width<780?{x:"calc(700px + 50%)",y:240}:{y:240}}}},_=S,P=(a("33e6"),a("2877")),T=Object(P["a"])(_,n,r,!1,null,null,null);e["default"]=T.exports},"30a9":function(t,e,a){"use strict";var n=a("4e43"),r=a.n(n);r.a},"30ef":function(t,e,a){
/*!
 * Chart.js v2.8.0
 * https://www.chartjs.org
 * (c) 2019 Chart.js Contributors
 * Released under the MIT License
 */
(function(e,n){t.exports=n(function(){try{return a("c1df")}catch(t){}}())})(0,(function(t){"use strict";t=t&&t.hasOwnProperty("default")?t["default"]:t;var e={rgb2hsl:a,rgb2hsv:n,rgb2hwb:o,rgb2cmyk:s,rgb2keyword:i,rgb2xyz:l,rgb2lab:c,rgb2lch:d,hsl2rgb:u,hsl2hsv:h,hsl2hwb:p,hsl2cmyk:m,hsl2keyword:f,hsv2rgb:v,hsv2hsl:y,hsv2hwb:x,hsv2cmyk:w,hsv2keyword:C,hwb2rgb:k,hwb2hsl:S,hwb2hsv:_,hwb2cmyk:P,hwb2keyword:T,cmyk2rgb:I,cmyk2hsl:B,cmyk2hsv:D,cmyk2hwb:M,cmyk2keyword:F,keyword2rgb:j,keyword2hsl:V,keyword2hsv:W,keyword2hwb:U,keyword2cmyk:q,keyword2lab:Y,keyword2xyz:K,xyz2rgb:R,xyz2lab:A,xyz2lch:E,lab2xyz:N,lab2rgb:H,lab2lch:$,lch2lab:L,lch2xyz:z,lch2rgb:O};function a(t){var e,a,n,r=t[0]/255,o=t[1]/255,s=t[2]/255,i=Math.min(r,o,s),l=Math.max(r,o,s),c=l-i;return l==i?e=0:r==l?e=(o-s)/c:o==l?e=2+(s-r)/c:s==l&&(e=4+(r-o)/c),e=Math.min(60*e,360),e<0&&(e+=360),n=(i+l)/2,a=l==i?0:n<=.5?c/(l+i):c/(2-l-i),[e,100*a,100*n]}function n(t){var e,a,n,r=t[0],o=t[1],s=t[2],i=Math.min(r,o,s),l=Math.max(r,o,s),c=l-i;return a=0==l?0:c/l*1e3/10,l==i?e=0:r==l?e=(o-s)/c:o==l?e=2+(s-r)/c:s==l&&(e=4+(r-o)/c),e=Math.min(60*e,360),e<0&&(e+=360),n=l/255*1e3/10,[e,a,n]}function o(t){var e=t[0],n=t[1],r=t[2],o=a(t)[0],s=1/255*Math.min(e,Math.min(n,r));r=1-1/255*Math.max(e,Math.max(n,r));return[o,100*s,100*r]}function s(t){var e,a,n,r,o=t[0]/255,s=t[1]/255,i=t[2]/255;return r=Math.min(1-o,1-s,1-i),e=(1-o-r)/(1-r)||0,a=(1-s-r)/(1-r)||0,n=(1-i-r)/(1-r)||0,[100*e,100*a,100*n,100*r]}function i(t){return X[JSON.stringify(t)]}function l(t){var e=t[0]/255,a=t[1]/255,n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var r=.4124*e+.3576*a+.1805*n,o=.2126*e+.7152*a+.0722*n,s=.0193*e+.1192*a+.9505*n;return[100*r,100*o,100*s]}function c(t){var e,a,n,r=l(t),o=r[0],s=r[1],i=r[2];return o/=95.047,s/=100,i/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,e=116*s-16,a=500*(o-s),n=200*(s-i),[e,a,n]}function d(t){return $(c(t))}function u(t){var e,a,n,r,o,s=t[0]/360,i=t[1]/100,l=t[2]/100;if(0==i)return o=255*l,[o,o,o];a=l<.5?l*(1+i):l+i-l*i,e=2*l-a,r=[0,0,0];for(var c=0;c<3;c++)n=s+1/3*-(c-1),n<0&&n++,n>1&&n--,o=6*n<1?e+6*(a-e)*n:2*n<1?a:3*n<2?e+(a-e)*(2/3-n)*6:e,r[c]=255*o;return r}function h(t){var e,a,n=t[0],r=t[1]/100,o=t[2]/100;return 0===o?[0,0,0]:(o*=2,r*=o<=1?o:2-o,a=(o+r)/2,e=2*r/(o+r),[n,100*e,100*a])}function p(t){return o(u(t))}function m(t){return s(u(t))}function f(t){return i(u(t))}function v(t){var e=t[0]/60,a=t[1]/100,n=t[2]/100,r=Math.floor(e)%6,o=e-Math.floor(e),s=255*n*(1-a),i=255*n*(1-a*o),l=255*n*(1-a*(1-o));n*=255;switch(r){case 0:return[n,l,s];case 1:return[i,n,s];case 2:return[s,n,l];case 3:return[s,i,n];case 4:return[l,s,n];case 5:return[n,s,i]}}function y(t){var e,a,n=t[0],r=t[1]/100,o=t[2]/100;return a=(2-r)*o,e=r*o,e/=a<=1?a:2-a,e=e||0,a/=2,[n,100*e,100*a]}function x(t){return o(v(t))}function w(t){return s(v(t))}function C(t){return i(v(t))}function k(t){var e,a,n,o,s=t[0]/360,i=t[1]/100,l=t[2]/100,c=i+l;switch(c>1&&(i/=c,l/=c),e=Math.floor(6*s),a=1-l,n=6*s-e,0!=(1&e)&&(n=1-n),o=i+n*(a-i),e){default:case 6:case 0:r=a,g=o,b=i;break;case 1:r=o,g=a,b=i;break;case 2:r=i,g=a,b=o;break;case 3:r=i,g=o,b=a;break;case 4:r=o,g=i,b=a;break;case 5:r=a,g=i,b=o;break}return[255*r,255*g,255*b]}function S(t){return a(k(t))}function _(t){return n(k(t))}function P(t){return s(k(t))}function T(t){return i(k(t))}function I(t){var e,a,n,r=t[0]/100,o=t[1]/100,s=t[2]/100,i=t[3]/100;return e=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,o*(1-i)+i),n=1-Math.min(1,s*(1-i)+i),[255*e,255*a,255*n]}function B(t){return a(I(t))}function D(t){return n(I(t))}function M(t){return o(I(t))}function F(t){return i(I(t))}function R(t){var e,a,n,r=t[0]/100,o=t[1]/100,s=t[2]/100;return e=3.2406*r+-1.5372*o+-.4986*s,a=-.9689*r+1.8758*o+.0415*s,n=.0557*r+-.204*o+1.057*s,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,e=Math.min(Math.max(0,e),1),a=Math.min(Math.max(0,a),1),n=Math.min(Math.max(0,n),1),[255*e,255*a,255*n]}function A(t){var e,a,n,r=t[0],o=t[1],s=t[2];return r/=95.047,o/=100,s/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,e=116*o-16,a=500*(r-o),n=200*(o-s),[e,a,n]}function E(t){return $(A(t))}function N(t){var e,a,n,r,o=t[0],s=t[1],i=t[2];return o<=8?(a=100*o/903.3,r=a/100*7.787+16/116):(a=100*Math.pow((o+16)/116,3),r=Math.pow(a/100,1/3)),e=e/95.047<=.008856?e=95.047*(s/500+r-16/116)/7.787:95.047*Math.pow(s/500+r,3),n=n/108.883<=.008859?n=108.883*(r-i/200-16/116)/7.787:108.883*Math.pow(r-i/200,3),[e,a,n]}function $(t){var e,a,n,r=t[0],o=t[1],s=t[2];return e=Math.atan2(s,o),a=360*e/2/Math.PI,a<0&&(a+=360),n=Math.sqrt(o*o+s*s),[r,n,a]}function H(t){return R(N(t))}function L(t){var e,a,n,r=t[0],o=t[1],s=t[2];return n=s/360*2*Math.PI,e=o*Math.cos(n),a=o*Math.sin(n),[r,e,a]}function z(t){return N(L(t))}function O(t){return H(L(t))}function j(t){return G[t]}function V(t){return a(j(t))}function W(t){return n(j(t))}function U(t){return o(j(t))}function q(t){return s(j(t))}function Y(t){return c(j(t))}function K(t){return l(j(t))}var G={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},X={};for(var J in G)X[JSON.stringify(G[J])]=J;var Z=function(){return new nt};for(var Q in e){Z[Q+"Raw"]=function(t){return function(a){return"number"==typeof a&&(a=Array.prototype.slice.call(arguments)),e[t](a)}}(Q);var tt=/(\w+)2(\w+)/.exec(Q),et=tt[1],at=tt[2];Z[et]=Z[et]||{},Z[et][at]=Z[Q]=function(t){return function(a){"number"==typeof a&&(a=Array.prototype.slice.call(arguments));var n=e[t](a);if("string"==typeof n||void 0===n)return n;for(var r=0;r<n.length;r++)n[r]=Math.round(n[r]);return n}}(Q)}var nt=function(){this.convs={}};nt.prototype.routeSpace=function(t,e){var a=e[0];return void 0===a?this.getValues(t):("number"==typeof a&&(a=Array.prototype.slice.call(e)),this.setValues(t,a))},nt.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},nt.prototype.getValues=function(t){var e=this.convs[t];if(!e){var a=this.space,n=this.convs[a];e=Z[a][t](n),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach((function(t){nt.prototype[t]=function(e){return this.routeSpace(t,arguments)}}));var rt=Z,ot={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},st={getRgba:it,getHsla:lt,getRgb:dt,getHsl:ut,getHwb:ct,getAlpha:ht,hexString:pt,rgbString:mt,rgbaString:ft,percentString:gt,percentaString:vt,hslString:bt,hslaString:yt,hwbString:xt,keyword:wt};function it(t){if(t){var e=/^#([a-fA-F0-9]{3,4})$/i,a=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,n=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,r=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,o=/(\w+)/,s=[0,0,0],i=1,l=t.match(e),c="";if(l){l=l[1],c=l[3];for(var d=0;d<s.length;d++)s[d]=parseInt(l[d]+l[d],16);c&&(i=Math.round(parseInt(c+c,16)/255*100)/100)}else if(l=t.match(a)){c=l[2],l=l[1];for(d=0;d<s.length;d++)s[d]=parseInt(l.slice(2*d,2*d+2),16);c&&(i=Math.round(parseInt(c,16)/255*100)/100)}else if(l=t.match(n)){for(d=0;d<s.length;d++)s[d]=parseInt(l[d+1]);i=parseFloat(l[4])}else if(l=t.match(r)){for(d=0;d<s.length;d++)s[d]=Math.round(2.55*parseFloat(l[d+1]));i=parseFloat(l[4])}else if(l=t.match(o)){if("transparent"==l[1])return[0,0,0,0];if(s=ot[l[1]],!s)return}for(d=0;d<s.length;d++)s[d]=Ct(s[d],0,255);return i=i||0==i?Ct(i,0,1):1,s[3]=i,s}}function lt(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,a=t.match(e);if(a){var n=parseFloat(a[4]),r=Ct(parseInt(a[1]),0,360),o=Ct(parseFloat(a[2]),0,100),s=Ct(parseFloat(a[3]),0,100),i=Ct(isNaN(n)?1:n,0,1);return[r,o,s,i]}}}function ct(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,a=t.match(e);if(a){var n=parseFloat(a[4]),r=Ct(parseInt(a[1]),0,360),o=Ct(parseFloat(a[2]),0,100),s=Ct(parseFloat(a[3]),0,100),i=Ct(isNaN(n)?1:n,0,1);return[r,o,s,i]}}}function dt(t){var e=it(t);return e&&e.slice(0,3)}function ut(t){var e=lt(t);return e&&e.slice(0,3)}function ht(t){var e=it(t);return e||(e=lt(t))||(e=ct(t))?e[3]:void 0}function pt(t,e){e=void 0!==e&&3===t.length?e:t[3];return"#"+kt(t[0])+kt(t[1])+kt(t[2])+(e>=0&&e<1?kt(Math.round(255*e)):"")}function mt(t,e){return e<1||t[3]&&t[3]<1?ft(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function ft(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function gt(t,e){if(e<1||t[3]&&t[3]<1)return vt(t,e);var a=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return"rgb("+a+"%, "+n+"%, "+r+"%)"}function vt(t,e){var a=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return"rgba("+a+"%, "+n+"%, "+r+"%, "+(e||t[3]||1)+")"}function bt(t,e){return e<1||t[3]&&t[3]<1?yt(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function yt(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function xt(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function wt(t){return St[t.slice(0,3)]}function Ct(t,e,a){return Math.min(Math.max(e,t),a)}function kt(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var St={};for(var _t in ot)St[ot[_t]]=_t;var Pt=function(t){return t instanceof Pt?t:this instanceof Pt?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"===typeof t?(e=st.getRgba(t),e?this.setValues("rgb",e):(e=st.getHsla(t))?this.setValues("hsl",e):(e=st.getHwb(t))&&this.setValues("hwb",e)):"object"===typeof t&&(e=t,void 0!==e.r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new Pt(t);var e};Pt.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=t<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return st.hexString(this.values.rgb)},rgbString:function(){return st.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return st.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return st.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return st.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return st.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return st.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return st.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],a=0;a<t.length;a++){var n=t[a]/255;e[a]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),a=t.luminosity();return e>a?(e+.05)/(a+.05):(a+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return e<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,a=(e[0]+t)%360;return e[0]=a<0?360+a:a,this.setValues("hsl",e),this},mix:function(t,e){var a=this,n=t,r=void 0===e?.5:e,o=2*r-1,s=a.alpha()-n.alpha(),i=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,l=1-i;return this.rgb(i*a.red()+l*n.red(),i*a.green()+l*n.green(),i*a.blue()+l*n.blue()).alpha(a.alpha()*r+n.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var t,e,a=new Pt,n=this.values,r=a.values;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],e={}.toString.call(t),"[object Array]"===e?r[o]=t.slice(0):"[object Number]"===e?r[o]=t:console.error("unexpected color value:",t));return a}},Pt.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Pt.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Pt.prototype.getValues=function(t){for(var e=this.values,a={},n=0;n<t.length;n++)a[t.charAt(n)]=e[t][n];return 1!==e.alpha&&(a.a=e.alpha),a},Pt.prototype.setValues=function(t,e){var a,n,r=this.values,o=this.spaces,s=this.maxes,i=1;if(this.valid=!0,"alpha"===t)i=e;else if(e.length)r[t]=e.slice(0,t.length),i=e[t.length];else if(void 0!==e[t.charAt(0)]){for(a=0;a<t.length;a++)r[t][a]=e[t.charAt(a)];i=e.a}else if(void 0!==e[o[t][0]]){var l=o[t];for(a=0;a<t.length;a++)r[t][a]=e[l[a]];i=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===i?r.alpha:i)),"alpha"===t)return!1;for(a=0;a<t.length;a++)n=Math.max(0,Math.min(s[t][a],r[t][a])),r[t][a]=Math.round(n);for(var c in o)c!==t&&(r[c]=rt[t][c](r[t]));return!0},Pt.prototype.setSpace=function(t,e){var a=e[0];return void 0===a?this.getValues(t):("number"===typeof a&&(a=Array.prototype.slice.call(e)),this.setValues(t,a),this)},Pt.prototype.setChannel=function(t,e,a){var n=this.values[t];return void 0===a?n[e]:(a===n[e]||(n[e]=a,this.setValues(t,n)),this)},"undefined"!==typeof window&&(window.Color=Pt);var Tt=Pt,It={noop:function(){},uid:function(){var t=0;return function(){return t++}}(),isNullOrUndef:function(t){return null===t||"undefined"===typeof t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"===typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return"undefined"===typeof t?e:t},valueAtIndexOrDefault:function(t,e,a){return It.valueOrDefault(It.isArray(t)?t[e]:t,a)},callback:function(t,e,a){if(t&&"function"===typeof t.call)return t.apply(a,e)},each:function(t,e,a,n){var r,o,s;if(It.isArray(t))if(o=t.length,n)for(r=o-1;r>=0;r--)e.call(a,t[r],r);else for(r=0;r<o;r++)e.call(a,t[r],r);else if(It.isObject(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)e.call(a,t[s[r]],s[r])},arrayEquals:function(t,e){var a,n,r,o;if(!t||!e||t.length!==e.length)return!1;for(a=0,n=t.length;a<n;++a)if(r=t[a],o=e[a],r instanceof Array&&o instanceof Array){if(!It.arrayEquals(r,o))return!1}else if(r!==o)return!1;return!0},clone:function(t){if(It.isArray(t))return t.map(It.clone);if(It.isObject(t)){for(var e={},a=Object.keys(t),n=a.length,r=0;r<n;++r)e[a[r]]=It.clone(t[a[r]]);return e}return t},_merger:function(t,e,a,n){var r=e[t],o=a[t];It.isObject(r)&&It.isObject(o)?It.merge(r,o,n):e[t]=It.clone(o)},_mergerIf:function(t,e,a){var n=e[t],r=a[t];It.isObject(n)&&It.isObject(r)?It.mergeIf(n,r):e.hasOwnProperty(t)||(e[t]=It.clone(r))},merge:function(t,e,a){var n,r,o,s,i,l=It.isArray(e)?e:[e],c=l.length;if(!It.isObject(t))return t;for(a=a||{},n=a.merger||It._merger,r=0;r<c;++r)if(e=l[r],It.isObject(e))for(o=Object.keys(e),i=0,s=o.length;i<s;++i)n(o[i],t,e,a);return t},mergeIf:function(t,e){return It.merge(t,e,{merger:It._mergerIf})},extend:function(t){for(var e=function(e,a){t[a]=e},a=1,n=arguments.length;a<n;++a)It.each(arguments[a],e);return t},inherits:function(t){var e=this,a=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},n=function(){this.constructor=a};return n.prototype=e.prototype,a.prototype=new n,a.extend=It.inherits,t&&It.extend(a.prototype,t),a.__super__=e.prototype,a}},Bt=It;It.callCallback=It.callback,It.indexOf=function(t,e,a){return Array.prototype.indexOf.call(t,e,a)},It.getValueOrDefault=It.valueOrDefault,It.getValueAtIndexOrDefault=It.valueAtIndexOrDefault;var Dt={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,a=0,n=1;return 0===t?0:1===t?1:(a||(a=.3),n<1?(n=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/a))},easeOutElastic:function(t){var e=1.70158,a=0,n=1;return 0===t?0:1===t?1:(a||(a=.3),n<1?(n=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/a)+1)},easeInOutElastic:function(t){var e=1.70158,a=0,n=1;return 0===t?0:2===(t/=.5)?1:(a||(a=.45),n<1?(n=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/a)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/a)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-Dt.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*Dt.easeInBounce(2*t):.5*Dt.easeOutBounce(2*t-1)+.5}},Mt={effects:Dt};Bt.easingEffects=Dt;var Ft=Math.PI,Rt=Ft/180,At=2*Ft,Et=Ft/2,Nt=Ft/4,$t=2*Ft/3,Ht={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,a,n,r,o){if(o){var s=Math.min(o,r/2,n/2),i=e+s,l=a+s,c=e+n-s,d=a+r-s;t.moveTo(e,l),i<c&&l<d?(t.arc(i,l,s,-Ft,-Et),t.arc(c,l,s,-Et,0),t.arc(c,d,s,0,Et),t.arc(i,d,s,Et,Ft)):i<c?(t.moveTo(i,a),t.arc(c,l,s,-Et,Et),t.arc(i,l,s,Et,Ft+Et)):l<d?(t.arc(i,l,s,-Ft,0),t.arc(i,d,s,0,Ft)):t.arc(i,l,s,-Ft,Ft),t.closePath(),t.moveTo(e,a)}else t.rect(e,a,n,r)},drawPoint:function(t,e,a,n,r,o){var s,i,l,c,d,u=(o||0)*Rt;if(e&&"object"===typeof e&&(s=e.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))t.drawImage(e,n-e.width/2,r-e.height/2,e.width,e.height);else if(!(isNaN(a)||a<=0)){switch(t.beginPath(),e){default:t.arc(n,r,a,0,At),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(u)*a,r-Math.cos(u)*a),u+=$t,t.lineTo(n+Math.sin(u)*a,r-Math.cos(u)*a),u+=$t,t.lineTo(n+Math.sin(u)*a,r-Math.cos(u)*a),t.closePath();break;case"rectRounded":d=.516*a,c=a-d,i=Math.cos(u+Nt)*c,l=Math.sin(u+Nt)*c,t.arc(n-i,r-l,d,u-Ft,u-Et),t.arc(n+l,r-i,d,u-Et,u),t.arc(n+i,r+l,d,u,u+Et),t.arc(n-l,r+i,d,u+Et,u+Ft),t.closePath();break;case"rect":if(!o){c=Math.SQRT1_2*a,t.rect(n-c,r-c,2*c,2*c);break}u+=Nt;case"rectRot":i=Math.cos(u)*a,l=Math.sin(u)*a,t.moveTo(n-i,r-l),t.lineTo(n+l,r-i),t.lineTo(n+i,r+l),t.lineTo(n-l,r+i),t.closePath();break;case"crossRot":u+=Nt;case"cross":i=Math.cos(u)*a,l=Math.sin(u)*a,t.moveTo(n-i,r-l),t.lineTo(n+i,r+l),t.moveTo(n+l,r-i),t.lineTo(n-l,r+i);break;case"star":i=Math.cos(u)*a,l=Math.sin(u)*a,t.moveTo(n-i,r-l),t.lineTo(n+i,r+l),t.moveTo(n+l,r-i),t.lineTo(n-l,r+i),u+=Nt,i=Math.cos(u)*a,l=Math.sin(u)*a,t.moveTo(n-i,r-l),t.lineTo(n+i,r+l),t.moveTo(n+l,r-i),t.lineTo(n-l,r+i);break;case"line":i=Math.cos(u)*a,l=Math.sin(u)*a,t.moveTo(n-i,r-l),t.lineTo(n+i,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(u)*a,r+Math.sin(u)*a);break}t.fill(),t.stroke()}},_isPointInArea:function(t,e){var a=1e-6;return t.x>e.left-a&&t.x<e.right+a&&t.y>e.top-a&&t.y<e.bottom+a},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,a,n){var r=a.steppedLine;if(r){if("middle"===r){var o=(e.x+a.x)/2;t.lineTo(o,n?a.y:e.y),t.lineTo(o,n?e.y:a.y)}else"after"===r&&!n||"after"!==r&&n?t.lineTo(e.x,a.y):t.lineTo(a.x,e.y);t.lineTo(a.x,a.y)}else a.tension?t.bezierCurveTo(n?e.controlPointPreviousX:e.controlPointNextX,n?e.controlPointPreviousY:e.controlPointNextY,n?a.controlPointNextX:a.controlPointPreviousX,n?a.controlPointNextY:a.controlPointPreviousY,a.x,a.y):t.lineTo(a.x,a.y)}},Lt=Ht;Bt.clear=Ht.clear,Bt.drawRoundedRectangle=function(t){t.beginPath(),Ht.roundedRect.apply(Ht,arguments)};var zt={_set:function(t,e){return Bt.merge(this[t]||(this[t]={}),e)}};zt._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var Ot=zt,jt=Bt.valueOrDefault;function Vt(t){return!t||Bt.isNullOrUndef(t.size)||Bt.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}var Wt={toLineHeight:function(t,e){var a=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!a||"normal"===a[1])return 1.2*e;switch(t=+a[2],a[3]){case"px":return t;case"%":t/=100;break;default:break}return e*t},toPadding:function(t){var e,a,n,r;return Bt.isObject(t)?(e=+t.top||0,a=+t.right||0,n=+t.bottom||0,r=+t.left||0):e=a=n=r=+t||0,{top:e,right:a,bottom:n,left:r,height:e+n,width:r+a}},_parseFont:function(t){var e=Ot.global,a=jt(t.fontSize,e.defaultFontSize),n={family:jt(t.fontFamily,e.defaultFontFamily),lineHeight:Bt.options.toLineHeight(jt(t.lineHeight,e.defaultLineHeight),a),size:a,style:jt(t.fontStyle,e.defaultFontStyle),weight:null,string:""};return n.string=Vt(n),n},resolve:function(t,e,a){var n,r,o;for(n=0,r=t.length;n<r;++n)if(o=t[n],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e)),void 0!==a&&Bt.isArray(o)&&(o=o[a]),void 0!==o))return o}},Ut=Bt,qt=Mt,Yt=Lt,Kt=Wt;function Gt(t,e,a,n){var r,o,s,i,l,c,d,u,h,p=Object.keys(a);for(r=0,o=p.length;r<o;++r)if(s=p[r],c=a[s],e.hasOwnProperty(s)||(e[s]=c),i=e[s],i!==c&&"_"!==s[0]){if(t.hasOwnProperty(s)||(t[s]=i),l=t[s],d=typeof c,d===typeof l)if("string"===d){if(u=Tt(l),u.valid&&(h=Tt(c),h.valid)){e[s]=h.mix(u,n).rgbString();continue}}else if(Ut.isFinite(l)&&Ut.isFinite(c)){e[s]=l+(c-l)*n;continue}e[s]=c}}Ut.easing=qt,Ut.canvas=Yt,Ut.options=Kt;var Xt=function(t){Ut.extend(this,t),this.initialize.apply(this,arguments)};Ut.extend(Xt.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=Ut.clone(t._model)),t._start={},t},transition:function(t){var e=this,a=e._model,n=e._start,r=e._view;return a&&1!==t?(r||(r=e._view={}),n||(n=e._start={}),Gt(n,r,a,t),e):(e._view=a,e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return Ut.isNumber(this._model.x)&&Ut.isNumber(this._model.y)}}),Xt.extend=Ut.inherits;var Jt=Xt,Zt=Jt.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Qt=Zt;Object.defineProperty(Zt.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Zt.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),Ot._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:Ut.noop,onComplete:Ut.noop}});var te={animations:[],request:null,addAnimation:function(t,e,a,n){var r,o,s=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=a,n||(t.animating=!0),r=0,o=s.length;r<o;++r)if(s[r].chart===t)return void(s[r]=e);s.push(e),1===s.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=Ut.findIndex(this.animations,(function(e){return e.chart===t}));-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=Ut.requestAnimFrame.call(window,(function(){t.request=null,t.startDigest()})))},startDigest:function(){var t=this;t.advance(),t.animations.length>0&&t.requestAnimationFrame()},advance:function(){var t,e,a,n,r=this.animations,o=0;while(o<r.length)t=r[o],e=t.chart,a=t.numSteps,n=Math.floor((Date.now()-t.startTime)/t.duration*a)+1,t.currentStep=Math.min(n,a),Ut.callback(t.render,[e,t],e),Ut.callback(t.onAnimationProgress,[t],e),t.currentStep>=a?(Ut.callback(t.onAnimationComplete,[t],e),e.animating=!1,r.splice(o,1)):++o}},ee=Ut.options.resolve,ae=["push","pop","shift","splice","unshift"];function ne(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ae.forEach((function(e){var a="onData"+e.charAt(0).toUpperCase()+e.slice(1),n=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),r=n.apply(this,e);return Ut.each(t._chartjs.listeners,(function(t){"function"===typeof t[a]&&t[a].apply(t,e)})),r}})})))}function re(t,e){var a=t._chartjs;if(a){var n=a.listeners,r=n.indexOf(e);-1!==r&&n.splice(r,1),n.length>0||(ae.forEach((function(e){delete t[e]})),delete t._chartjs)}}var oe=function(t,e){this.initialize(t,e)};Ut.extend(oe.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var a=this;a.chart=t,a.index=e,a.linkScales(),a.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),a=t.getDataset();null!==e.xAxisID&&e.xAxisID in t.chart.scales||(e.xAxisID=a.xAxisID||t.chart.options.scales.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in t.chart.scales||(e.yAxisID=a.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this.update(!0)},destroy:function(){this._data&&re(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,a=e.dataElementType;return a&&new a({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,a=this,n=a.getMeta(),r=a.getDataset().data||[],o=n.data;for(t=0,e=r.length;t<e;++t)o[t]=o[t]||a.createMetaData(t);n.dataset=n.dataset||a.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,e=t.getDataset(),a=e.data||(e.data=[]);t._data!==a&&(t._data&&re(t._data,t),a&&Object.isExtensible(a)&&ne(a,t),t._data=a),t.resyncElements()},update:Ut.noop,transition:function(t){for(var e=this.getMeta(),a=e.data||[],n=a.length,r=0;r<n;++r)a[r].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],a=e.length,n=0;for(t.dataset&&t.dataset.draw();n<a;++n)e[n].draw()},removeHoverStyle:function(t){Ut.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],a=t._index,n=t.custom||{},r=t._model,o=Ut.getHoverColor;t.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=ee([n.hoverBackgroundColor,e.hoverBackgroundColor,o(r.backgroundColor)],void 0,a),r.borderColor=ee([n.hoverBorderColor,e.hoverBorderColor,o(r.borderColor)],void 0,a),r.borderWidth=ee([n.hoverBorderWidth,e.hoverBorderWidth,r.borderWidth],void 0,a)},resyncElements:function(){var t=this,e=t.getMeta(),a=t.getDataset().data,n=e.data.length,r=a.length;r<n?e.data.splice(r,n-r):r>n&&t.insertElements(n,r-n)},insertElements:function(t,e){for(var a=0;a<e;++a)this.addElementAndReset(t+a)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),oe.extend=Ut.inherits;var se=oe;Ot._set("global",{elements:{arc:{backgroundColor:Ot.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var ie=Jt.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var a=this._view;if(a){var n=Ut.getAngleFromPoint(a,{x:t,y:e}),r=n.angle,o=n.distance,s=a.startAngle,i=a.endAngle;while(i<s)i+=2*Math.PI;while(r>i)r-=2*Math.PI;while(r<s)r+=2*Math.PI;var l=r>=s&&r<=i,c=o>=a.innerRadius&&o<=a.outerRadius;return l&&c}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,a=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*a,y:t.y+Math.sin(e)*a}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,a=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*a,y:t.y+Math.sin(e)*a}},draw:function(){var t,e=this._chart.ctx,a=this._view,n=a.startAngle,r=a.endAngle,o="inner"===a.borderAlign?.33:0;e.save(),e.beginPath(),e.arc(a.x,a.y,Math.max(a.outerRadius-o,0),n,r),e.arc(a.x,a.y,a.innerRadius,r,n,!0),e.closePath(),e.fillStyle=a.backgroundColor,e.fill(),a.borderWidth&&("inner"===a.borderAlign?(e.beginPath(),t=o/a.outerRadius,e.arc(a.x,a.y,a.outerRadius,n-t,r+t),a.innerRadius>o?(t=o/a.innerRadius,e.arc(a.x,a.y,a.innerRadius-o,r+t,n-t,!0)):e.arc(a.x,a.y,o,r+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip(),e.beginPath(),e.arc(a.x,a.y,a.outerRadius,n,r),e.arc(a.x,a.y,a.innerRadius,r,n,!0),e.closePath(),e.lineWidth=2*a.borderWidth,e.lineJoin="round"):(e.lineWidth=a.borderWidth,e.lineJoin="bevel"),e.strokeStyle=a.borderColor,e.stroke()),e.restore()}}),le=Ut.valueOrDefault,ce=Ot.global.defaultColor;Ot._set("global",{elements:{line:{tension:.4,backgroundColor:ce,borderWidth:3,borderColor:ce,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var de=Jt.extend({draw:function(){var t,e,a,n,r=this,o=r._view,s=r._chart.ctx,i=o.spanGaps,l=r._children.slice(),c=Ot.global,d=c.elements.line,u=-1;for(r._loop&&l.length&&l.push(l[0]),s.save(),s.lineCap=o.borderCapStyle||d.borderCapStyle,s.setLineDash&&s.setLineDash(o.borderDash||d.borderDash),s.lineDashOffset=le(o.borderDashOffset,d.borderDashOffset),s.lineJoin=o.borderJoinStyle||d.borderJoinStyle,s.lineWidth=le(o.borderWidth,d.borderWidth),s.strokeStyle=o.borderColor||c.defaultColor,s.beginPath(),u=-1,t=0;t<l.length;++t)e=l[t],a=Ut.previousItem(l,t),n=e._view,0===t?n.skip||(s.moveTo(n.x,n.y),u=t):(a=-1===u?a:l[u],n.skip||(u!==t-1&&!i||-1===u?s.moveTo(n.x,n.y):Ut.canvas.lineTo(s,a._view,e._view),u=t));s.stroke(),s.restore()}}),ue=Ut.valueOrDefault,he=Ot.global.defaultColor;function pe(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}function me(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius}Ot._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:he,borderColor:he,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var fe=Jt.extend({inRange:function(t,e){var a=this._view;return!!a&&Math.pow(t-a.x,2)+Math.pow(e-a.y,2)<Math.pow(a.hitRadius+a.radius,2)},inLabelRange:pe,inXRange:pe,inYRange:me,getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,a=this._chart.ctx,n=e.pointStyle,r=e.rotation,o=e.radius,s=e.x,i=e.y,l=Ot.global,c=l.defaultColor;e.skip||(void 0===t||Ut.canvas._isPointInArea(e,t))&&(a.strokeStyle=e.borderColor||c,a.lineWidth=ue(e.borderWidth,l.elements.point.borderWidth),a.fillStyle=e.backgroundColor||c,Ut.canvas.drawPoint(a,n,o,s,i,r))}}),ge=Ot.global.defaultColor;function ve(t){return t&&void 0!==t.width}function be(t){var e,a,n,r,o;return ve(t)?(o=t.width/2,e=t.x-o,a=t.x+o,n=Math.min(t.y,t.base),r=Math.max(t.y,t.base)):(o=t.height/2,e=Math.min(t.x,t.base),a=Math.max(t.x,t.base),n=t.y-o,r=t.y+o),{left:e,top:n,right:a,bottom:r}}function ye(t,e,a){return t===e?a:t===a?e:t}function xe(t){var e=t.borderSkipped,a={};return e?(t.horizontal?t.base>t.x&&(e=ye(e,"left","right")):t.base<t.y&&(e=ye(e,"bottom","top")),a[e]=!0,a):a}function we(t,e,a){var n,r,o,s,i=t.borderWidth,l=xe(t);return Ut.isObject(i)?(n=+i.top||0,r=+i.right||0,o=+i.bottom||0,s=+i.left||0):n=r=o=s=+i||0,{t:l.top||n<0?0:n>a?a:n,r:l.right||r<0?0:r>e?e:r,b:l.bottom||o<0?0:o>a?a:o,l:l.left||s<0?0:s>e?e:s}}function Ce(t){var e=be(t),a=e.right-e.left,n=e.bottom-e.top,r=we(t,a/2,n/2);return{outer:{x:e.left,y:e.top,w:a,h:n},inner:{x:e.left+r.l,y:e.top+r.t,w:a-r.l-r.r,h:n-r.t-r.b}}}function ke(t,e,a){var n=null===e,r=null===a,o=!(!t||n&&r)&&be(t);return o&&(n||e>=o.left&&e<=o.right)&&(r||a>=o.top&&a<=o.bottom)}Ot._set("global",{elements:{rectangle:{backgroundColor:ge,borderColor:ge,borderSkipped:"bottom",borderWidth:0}}});var Se=Jt.extend({draw:function(){var t=this._chart.ctx,e=this._view,a=Ce(e),n=a.outer,r=a.inner;t.fillStyle=e.backgroundColor,t.fillRect(n.x,n.y,n.w,n.h),n.w===r.w&&n.h===r.h||(t.save(),t.beginPath(),t.rect(n.x,n.y,n.w,n.h),t.clip(),t.fillStyle=e.borderColor,t.rect(r.x,r.y,r.w,r.h),t.fill("evenodd"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return ke(this._view,t,e)},inLabelRange:function(t,e){var a=this._view;return ve(a)?ke(a,t,null):ke(a,null,e)},inXRange:function(t){return ke(this._view,t,null)},inYRange:function(t){return ke(this._view,null,t)},getCenterPoint:function(){var t,e,a=this._view;return ve(a)?(t=a.x,e=(a.y+a.base)/2):(t=(a.x+a.base)/2,e=a.y),{x:t,y:e}},getArea:function(){var t=this._view;return ve(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),_e={},Pe=ie,Te=de,Ie=fe,Be=Se;_e.Arc=Pe,_e.Line=Te,_e.Point=Ie,_e.Rectangle=Be;var De=Ut.options.resolve;function Me(t,e){var a,n,r,o,s=t.isHorizontal()?t.width:t.height,i=t.getTicks();for(r=1,o=e.length;r<o;++r)s=Math.min(s,Math.abs(e[r]-e[r-1]));for(r=0,o=i.length;r<o;++r)n=t.getPixelForTick(r),s=r>0?Math.min(s,n-a):s,a=n;return s}function Fe(t,e,a){var n,r,o=a.barThickness,s=e.stackCount,i=e.pixels[t];return Ut.isNullOrUndef(o)?(n=e.min*a.categoryPercentage,r=a.barPercentage):(n=o*s,r=1),{chunk:n/s,ratio:r,start:i-n/2}}function Re(t,e,a){var n,r,o=e.pixels,s=o[t],i=t>0?o[t-1]:null,l=t<o.length-1?o[t+1]:null,c=a.categoryPercentage;return null===i&&(i=s-(null===l?e.end-e.start:l-s)),null===l&&(l=s+s-i),n=s-(s-Math.min(i,l))/2*c,r=Math.abs(l-i)/2*c,{chunk:r/e.stackCount,ratio:a.barPercentage,start:n}}Ot._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});var Ae=se.extend({dataElementType:_e.Rectangle,initialize:function(){var t,e=this;se.prototype.initialize.apply(e,arguments),t=e.getMeta(),t.stack=e.getDataset().stack,t.bar=!0},update:function(t){var e,a,n=this,r=n.getMeta().data;for(n._ruler=n.getRuler(),e=0,a=r.length;e<a;++e)n.updateElement(r[e],e,t)},updateElement:function(t,e,a){var n=this,r=n.getMeta(),o=n.getDataset(),s=n._resolveElementOptions(t,e);t._xScale=n.getScaleForId(r.xAxisID),t._yScale=n.getScaleForId(r.yAxisID),t._datasetIndex=n.index,t._index=e,t._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderSkipped:s.borderSkipped,borderWidth:s.borderWidth,datasetLabel:o.label,label:n.chart.data.labels[e]},n._updateElementGeometry(t,e,a),t.pivot()},_updateElementGeometry:function(t,e,a){var n=this,r=t._model,o=n._getValueScale(),s=o.getBasePixel(),i=o.isHorizontal(),l=n._ruler||n.getRuler(),c=n.calculateBarValuePixels(n.index,e),d=n.calculateBarIndexPixels(n.index,e,l);r.horizontal=i,r.base=a?s:c.base,r.x=i?a?s:c.head:d.center,r.y=i?d.center:a?s:c.head,r.height=i?d.size:void 0,r.width=i?void 0:d.size},_getStacks:function(t){var e,a,n=this,r=n.chart,o=n._getIndexScale(),s=o.options.stacked,i=void 0===t?r.data.datasets.length:t+1,l=[];for(e=0;e<i;++e)a=r.getDatasetMeta(e),a.bar&&r.isDatasetVisible(e)&&(!1===s||!0===s&&-1===l.indexOf(a.stack)||void 0===s&&(void 0===a.stack||-1===l.indexOf(a.stack)))&&l.push(a.stack);return l},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var a=this._getStacks(t),n=void 0!==e?a.indexOf(e):-1;return-1===n?a.length-1:n},getRuler:function(){var t,e,a,n=this,r=n._getIndexScale(),o=n.getStackCount(),s=n.index,i=r.isHorizontal(),l=i?r.left:r.top,c=l+(i?r.width:r.height),d=[];for(t=0,e=n.getMeta().data.length;t<e;++t)d.push(r.getPixelForValue(null,t,s));return a=Ut.isNullOrUndef(r.options.barThickness)?Me(r,d):-1,{min:a,pixels:d,start:l,end:c,stackCount:o,scale:r}},calculateBarValuePixels:function(t,e){var a,n,r,o,s,i,l=this,c=l.chart,d=l.getMeta(),u=l._getValueScale(),h=u.isHorizontal(),p=c.data.datasets,m=+u.getRightValue(p[t].data[e]),f=u.options.minBarLength,g=u.options.stacked,v=d.stack,b=0;if(g||void 0===g&&void 0!==v)for(a=0;a<t;++a)n=c.getDatasetMeta(a),n.bar&&n.stack===v&&n.controller._getValueScaleId()===u.id&&c.isDatasetVisible(a)&&(r=+u.getRightValue(p[a].data[e]),(m<0&&r<0||m>=0&&r>0)&&(b+=r));return o=u.getPixelForValue(b),s=u.getPixelForValue(b+m),i=s-o,void 0!==f&&Math.abs(i)<f&&(i=f,s=m>=0&&!h||m<0&&h?o-f:o+f),{size:i,base:o,head:s,center:s+i/2}},calculateBarIndexPixels:function(t,e,a){var n=this,r=a.scale.options,o="flex"===r.barThickness?Re(e,a,r):Fe(e,a,r),s=n.getStackIndex(t,n.getMeta().stack),i=o.start+o.chunk*s+o.chunk/2,l=Math.min(Ut.valueOrDefault(r.maxBarThickness,1/0),o.chunk*o.ratio);return{base:i-l/2,head:i+l/2,center:i,size:l}},draw:function(){var t=this,e=t.chart,a=t._getValueScale(),n=t.getMeta().data,r=t.getDataset(),o=n.length,s=0;for(Ut.canvas.clipArea(e.ctx,e.chartArea);s<o;++s)isNaN(a.getRightValue(r.data[s]))||n[s].draw();Ut.canvas.unclipArea(e.ctx)},_resolveElementOptions:function(t,e){var a,n,r,o=this,s=o.chart,i=s.data.datasets,l=i[o.index],c=t.custom||{},d=s.options.elements.rectangle,u={},h={chart:s,dataIndex:e,dataset:l,datasetIndex:o.index},p=["backgroundColor","borderColor","borderSkipped","borderWidth"];for(a=0,n=p.length;a<n;++a)r=p[a],u[r]=De([c[r],l[r],d[r]],h,e);return u}}),Ee=Ut.valueOrDefault,Ne=Ut.options.resolve;Ot._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var a=e.datasets[t.datasetIndex].label||"",n=e.datasets[t.datasetIndex].data[t.index];return a+": ("+t.xLabel+", "+t.yLabel+", "+n.r+")"}}}});var $e=se.extend({dataElementType:_e.Point,update:function(t){var e=this,a=e.getMeta(),n=a.data;Ut.each(n,(function(a,n){e.updateElement(a,n,t)}))},updateElement:function(t,e,a){var n=this,r=n.getMeta(),o=t.custom||{},s=n.getScaleForId(r.xAxisID),i=n.getScaleForId(r.yAxisID),l=n._resolveElementOptions(t,e),c=n.getDataset().data[e],d=n.index,u=a?s.getPixelForDecimal(.5):s.getPixelForValue("object"===typeof c?c:NaN,e,d),h=a?i.getBasePixel():i.getPixelForValue(c,e,d);t._xScale=s,t._yScale=i,t._options=l,t._datasetIndex=d,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:a?0:l.radius,skip:o.skip||isNaN(u)||isNaN(h),x:u,y:h},t.pivot()},setHoverStyle:function(t){var e=t._model,a=t._options,n=Ut.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Ee(a.hoverBackgroundColor,n(a.backgroundColor)),e.borderColor=Ee(a.hoverBorderColor,n(a.borderColor)),e.borderWidth=Ee(a.hoverBorderWidth,a.borderWidth),e.radius=a.radius+a.hoverRadius},_resolveElementOptions:function(t,e){var a,n,r,o=this,s=o.chart,i=s.data.datasets,l=i[o.index],c=t.custom||{},d=s.options.elements.point,u=l.data[e],h={},p={chart:s,dataIndex:e,dataset:l,datasetIndex:o.index},m=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(a=0,n=m.length;a<n;++a)r=m[a],h[r]=Ne([c[r],l[r],d[r]],p,e);return h.radius=Ne([c.radius,u?u.r:void 0,l.radius,d.radius],p,e),h}}),He=Ut.options.resolve,Le=Ut.valueOrDefault;Ot._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var a=t.data,n=a.datasets,r=a.labels;if(n.length)for(var o=0;o<n[0].data.length;++o)e.push('<li><span style="background-color:'+n[0].backgroundColor[o]+'"></span>'),r[o]&&e.push(r[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(a,n){var r=t.getDatasetMeta(0),o=e.datasets[0],s=r.data[n],i=s&&s.custom||{},l=t.options.elements.arc,c=He([i.backgroundColor,o.backgroundColor,l.backgroundColor],void 0,n),d=He([i.borderColor,o.borderColor,l.borderColor],void 0,n),u=He([i.borderWidth,o.borderWidth,l.borderWidth],void 0,n);return{text:a,fillStyle:c,strokeStyle:d,lineWidth:u,hidden:isNaN(o.data[n])||r.data[n].hidden,index:n}})):[]}},onClick:function(t,e){var a,n,r,o=e.index,s=this.chart;for(a=0,n=(s.data.datasets||[]).length;a<n;++a)r=s.getDatasetMeta(a),r.data[o]&&(r.data[o].hidden=!r.data[o].hidden);s.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var a=e.labels[t.index],n=": "+e.datasets[t.datasetIndex].data[t.index];return Ut.isArray(a)?(a=a.slice(),a[0]+=n):a+=n,a}}}});var ze=se.extend({dataElementType:_e.Arc,linkScales:Ut.noop,getRingIndex:function(t){for(var e=0,a=0;a<t;++a)this.chart.isDatasetVisible(a)&&++e;return e},update:function(t){var e,a,n=this,r=n.chart,o=r.chartArea,s=r.options,i=o.right-o.left,l=o.bottom-o.top,c=Math.min(i,l),d={x:0,y:0},u=n.getMeta(),h=u.data,p=s.cutoutPercentage,m=s.circumference,f=n._getRingWeight(n.index);if(m<2*Math.PI){var g=s.rotation%(2*Math.PI);g+=2*Math.PI*(g>=Math.PI?-1:g<-Math.PI?1:0);var v=g+m,b={x:Math.cos(g),y:Math.sin(g)},y={x:Math.cos(v),y:Math.sin(v)},x=g<=0&&v>=0||g<=2*Math.PI&&2*Math.PI<=v,w=g<=.5*Math.PI&&.5*Math.PI<=v||g<=2.5*Math.PI&&2.5*Math.PI<=v,C=g<=-Math.PI&&-Math.PI<=v||g<=Math.PI&&Math.PI<=v,k=g<=.5*-Math.PI&&.5*-Math.PI<=v||g<=1.5*Math.PI&&1.5*Math.PI<=v,S=p/100,_={x:C?-1:Math.min(b.x*(b.x<0?1:S),y.x*(y.x<0?1:S)),y:k?-1:Math.min(b.y*(b.y<0?1:S),y.y*(y.y<0?1:S))},P={x:x?1:Math.max(b.x*(b.x>0?1:S),y.x*(y.x>0?1:S)),y:w?1:Math.max(b.y*(b.y>0?1:S),y.y*(y.y>0?1:S))},T={width:.5*(P.x-_.x),height:.5*(P.y-_.y)};c=Math.min(i/T.width,l/T.height),d={x:-.5*(P.x+_.x),y:-.5*(P.y+_.y)}}for(e=0,a=h.length;e<a;++e)h[e]._options=n._resolveElementOptions(h[e],e);for(r.borderWidth=n.getMaxBorderWidth(),r.outerRadius=Math.max((c-r.borderWidth)/2,0),r.innerRadius=Math.max(p?r.outerRadius/100*p:0,0),r.radiusLength=(r.outerRadius-r.innerRadius)/(n._getVisibleDatasetWeightTotal()||1),r.offsetX=d.x*r.outerRadius,r.offsetY=d.y*r.outerRadius,u.total=n.calculateTotal(),n.outerRadius=r.outerRadius-r.radiusLength*n._getRingWeightOffset(n.index),n.innerRadius=Math.max(n.outerRadius-r.radiusLength*f,0),e=0,a=h.length;e<a;++e)n.updateElement(h[e],e,t)},updateElement:function(t,e,a){var n=this,r=n.chart,o=r.chartArea,s=r.options,i=s.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,d=s.rotation,u=s.rotation,h=n.getDataset(),p=a&&i.animateRotate||t.hidden?0:n.calculateCircumference(h.data[e])*(s.circumference/(2*Math.PI)),m=a&&i.animateScale?0:n.innerRadius,f=a&&i.animateScale?0:n.outerRadius,g=t._options||{};Ut.extend(t,{_datasetIndex:n.index,_index:e,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:l+r.offsetX,y:c+r.offsetY,startAngle:d,endAngle:u,circumference:p,outerRadius:f,innerRadius:m,label:Ut.valueAtIndexOrDefault(h.label,e,r.data.labels[e])}});var v=t._model;a&&i.animateRotate||(v.startAngle=0===e?s.rotation:n.getMeta().data[e-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),a=this.getMeta(),n=0;return Ut.each(a.data,(function(a,r){t=e.data[r],isNaN(t)||a.hidden||(n+=Math.abs(t))})),n},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,a,n,r,o,s,i,l,c=this,d=0,u=c.chart;if(!t)for(e=0,a=u.data.datasets.length;e<a;++e)if(u.isDatasetVisible(e)){n=u.getDatasetMeta(e),t=n.data,e!==c.index&&(o=n.controller);break}if(!t)return 0;for(e=0,a=t.length;e<a;++e)r=t[e],s=o?o._resolveElementOptions(r,e):r._options,"inner"!==s.borderAlign&&(i=s.borderWidth,l=s.hoverBorderWidth,d=i>d?i:d,d=l>d?l:d);return d},setHoverStyle:function(t){var e=t._model,a=t._options,n=Ut.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=Le(a.hoverBackgroundColor,n(a.backgroundColor)),e.borderColor=Le(a.hoverBorderColor,n(a.borderColor)),e.borderWidth=Le(a.hoverBorderWidth,a.borderWidth)},_resolveElementOptions:function(t,e){var a,n,r,o=this,s=o.chart,i=o.getDataset(),l=t.custom||{},c=s.options.elements.arc,d={},u={chart:s,dataIndex:e,dataset:i,datasetIndex:o.index},h=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(a=0,n=h.length;a<n;++a)r=h[a],d[r]=He([l[r],i[r],c[r]],u,e);return d},_getRingWeightOffset:function(t){for(var e=0,a=0;a<t;++a)this.chart.isDatasetVisible(a)&&(e+=this._getRingWeight(a));return e},_getRingWeight:function(t){return Math.max(Le(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});Ot._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});var Oe=Ae.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),je=Ut.valueOrDefault,Ve=Ut.options.resolve,We=Ut.canvas._isPointInArea;function Ue(t,e){return je(t.showLine,e.showLines)}Ot._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var qe=se.extend({datasetElementType:_e.Line,dataElementType:_e.Point,update:function(t){var e,a,n=this,r=n.getMeta(),o=r.dataset,s=r.data||[],i=n.getScaleForId(r.yAxisID),l=n.getDataset(),c=Ue(l,n.chart.options);for(c&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),o._scale=i,o._datasetIndex=n.index,o._children=s,o._model=n._resolveLineOptions(o),o.pivot()),e=0,a=s.length;e<a;++e)n.updateElement(s[e],e,t);for(c&&0!==o._model.tension&&n.updateBezierControlPoints(),e=0,a=s.length;e<a;++e)s[e].pivot()},updateElement:function(t,e,a){var n,r,o=this,s=o.getMeta(),i=t.custom||{},l=o.getDataset(),c=o.index,d=l.data[e],u=o.getScaleForId(s.yAxisID),h=o.getScaleForId(s.xAxisID),p=s.dataset._model,m=o._resolvePointOptions(t,e);n=h.getPixelForValue("object"===typeof d?d:NaN,e,c),r=a?u.getBasePixel():o.calculatePointY(d,e,c),t._xScale=h,t._yScale=u,t._options=m,t._datasetIndex=c,t._index=e,t._model={x:n,y:r,skip:i.skip||isNaN(n)||isNaN(r),radius:m.radius,pointStyle:m.pointStyle,rotation:m.rotation,backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,tension:je(i.tension,p?p.tension:0),steppedLine:!!p&&p.steppedLine,hitRadius:m.hitRadius}},_resolvePointOptions:function(t,e){var a,n,r,o=this,s=o.chart,i=s.data.datasets[o.index],l=t.custom||{},c=s.options.elements.point,d={},u={chart:s,dataIndex:e,dataset:i,datasetIndex:o.index},h={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},p=Object.keys(h);for(a=0,n=p.length;a<n;++a)r=p[a],d[r]=Ve([l[r],i[h[r]],i[r],c[r]],u,e);return d},_resolveLineOptions:function(t){var e,a,n,r=this,o=r.chart,s=o.data.datasets[r.index],i=t.custom||{},l=o.options,c=l.elements.line,d={},u=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill","cubicInterpolationMode"];for(e=0,a=u.length;e<a;++e)n=u[e],d[n]=Ve([i[n],s[n],c[n]]);return d.spanGaps=je(s.spanGaps,l.spanGaps),d.tension=je(s.lineTension,c.tension),d.steppedLine=Ve([i.steppedLine,s.steppedLine,c.stepped]),d},calculatePointY:function(t,e,a){var n,r,o,s=this,i=s.chart,l=s.getMeta(),c=s.getScaleForId(l.yAxisID),d=0,u=0;if(c.options.stacked){for(n=0;n<a;n++)if(r=i.data.datasets[n],o=i.getDatasetMeta(n),"line"===o.type&&o.yAxisID===c.id&&i.isDatasetVisible(n)){var h=Number(c.getRightValue(r.data[e]));h<0?u+=h||0:d+=h||0}var p=Number(c.getRightValue(t));return p<0?c.getPixelForValue(u+p):c.getPixelForValue(d+p)}return c.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,a,n,r=this,o=r.chart,s=r.getMeta(),i=s.dataset._model,l=o.chartArea,c=s.data||[];function d(t,e,a){return Math.max(Math.min(t,a),e)}if(i.spanGaps&&(c=c.filter((function(t){return!t._model.skip}))),"monotone"===i.cubicInterpolationMode)Ut.splineCurveMonotone(c);else for(t=0,e=c.length;t<e;++t)a=c[t]._model,n=Ut.splineCurve(Ut.previousItem(c,t)._model,a,Ut.nextItem(c,t)._model,i.tension),a.controlPointPreviousX=n.previous.x,a.controlPointPreviousY=n.previous.y,a.controlPointNextX=n.next.x,a.controlPointNextY=n.next.y;if(o.options.elements.line.capBezierPoints)for(t=0,e=c.length;t<e;++t)a=c[t]._model,We(a,l)&&(t>0&&We(c[t-1]._model,l)&&(a.controlPointPreviousX=d(a.controlPointPreviousX,l.left,l.right),a.controlPointPreviousY=d(a.controlPointPreviousY,l.top,l.bottom)),t<c.length-1&&We(c[t+1]._model,l)&&(a.controlPointNextX=d(a.controlPointNextX,l.left,l.right),a.controlPointNextY=d(a.controlPointNextY,l.top,l.bottom)))},draw:function(){var t,e=this,a=e.chart,n=e.getMeta(),r=n.data||[],o=a.chartArea,s=r.length,i=0;for(Ue(e.getDataset(),a.options)&&(t=(n.dataset._model.borderWidth||0)/2,Ut.canvas.clipArea(a.ctx,{left:o.left,right:o.right,top:o.top-t,bottom:o.bottom+t}),n.dataset.draw(),Ut.canvas.unclipArea(a.ctx));i<s;++i)r[i].draw(o)},setHoverStyle:function(t){var e=t._model,a=t._options,n=Ut.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=je(a.hoverBackgroundColor,n(a.backgroundColor)),e.borderColor=je(a.hoverBorderColor,n(a.borderColor)),e.borderWidth=je(a.hoverBorderWidth,a.borderWidth),e.radius=je(a.hoverRadius,a.radius)}}),Ye=Ut.options.resolve;Ot._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var a=t.data,n=a.datasets,r=a.labels;if(n.length)for(var o=0;o<n[0].data.length;++o)e.push('<li><span style="background-color:'+n[0].backgroundColor[o]+'"></span>'),r[o]&&e.push(r[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(a,n){var r=t.getDatasetMeta(0),o=e.datasets[0],s=r.data[n],i=s.custom||{},l=t.options.elements.arc,c=Ye([i.backgroundColor,o.backgroundColor,l.backgroundColor],void 0,n),d=Ye([i.borderColor,o.borderColor,l.borderColor],void 0,n),u=Ye([i.borderWidth,o.borderWidth,l.borderWidth],void 0,n);return{text:a,fillStyle:c,strokeStyle:d,lineWidth:u,hidden:isNaN(o.data[n])||r.data[n].hidden,index:n}})):[]}},onClick:function(t,e){var a,n,r,o=e.index,s=this.chart;for(a=0,n=(s.data.datasets||[]).length;a<n;++a)r=s.getDatasetMeta(a),r.data[o].hidden=!r.data[o].hidden;s.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var Ke=se.extend({dataElementType:_e.Arc,linkScales:Ut.noop,update:function(t){var e,a,n,r=this,o=r.getDataset(),s=r.getMeta(),i=r.chart.options.startAngle||0,l=r._starts=[],c=r._angles=[],d=s.data;for(r._updateRadius(),s.count=r.countVisibleElements(),e=0,a=o.data.length;e<a;e++)l[e]=i,n=r._computeAngle(e),c[e]=n,i+=n;for(e=0,a=d.length;e<a;++e)d[e]._options=r._resolveElementOptions(d[e],e),r.updateElement(d[e],e,t)},_updateRadius:function(){var t=this,e=t.chart,a=e.chartArea,n=e.options,r=Math.min(a.right-a.left,a.bottom-a.top);e.outerRadius=Math.max(r/2,0),e.innerRadius=Math.max(n.cutoutPercentage?e.outerRadius/100*n.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,a){var n=this,r=n.chart,o=n.getDataset(),s=r.options,i=s.animation,l=r.scale,c=r.data.labels,d=l.xCenter,u=l.yCenter,h=s.startAngle,p=t.hidden?0:l.getDistanceFromCenterForValue(o.data[e]),m=n._starts[e],f=m+(t.hidden?0:n._angles[e]),g=i.animateScale?0:l.getDistanceFromCenterForValue(o.data[e]),v=t._options||{};Ut.extend(t,{_datasetIndex:n.index,_index:e,_scale:l,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:d,y:u,innerRadius:0,outerRadius:a?g:p,startAngle:a&&i.animateRotate?h:m,endAngle:a&&i.animateRotate?h:f,label:Ut.valueAtIndexOrDefault(c,e,c[e])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),a=0;return Ut.each(e.data,(function(e,n){isNaN(t.data[n])||e.hidden||a++})),a},setHoverStyle:function(t){var e=t._model,a=t._options,n=Ut.getHoverColor,r=Ut.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=r(a.hoverBackgroundColor,n(a.backgroundColor)),e.borderColor=r(a.hoverBorderColor,n(a.borderColor)),e.borderWidth=r(a.hoverBorderWidth,a.borderWidth)},_resolveElementOptions:function(t,e){var a,n,r,o=this,s=o.chart,i=o.getDataset(),l=t.custom||{},c=s.options.elements.arc,d={},u={chart:s,dataIndex:e,dataset:i,datasetIndex:o.index},h=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(a=0,n=h.length;a<n;++a)r=h[a],d[r]=Ye([l[r],i[r],c[r]],u,e);return d},_computeAngle:function(t){var e=this,a=this.getMeta().count,n=e.getDataset(),r=e.getMeta();if(isNaN(n.data[t])||r.data[t].hidden)return 0;var o={chart:e.chart,dataIndex:t,dataset:n,datasetIndex:e.index};return Ye([e.chart.options.elements.arc.angle,2*Math.PI/a],o,t)}});Ot._set("pie",Ut.clone(Ot.doughnut)),Ot._set("pie",{cutoutPercentage:0});var Ge=ze,Xe=Ut.valueOrDefault,Je=Ut.options.resolve;Ot._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}});var Ze=se.extend({datasetElementType:_e.Line,dataElementType:_e.Point,linkScales:Ut.noop,update:function(t){var e,a,n=this,r=n.getMeta(),o=r.dataset,s=r.data||[],i=n.chart.scale,l=n.getDataset();for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),o._scale=i,o._datasetIndex=n.index,o._children=s,o._loop=!0,o._model=n._resolveLineOptions(o),o.pivot(),e=0,a=s.length;e<a;++e)n.updateElement(s[e],e,t);for(n.updateBezierControlPoints(),e=0,a=s.length;e<a;++e)s[e].pivot()},updateElement:function(t,e,a){var n=this,r=t.custom||{},o=n.getDataset(),s=n.chart.scale,i=s.getPointPositionForValue(e,o.data[e]),l=n._resolvePointOptions(t,e),c=n.getMeta().dataset._model,d=a?s.xCenter:i.x,u=a?s.yCenter:i.y;t._scale=s,t._options=l,t._datasetIndex=n.index,t._index=e,t._model={x:d,y:u,skip:r.skip||isNaN(d)||isNaN(u),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:Xe(r.tension,c?c.tension:0),hitRadius:l.hitRadius}},_resolvePointOptions:function(t,e){var a,n,r,o=this,s=o.chart,i=s.data.datasets[o.index],l=t.custom||{},c=s.options.elements.point,d={},u={chart:s,dataIndex:e,dataset:i,datasetIndex:o.index},h={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},p=Object.keys(h);for(a=0,n=p.length;a<n;++a)r=p[a],d[r]=Je([l[r],i[h[r]],i[r],c[r]],u,e);return d},_resolveLineOptions:function(t){var e,a,n,r=this,o=r.chart,s=o.data.datasets[r.index],i=t.custom||{},l=o.options.elements.line,c={},d=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"];for(e=0,a=d.length;e<a;++e)n=d[e],c[n]=Je([i[n],s[n],l[n]]);return c.tension=Xe(s.lineTension,l.tension),c},updateBezierControlPoints:function(){var t,e,a,n,r=this,o=r.getMeta(),s=r.chart.chartArea,i=o.data||[];function l(t,e,a){return Math.max(Math.min(t,a),e)}for(t=0,e=i.length;t<e;++t)a=i[t]._model,n=Ut.splineCurve(Ut.previousItem(i,t,!0)._model,a,Ut.nextItem(i,t,!0)._model,a.tension),a.controlPointPreviousX=l(n.previous.x,s.left,s.right),a.controlPointPreviousY=l(n.previous.y,s.top,s.bottom),a.controlPointNextX=l(n.next.x,s.left,s.right),a.controlPointNextY=l(n.next.y,s.top,s.bottom)},setHoverStyle:function(t){var e=t._model,a=t._options,n=Ut.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Xe(a.hoverBackgroundColor,n(a.backgroundColor)),e.borderColor=Xe(a.hoverBorderColor,n(a.borderColor)),e.borderWidth=Xe(a.hoverBorderWidth,a.borderWidth),e.radius=Xe(a.hoverRadius,a.radius)}});Ot._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}});var Qe=qe,ta={bar:Ae,bubble:$e,doughnut:ze,horizontalBar:Oe,line:qe,polarArea:Ke,pie:Ge,radar:Ze,scatter:Qe};function ea(t,e){return t.native?{x:t.x,y:t.y}:Ut.getRelativePosition(t,e)}function aa(t,e){var a,n,r,o,s,i=t.data.datasets;for(n=0,o=i.length;n<o;++n)if(t.isDatasetVisible(n))for(a=t.getDatasetMeta(n),r=0,s=a.data.length;r<s;++r){var l=a.data[r];l._view.skip||e(l)}}function na(t,e){var a=[];return aa(t,(function(t){t.inRange(e.x,e.y)&&a.push(t)})),a}function ra(t,e,a,n){var r=Number.POSITIVE_INFINITY,o=[];return aa(t,(function(t){if(!a||t.inRange(e.x,e.y)){var s=t.getCenterPoint(),i=n(e,s);i<r?(o=[t],r=i):i===r&&o.push(t)}})),o}function oa(t){var e=-1!==t.indexOf("x"),a=-1!==t.indexOf("y");return function(t,n){var r=e?Math.abs(t.x-n.x):0,o=a?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function sa(t,e,a){var n=ea(e,t);a.axis=a.axis||"x";var r=oa(a.axis),o=a.intersect?na(t,n):ra(t,n,!1,r),s=[];return o.length?(t.data.datasets.forEach((function(e,a){if(t.isDatasetVisible(a)){var n=t.getDatasetMeta(a),r=n.data[o[0]._index];r&&!r._view.skip&&s.push(r)}})),s):[]}var ia={modes:{single:function(t,e){var a=ea(e,t),n=[];return aa(t,(function(t){if(t.inRange(a.x,a.y))return n.push(t),n})),n.slice(0,1)},label:sa,index:sa,dataset:function(t,e,a){var n=ea(e,t);a.axis=a.axis||"xy";var r=oa(a.axis),o=a.intersect?na(t,n):ra(t,n,!1,r);return o.length>0&&(o=t.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(t,e){return sa(t,e,{intersect:!1})},point:function(t,e){var a=ea(e,t);return na(t,a)},nearest:function(t,e,a){var n=ea(e,t);a.axis=a.axis||"xy";var r=oa(a.axis);return ra(t,n,a.intersect,r)},x:function(t,e,a){var n=ea(e,t),r=[],o=!1;return aa(t,(function(t){t.inXRange(n.x)&&r.push(t),t.inRange(n.x,n.y)&&(o=!0)})),a.intersect&&!o&&(r=[]),r},y:function(t,e,a){var n=ea(e,t),r=[],o=!1;return aa(t,(function(t){t.inYRange(n.y)&&r.push(t),t.inRange(n.x,n.y)&&(o=!0)})),a.intersect&&!o&&(r=[]),r}}};function la(t,e){return Ut.where(t,(function(t){return t.position===e}))}function ca(t,e){t.forEach((function(t,e){return t._tmpIndex_=e,t})),t.sort((function(t,a){var n=e?a:t,r=e?t:a;return n.weight===r.weight?n._tmpIndex_-r._tmpIndex_:n.weight-r.weight})),t.forEach((function(t){delete t._tmpIndex_}))}function da(t){var e=0,a=0,n=0,r=0;return Ut.each(t,(function(t){if(t.getPadding){var o=t.getPadding();e=Math.max(e,o.top),a=Math.max(a,o.left),n=Math.max(n,o.bottom),r=Math.max(r,o.right)}})),{top:e,left:a,bottom:n,right:r}}function ua(t,e){Ut.each(t,(function(t){e[t.position]+=t.isHorizontal()?t.height:t.width}))}Ot._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var ha={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var a=t.boxes?t.boxes.indexOf(e):-1;-1!==a&&t.boxes.splice(a,1)},configure:function(t,e,a){for(var n,r=["fullWidth","position","weight"],o=r.length,s=0;s<o;++s)n=r[s],a.hasOwnProperty(n)&&(e[n]=a[n])},update:function(t,e,a){if(t){var n=t.options.layout||{},r=Ut.options.toPadding(n.padding),o=r.left,s=r.right,i=r.top,l=r.bottom,c=la(t.boxes,"left"),d=la(t.boxes,"right"),u=la(t.boxes,"top"),h=la(t.boxes,"bottom"),p=la(t.boxes,"chartArea");ca(c,!0),ca(d,!1),ca(u,!0),ca(h,!1);var m,f=c.concat(d),g=u.concat(h),v=f.concat(g),b=e-o-s,y=a-i-l,x=b/2,w=(e-x)/f.length,C=b,k=y,S={top:i,left:o,bottom:l,right:s},_=[];Ut.each(v,F),m=da(v),Ut.each(f,R),ua(f,S),Ut.each(g,R),ua(g,S),Ut.each(f,A),S={top:i,left:o,bottom:l,right:s},ua(v,S);var P=Math.max(m.left-S.left,0);S.left+=P,S.right+=Math.max(m.right-S.right,0);var T=Math.max(m.top-S.top,0);S.top+=T,S.bottom+=Math.max(m.bottom-S.bottom,0);var I=a-S.top-S.bottom,B=e-S.left-S.right;B===C&&I===k||(Ut.each(f,(function(t){t.height=I})),Ut.each(g,(function(t){t.fullWidth||(t.width=B)})),k=I,C=B);var D=o+P,M=i+T;Ut.each(c.concat(u),E),D+=C,M+=k,Ut.each(d,E),Ut.each(h,E),t.chartArea={left:S.left,top:S.top,right:S.left+C,bottom:S.top+k},Ut.each(p,(function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(C,k)}))}function F(t){var e,a=t.isHorizontal();a?(e=t.update(t.fullWidth?b:C,y/2),k-=e.height):(e=t.update(w,k),C-=e.width),_.push({horizontal:a,width:e.width,box:t})}function R(t){var e=Ut.findNextWhere(_,(function(e){return e.box===t}));if(e)if(e.horizontal){var a={left:Math.max(S.left,m.left),right:Math.max(S.right,m.right),top:0,bottom:0};t.update(t.fullWidth?b:C,y/2,a)}else t.update(e.width,k)}function A(t){var e=Ut.findNextWhere(_,(function(e){return e.box===t})),a={left:0,right:0,top:S.top,bottom:S.bottom};e&&t.update(e.width,k,a)}function E(t){t.isHorizontal()?(t.left=t.fullWidth?o:S.left,t.right=t.fullWidth?e-s:S.left+C,t.top=M,t.bottom=M+t.height,M=t.bottom):(t.left=D,t.right=D+t.width,t.top=S.top,t.bottom=S.top+k,D=t.right)}}},pa={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}},ma="/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n",fa=Object.freeze({default:ma});function ga(t){return t&&t.default||t}var va=ga(fa),ba="$chartjs",ya="chartjs-",xa=ya+"size-monitor",wa=ya+"render-monitor",Ca=ya+"render-animation",ka=["animationstart","webkitAnimationStart"],Sa={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function _a(t,e){var a=Ut.getStyle(t,e),n=a&&a.match(/^(\d+)(\.\d+)?px$/);return n?Number(n[1]):void 0}function Pa(t,e){var a=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[ba]={initial:{height:n,width:r,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",null===r||""===r){var o=_a(t,"width");void 0!==o&&(t.width=o)}if(null===n||""===n)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var s=_a(t,"height");void 0!==o&&(t.height=s)}return t}var Ta=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(a){}return t}(),Ia=!!Ta&&{passive:!0};function Ba(t,e,a){t.addEventListener(e,a,Ia)}function Da(t,e,a){t.removeEventListener(e,a,Ia)}function Ma(t,e,a,n,r){return{type:t,chart:e,native:r||null,x:void 0!==a?a:null,y:void 0!==n?n:null}}function Fa(t,e){var a=Sa[t.type]||t.type,n=Ut.getRelativePosition(t,e);return Ma(a,e,n.x,n.y,t)}function Ra(t,e){var a=!1,n=[];return function(){n=Array.prototype.slice.call(arguments),e=e||this,a||(a=!0,Ut.requestAnimFrame.call(window,(function(){a=!1,t.apply(e,n)})))}}function Aa(t){var e=document.createElement("div");return e.className=t||"",e}function Ea(t){var e=1e6,a=Aa(xa),n=Aa(xa+"-expand"),r=Aa(xa+"-shrink");n.appendChild(Aa()),r.appendChild(Aa()),a.appendChild(n),a.appendChild(r),a._reset=function(){n.scrollLeft=e,n.scrollTop=e,r.scrollLeft=e,r.scrollTop=e};var o=function(){a._reset(),t()};return Ba(n,"scroll",o.bind(n,"expand")),Ba(r,"scroll",o.bind(r,"shrink")),a}function Na(t,e){var a=t[ba]||(t[ba]={}),n=a.renderProxy=function(t){t.animationName===Ca&&e()};Ut.each(ka,(function(e){Ba(t,e,n)})),a.reflow=!!t.offsetParent,t.classList.add(wa)}function $a(t){var e=t[ba]||{},a=e.renderProxy;a&&(Ut.each(ka,(function(e){Da(t,e,a)})),delete e.renderProxy),t.classList.remove(wa)}function Ha(t,e,a){var n=t[ba]||(t[ba]={}),r=n.resizer=Ea(Ra((function(){if(n.resizer){var r=a.options.maintainAspectRatio&&t.parentNode,o=r?r.clientWidth:0;e(Ma("resize",a)),r&&r.clientWidth<o&&a.canvas&&e(Ma("resize",a))}})));Na(t,(function(){if(n.resizer){var e=t.parentNode;e&&e!==r.parentNode&&e.insertBefore(r,e.firstChild),r._reset()}}))}function La(t){var e=t[ba]||{},a=e.resizer;delete e.resizer,$a(t),a&&a.parentNode&&a.parentNode.removeChild(a)}function za(t,e){var a=t._style||document.createElement("style");t._style||(t._style=a,e="/* Chart.js */\n"+e,a.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(a)),a.appendChild(document.createTextNode(e))}var Oa={disableCSSInjection:!1,_enabled:"undefined"!==typeof window&&"undefined"!==typeof document,_ensureLoaded:function(){this._loaded||(this._loaded=!0,this.disableCSSInjection||za(this,va))},acquireContext:function(t,e){"string"===typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var a=t&&t.getContext&&t.getContext("2d");return this._ensureLoaded(),a&&a.canvas===t?(Pa(t,e),a):null},releaseContext:function(t){var e=t.canvas;if(e[ba]){var a=e[ba].initial;["height","width"].forEach((function(t){var n=a[t];Ut.isNullOrUndef(n)?e.removeAttribute(t):e.setAttribute(t,n)})),Ut.each(a.style||{},(function(t,a){e.style[a]=t})),e.width=e.width,delete e[ba]}},addEventListener:function(t,e,a){var n=t.canvas;if("resize"!==e){var r=a[ba]||(a[ba]={}),o=r.proxies||(r.proxies={}),s=o[t.id+"_"+e]=function(e){a(Fa(e,t))};Ba(n,e,s)}else Ha(n,a,t)},removeEventListener:function(t,e,a){var n=t.canvas;if("resize"!==e){var r=a[ba]||{},o=r.proxies||{},s=o[t.id+"_"+e];s&&Da(n,e,s)}else La(n)}};Ut.addEvent=Ba,Ut.removeEvent=Da;var ja=Oa._enabled?Oa:pa,Va=Ut.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},ja);Ot._set("global",{plugins:{}});var Wa={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach((function(t){var a=e.indexOf(t);-1!==a&&e.splice(a,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,a){var n,r,o,s,i,l=this.descriptors(t),c=l.length;for(n=0;n<c;++n)if(r=l[n],o=r.plugin,i=o[e],"function"===typeof i&&(s=[t].concat(a||[]),s.push(r.options),!1===i.apply(o,s)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var a=[],n=[],r=t&&t.config||{},o=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach((function(t){var e=a.indexOf(t);if(-1===e){var r=t.id,s=o[r];!1!==s&&(!0===s&&(s=Ut.clone(Ot.global.plugins[r])),a.push(t),n.push({plugin:t,options:s||{}}))}})),e.descriptors=n,e.id=this._cacheId,n},_invalidate:function(t){delete t.$plugins}},Ua={constructors:{},defaults:{},registerScaleType:function(t,e,a){this.constructors[t]=e,this.defaults[t]=Ut.clone(a)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?Ut.merge({},[Ot.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){var a=this;a.defaults.hasOwnProperty(t)&&(a.defaults[t]=Ut.extend(a.defaults[t],e))},addScalesToLayout:function(t){Ut.each(t.scales,(function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,ha.addBox(t,e)}))}},qa=Ut.valueOrDefault;Ot._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:Ut.noop,title:function(t,e){var a="",n=e.labels,r=n?n.length:0;if(t.length>0){var o=t[0];o.label?a=o.label:o.xLabel?a=o.xLabel:r>0&&o.index<r&&(a=n[o.index])}return a},afterTitle:Ut.noop,beforeBody:Ut.noop,beforeLabel:Ut.noop,label:function(t,e){var a=e.datasets[t.datasetIndex].label||"";return a&&(a+=": "),Ut.isNullOrUndef(t.value)?a+=t.yLabel:a+=t.value,a},labelColor:function(t,e){var a=e.getDatasetMeta(t.datasetIndex),n=a.data[t.index],r=n._view;return{borderColor:r.borderColor,backgroundColor:r.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:Ut.noop,afterBody:Ut.noop,beforeFooter:Ut.noop,footer:Ut.noop,afterFooter:Ut.noop}}});var Ya={average:function(t){if(!t.length)return!1;var e,a,n=0,r=0,o=0;for(e=0,a=t.length;e<a;++e){var s=t[e];if(s&&s.hasValue()){var i=s.tooltipPosition();n+=i.x,r+=i.y,++o}}return{x:n/o,y:r/o}},nearest:function(t,e){var a,n,r,o=e.x,s=e.y,i=Number.POSITIVE_INFINITY;for(a=0,n=t.length;a<n;++a){var l=t[a];if(l&&l.hasValue()){var c=l.getCenterPoint(),d=Ut.distanceBetweenPoints(e,c);d<i&&(i=d,r=l)}}if(r){var u=r.tooltipPosition();o=u.x,s=u.y}return{x:o,y:s}}};function Ka(t,e){return e&&(Ut.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ga(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Xa(t){var e=t._xScale,a=t._yScale||t._scale,n=t._index,r=t._datasetIndex,o=t._chart.getDatasetMeta(r).controller,s=o._getIndexScale(),i=o._getValueScale();return{xLabel:e?e.getLabelForIndex(n,r):"",yLabel:a?a.getLabelForIndex(n,r):"",label:s?""+s.getLabelForIndex(n,r):"",value:i?""+i.getLabelForIndex(n,r):"",index:n,datasetIndex:r,x:t._model.x,y:t._model.y}}function Ja(t){var e=Ot.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:qa(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:qa(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:qa(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:qa(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:qa(t.titleFontStyle,e.defaultFontStyle),titleFontSize:qa(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:qa(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:qa(t.footerFontStyle,e.defaultFontStyle),footerFontSize:qa(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function Za(t,e){var a=t._chart.ctx,n=2*e.yPadding,r=0,o=e.body,s=o.reduce((function(t,e){return t+e.before.length+e.lines.length+e.after.length}),0);s+=e.beforeBody.length+e.afterBody.length;var i=e.title.length,l=e.footer.length,c=e.titleFontSize,d=e.bodyFontSize,u=e.footerFontSize;n+=i*c,n+=i?(i-1)*e.titleSpacing:0,n+=i?e.titleMarginBottom:0,n+=s*d,n+=s?(s-1)*e.bodySpacing:0,n+=l?e.footerMarginTop:0,n+=l*u,n+=l?(l-1)*e.footerSpacing:0;var h=0,p=function(t){r=Math.max(r,a.measureText(t).width+h)};return a.font=Ut.fontString(c,e._titleFontStyle,e._titleFontFamily),Ut.each(e.title,p),a.font=Ut.fontString(d,e._bodyFontStyle,e._bodyFontFamily),Ut.each(e.beforeBody.concat(e.afterBody),p),h=e.displayColors?d+2:0,Ut.each(o,(function(t){Ut.each(t.before,p),Ut.each(t.lines,p),Ut.each(t.after,p)})),h=0,a.font=Ut.fontString(u,e._footerFontStyle,e._footerFontFamily),Ut.each(e.footer,p),r+=2*e.xPadding,{width:r,height:n}}function Qa(t,e){var a,n,r,o,s,i=t._model,l=t._chart,c=t._chart.chartArea,d="center",u="center";i.y<e.height?u="top":i.y>l.height-e.height&&(u="bottom");var h=(c.left+c.right)/2,p=(c.top+c.bottom)/2;"center"===u?(a=function(t){return t<=h},n=function(t){return t>h}):(a=function(t){return t<=e.width/2},n=function(t){return t>=l.width-e.width/2}),r=function(t){return t+e.width+i.caretSize+i.caretPadding>l.width},o=function(t){return t-e.width-i.caretSize-i.caretPadding<0},s=function(t){return t<=p?"top":"bottom"},a(i.x)?(d="left",r(i.x)&&(d="center",u=s(i.y))):n(i.x)&&(d="right",o(i.x)&&(d="center",u=s(i.y)));var m=t._options;return{xAlign:m.xAlign?m.xAlign:d,yAlign:m.yAlign?m.yAlign:u}}function tn(t,e,a,n){var r=t.x,o=t.y,s=t.caretSize,i=t.caretPadding,l=t.cornerRadius,c=a.xAlign,d=a.yAlign,u=s+i,h=l+i;return"right"===c?r-=e.width:"center"===c&&(r-=e.width/2,r+e.width>n.width&&(r=n.width-e.width),r<0&&(r=0)),"top"===d?o+=u:o-="bottom"===d?e.height+u:e.height/2,"center"===d?"left"===c?r+=u:"right"===c&&(r-=u):"left"===c?r-=h:"right"===c&&(r+=h),{x:r,y:o}}function en(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function an(t){return Ka([],Ga(t))}var nn=Jt.extend({initialize:function(){this._model=Ja(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,a=e.callbacks,n=a.beforeTitle.apply(t,arguments),r=a.title.apply(t,arguments),o=a.afterTitle.apply(t,arguments),s=[];return s=Ka(s,Ga(n)),s=Ka(s,Ga(r)),s=Ka(s,Ga(o)),s},getBeforeBody:function(){return an(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var a=this,n=a._options.callbacks,r=[];return Ut.each(t,(function(t){var o={before:[],lines:[],after:[]};Ka(o.before,Ga(n.beforeLabel.call(a,t,e))),Ka(o.lines,n.label.call(a,t,e)),Ka(o.after,Ga(n.afterLabel.call(a,t,e))),r.push(o)})),r},getAfterBody:function(){return an(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,a=e.beforeFooter.apply(t,arguments),n=e.footer.apply(t,arguments),r=e.afterFooter.apply(t,arguments),o=[];return o=Ka(o,Ga(a)),o=Ka(o,Ga(n)),o=Ka(o,Ga(r)),o},update:function(t){var e,a,n=this,r=n._options,o=n._model,s=n._model=Ja(r),i=n._active,l=n._data,c={xAlign:o.xAlign,yAlign:o.yAlign},d={x:o.x,y:o.y},u={width:o.width,height:o.height},h={x:o.caretX,y:o.caretY};if(i.length){s.opacity=1;var p=[],m=[];h=Ya[r.position].call(n,i,n._eventPosition);var f=[];for(e=0,a=i.length;e<a;++e)f.push(Xa(i[e]));r.filter&&(f=f.filter((function(t){return r.filter(t,l)}))),r.itemSort&&(f=f.sort((function(t,e){return r.itemSort(t,e,l)}))),Ut.each(f,(function(t){p.push(r.callbacks.labelColor.call(n,t,n._chart)),m.push(r.callbacks.labelTextColor.call(n,t,n._chart))})),s.title=n.getTitle(f,l),s.beforeBody=n.getBeforeBody(f,l),s.body=n.getBody(f,l),s.afterBody=n.getAfterBody(f,l),s.footer=n.getFooter(f,l),s.x=h.x,s.y=h.y,s.caretPadding=r.caretPadding,s.labelColors=p,s.labelTextColors=m,s.dataPoints=f,u=Za(this,s),c=Qa(this,u),d=tn(s,u,c,n._chart)}else s.opacity=0;return s.xAlign=c.xAlign,s.yAlign=c.yAlign,s.x=d.x,s.y=d.y,s.width=u.width,s.height=u.height,s.caretX=h.x,s.caretY=h.y,n._model=s,t&&r.custom&&r.custom.call(n,s),n},drawCaret:function(t,e){var a=this._chart.ctx,n=this._view,r=this.getCaretPosition(t,e,n);a.lineTo(r.x1,r.y1),a.lineTo(r.x2,r.y2),a.lineTo(r.x3,r.y3)},getCaretPosition:function(t,e,a){var n,r,o,s,i,l,c=a.caretSize,d=a.cornerRadius,u=a.xAlign,h=a.yAlign,p=t.x,m=t.y,f=e.width,g=e.height;if("center"===h)i=m+g/2,"left"===u?(n=p,r=n-c,o=n,s=i+c,l=i-c):(n=p+f,r=n+c,o=n,s=i-c,l=i+c);else if("left"===u?(r=p+d+c,n=r-c,o=r+c):"right"===u?(r=p+f-d-c,n=r-c,o=r+c):(r=a.caretX,n=r-c,o=r+c),"top"===h)s=m,i=s-c,l=s;else{s=m+g,i=s+c,l=s;var v=o;o=n,n=v}return{x1:n,x2:r,x3:o,y1:s,y2:i,y3:l}},drawTitle:function(t,e,a){var n=e.title;if(n.length){t.x=en(e,e._titleAlign),a.textAlign=e._titleAlign,a.textBaseline="top";var r,o,s=e.titleFontSize,i=e.titleSpacing;for(a.fillStyle=e.titleFontColor,a.font=Ut.fontString(s,e._titleFontStyle,e._titleFontFamily),r=0,o=n.length;r<o;++r)a.fillText(n[r],t.x,t.y),t.y+=s+i,r+1===n.length&&(t.y+=e.titleMarginBottom-i)}},drawBody:function(t,e,a){var n,r=e.bodyFontSize,o=e.bodySpacing,s=e._bodyAlign,i=e.body,l=e.displayColors,c=e.labelColors,d=0,u=l?en(e,"left"):0;a.textAlign=s,a.textBaseline="top",a.font=Ut.fontString(r,e._bodyFontStyle,e._bodyFontFamily),t.x=en(e,s);var h=function(e){a.fillText(e,t.x+d,t.y),t.y+=r+o};a.fillStyle=e.bodyFontColor,Ut.each(e.beforeBody,h),d=l&&"right"!==s?"center"===s?r/2+1:r+2:0,Ut.each(i,(function(o,s){n=e.labelTextColors[s],a.fillStyle=n,Ut.each(o.before,h),Ut.each(o.lines,(function(o){l&&(a.fillStyle=e.legendColorBackground,a.fillRect(u,t.y,r,r),a.lineWidth=1,a.strokeStyle=c[s].borderColor,a.strokeRect(u,t.y,r,r),a.fillStyle=c[s].backgroundColor,a.fillRect(u+1,t.y+1,r-2,r-2),a.fillStyle=n),h(o)})),Ut.each(o.after,h)})),d=0,Ut.each(e.afterBody,h),t.y-=o},drawFooter:function(t,e,a){var n=e.footer;n.length&&(t.x=en(e,e._footerAlign),t.y+=e.footerMarginTop,a.textAlign=e._footerAlign,a.textBaseline="top",a.fillStyle=e.footerFontColor,a.font=Ut.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),Ut.each(n,(function(n){a.fillText(n,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing})))},drawBackground:function(t,e,a,n){a.fillStyle=e.backgroundColor,a.strokeStyle=e.borderColor,a.lineWidth=e.borderWidth;var r=e.xAlign,o=e.yAlign,s=t.x,i=t.y,l=n.width,c=n.height,d=e.cornerRadius;a.beginPath(),a.moveTo(s+d,i),"top"===o&&this.drawCaret(t,n),a.lineTo(s+l-d,i),a.quadraticCurveTo(s+l,i,s+l,i+d),"center"===o&&"right"===r&&this.drawCaret(t,n),a.lineTo(s+l,i+c-d),a.quadraticCurveTo(s+l,i+c,s+l-d,i+c),"bottom"===o&&this.drawCaret(t,n),a.lineTo(s+d,i+c),a.quadraticCurveTo(s,i+c,s,i+c-d),"center"===o&&"left"===r&&this.drawCaret(t,n),a.lineTo(s,i+d),a.quadraticCurveTo(s,i,s+d,i),a.closePath(),a.fill(),e.borderWidth>0&&a.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var a={width:e.width,height:e.height},n={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity,o=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&o&&(t.save(),t.globalAlpha=r,this.drawBackground(n,e,t,a),n.y+=e.yPadding,this.drawTitle(n,e,t),this.drawBody(n,e,t),this.drawFooter(n,e,t),t.restore())}},handleEvent:function(t){var e=this,a=e._options,n=!1;return e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:e._active=e._chart.getElementsAtEventForMode(t,a.mode,a),n=!Ut.arrayEquals(e._active,e._lastActive),n&&(e._lastActive=e._active,(a.enabled||a.custom)&&(e._eventPosition={x:t.x,y:t.y},e.update(!0),e.pivot())),n}}),rn=Ya,on=nn;on.positioners=rn;var sn=Ut.valueOrDefault;function ln(){return Ut.merge({},[].slice.call(arguments),{merger:function(t,e,a,n){if("xAxes"===t||"yAxes"===t){var r,o,s,i=a[t].length;for(e[t]||(e[t]=[]),r=0;r<i;++r)s=a[t][r],o=sn(s.type,"xAxes"===t?"category":"linear"),r>=e[t].length&&e[t].push({}),!e[t][r].type||s.type&&s.type!==e[t][r].type?Ut.merge(e[t][r],[Ua.getScaleDefaults(o),s]):Ut.merge(e[t][r],s)}else Ut._merger(t,e,a,n)}})}function cn(){return Ut.merge({},[].slice.call(arguments),{merger:function(t,e,a,n){var r=e[t]||{},o=a[t];"scales"===t?e[t]=ln(r,o):"scale"===t?e[t]=Ut.merge(r,[Ua.getScaleDefaults(o.type),o]):Ut._merger(t,e,a,n)}})}function dn(t){t=t||{};var e=t.data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=cn(Ot.global,Ot[t.type],t.options||{}),t}function un(t){var e=t.options;Ut.each(t.scales,(function(e){ha.removeBox(t,e)})),e=cn(Ot.global,Ot[t.config.type],e),t.options=t.config.options=e,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=e.tooltips,t.tooltip.initialize()}function hn(t){return"top"===t||"bottom"===t}Ot._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var pn=function(t,e){return this.construct(t,e),this};Ut.extend(pn.prototype,{construct:function(t,e){var a=this;e=dn(e);var n=Va.acquireContext(t,e),r=n&&n.canvas,o=r&&r.height,s=r&&r.width;a.id=Ut.uid(),a.ctx=n,a.canvas=r,a.config=e,a.width=s,a.height=o,a.aspectRatio=o?s/o:null,a.options=e.options,a._bufferedRender=!1,a.chart=a,a.controller=a,pn.instances[a.id]=a,Object.defineProperty(a,"data",{get:function(){return a.config.data},set:function(t){a.config.data=t}}),n&&r?(a.initialize(),a.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return Wa.notify(t,"beforeInit"),Ut.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.initToolTip(),Wa.notify(t,"afterInit"),t},clear:function(){return Ut.canvas.clear(this),this},stop:function(){return te.cancelAnimation(this),this},resize:function(t){var e=this,a=e.options,n=e.canvas,r=a.maintainAspectRatio&&e.aspectRatio||null,o=Math.max(0,Math.floor(Ut.getMaximumWidth(n))),s=Math.max(0,Math.floor(r?o/r:Ut.getMaximumHeight(n)));if((e.width!==o||e.height!==s)&&(n.width=e.width=o,n.height=e.height=s,n.style.width=o+"px",n.style.height=s+"px",Ut.retinaScale(e,a.devicePixelRatio),!t)){var i={width:o,height:s};Wa.notify(e,"resize",[i]),a.onResize&&a.onResize(e,i),e.stop(),e.update({duration:a.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},a=t.scale;Ut.each(e.xAxes,(function(t,e){t.id=t.id||"x-axis-"+e})),Ut.each(e.yAxes,(function(t,e){t.id=t.id||"y-axis-"+e})),a&&(a.id=a.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,a=t.scales||{},n=[],r=Object.keys(a).reduce((function(t,e){return t[e]=!1,t}),{});e.scales&&(n=n.concat((e.scales.xAxes||[]).map((function(t){return{options:t,dtype:"category",dposition:"bottom"}})),(e.scales.yAxes||[]).map((function(t){return{options:t,dtype:"linear",dposition:"left"}})))),e.scale&&n.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),Ut.each(n,(function(e){var n=e.options,o=n.id,s=sn(n.type,e.dtype);hn(n.position)!==hn(e.dposition)&&(n.position=e.dposition),r[o]=!0;var i=null;if(o in a&&a[o].type===s)i=a[o],i.options=n,i.ctx=t.ctx,i.chart=t;else{var l=Ua.getScaleConstructor(s);if(!l)return;i=new l({id:o,type:s,options:n,ctx:t.ctx,chart:t}),a[i.id]=i}i.mergeTicksOptions(),e.isDefault&&(t.scale=i)})),Ut.each(r,(function(t,e){t||delete a[e]})),t.scales=a,Ua.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this,e=[];return Ut.each(t.data.datasets,(function(a,n){var r=t.getDatasetMeta(n),o=a.type||t.config.type;if(r.type&&r.type!==o&&(t.destroyDatasetMeta(n),r=t.getDatasetMeta(n)),r.type=o,r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{var s=ta[r.type];if(void 0===s)throw new Error('"'+r.type+'" is not a chart type.');r.controller=new s(t,n),e.push(r.controller)}}),t),e},resetElements:function(){var t=this;Ut.each(t.data.datasets,(function(e,a){t.getDatasetMeta(a).controller.reset()}),t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e=this;if(t&&"object"===typeof t||(t={duration:t,lazy:arguments[1]}),un(e),Wa._invalidate(e),!1!==Wa.notify(e,"beforeUpdate")){e.tooltip._data=e.data;var a=e.buildOrUpdateControllers();Ut.each(e.data.datasets,(function(t,a){e.getDatasetMeta(a).controller.buildOrUpdateElements()}),e),e.updateLayout(),e.options.animation&&e.options.animation.duration&&Ut.each(a,(function(t){t.reset()})),e.updateDatasets(),e.tooltip.initialize(),e.lastActive=[],Wa.notify(e,"afterUpdate"),e._bufferedRender?e._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:e.render(t)}},updateLayout:function(){var t=this;!1!==Wa.notify(t,"beforeLayout")&&(ha.update(this,this.width,this.height),Wa.notify(t,"afterScaleUpdate"),Wa.notify(t,"afterLayout"))},updateDatasets:function(){var t=this;if(!1!==Wa.notify(t,"beforeDatasetsUpdate")){for(var e=0,a=t.data.datasets.length;e<a;++e)t.updateDataset(e);Wa.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,a=e.getDatasetMeta(t),n={meta:a,index:t};!1!==Wa.notify(e,"beforeDatasetUpdate",[n])&&(a.controller.update(),Wa.notify(e,"afterDatasetUpdate",[n]))},render:function(t){var e=this;t&&"object"===typeof t||(t={duration:t,lazy:arguments[1]});var a=e.options.animation,n=sn(t.duration,a&&a.duration),r=t.lazy;if(!1!==Wa.notify(e,"beforeRender")){var o=function(t){Wa.notify(e,"afterRender"),Ut.callback(a&&a.onComplete,[t],e)};if(a&&n){var s=new Qt({numSteps:n/16.66,easing:t.easing||a.easing,render:function(t,e){var a=Ut.easing.effects[e.easing],n=e.currentStep,r=n/e.numSteps;t.draw(a(r),r,n)},onAnimationProgress:a.onProgress,onAnimationComplete:o});te.addAnimation(e,s,n,r)}else e.draw(),o(new Qt({numSteps:0,chart:e}));return e}},draw:function(t){var e=this;e.clear(),Ut.isNullOrUndef(t)&&(t=1),e.transition(t),e.width<=0||e.height<=0||!1!==Wa.notify(e,"beforeDraw",[t])&&(Ut.each(e.boxes,(function(t){t.draw(e.chartArea)}),e),e.drawDatasets(t),e._drawTooltip(t),Wa.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=this,a=0,n=(e.data.datasets||[]).length;a<n;++a)e.isDatasetVisible(a)&&e.getDatasetMeta(a).controller.transition(t);e.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==Wa.notify(e,"beforeDatasetsDraw",[t])){for(var a=(e.data.datasets||[]).length-1;a>=0;--a)e.isDatasetVisible(a)&&e.drawDataset(a,t);Wa.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var a=this,n=a.getDatasetMeta(t),r={meta:n,index:t,easingValue:e};!1!==Wa.notify(a,"beforeDatasetDraw",[r])&&(n.controller.draw(e),Wa.notify(a,"afterDatasetDraw",[r]))},_drawTooltip:function(t){var e=this,a=e.tooltip,n={tooltip:a,easingValue:t};!1!==Wa.notify(e,"beforeTooltipDraw",[n])&&(a.draw(),Wa.notify(e,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return ia.modes.single(this,t)},getElementsAtEvent:function(t){return ia.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return ia.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,a){var n=ia.modes[e];return"function"===typeof n?n(this,t,a):[]},getDatasetAtEvent:function(t){return ia.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,a=e.data.datasets[t];a._meta||(a._meta={});var n=a._meta[e.id];return n||(n=a._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,a=this.data.datasets.length;e<a;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"===typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,a=this.data.datasets[t],n=a._meta&&a._meta[e];n&&(n.controller.destroy(),delete a._meta[e])},destroy:function(){var t,e,a=this,n=a.canvas;for(a.stop(),t=0,e=a.data.datasets.length;t<e;++t)a.destroyDatasetMeta(t);n&&(a.unbindEvents(),Ut.canvas.clear(a),Va.releaseContext(a.ctx),a.canvas=null,a.ctx=null),Wa.notify(a,"destroy"),delete pn.instances[a.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new on({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},a=function(){t.eventHandler.apply(t,arguments)};Ut.each(t.options.events,(function(n){Va.addEventListener(t,n,a),e[n]=a})),t.options.responsive&&(a=function(){t.resize()},Va.addEventListener(t,"resize",a),e.resize=a)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,Ut.each(e,(function(e,a){Va.removeEventListener(t,a,e)})))},updateHoverStyle:function(t,e,a){var n,r,o,s=a?"setHoverStyle":"removeHoverStyle";for(r=0,o=t.length;r<o;++r)n=t[r],n&&this.getDatasetMeta(n._datasetIndex).controller[s](n)},eventHandler:function(t){var e=this,a=e.tooltip;if(!1!==Wa.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var n=e.handleEvent(t);a&&(n=a._start?a.handleEvent(t):n|a.handleEvent(t)),Wa.notify(e,"afterEvent",[t]);var r=e._bufferedRequest;return r?e.render(r):n&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,a=e.options||{},n=a.hover,r=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,n.mode,n),Ut.callback(a.onHover||a.hover.onHover,[t.native,e.active],e),"mouseup"!==t.type&&"click"!==t.type||a.onClick&&a.onClick.call(e,t.native,e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,n.mode,!1),e.active.length&&n.mode&&e.updateHoverStyle(e.active,n.mode,!0),r=!Ut.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,r}}),pn.instances={};var mn=pn;pn.Controller=pn,pn.types={},Ut.configMerge=cn,Ut.scaleMerge=ln;var fn=function(){function t(t,e,a){var n;return"string"===typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[a])):n=t,n}function e(t){return void 0!==t&&null!==t&&"none"!==t}function a(a,n,r){var o=document.defaultView,s=Ut._getParentNode(a),i=o.getComputedStyle(a)[n],l=o.getComputedStyle(s)[n],c=e(i),d=e(l),u=Number.POSITIVE_INFINITY;return c||d?Math.min(c?t(i,a,r):u,d?t(l,s,r):u):"none"}Ut.where=function(t,e){if(Ut.isArray(t)&&Array.prototype.filter)return t.filter(e);var a=[];return Ut.each(t,(function(t){e(t)&&a.push(t)})),a},Ut.findIndex=Array.prototype.findIndex?function(t,e,a){return t.findIndex(e,a)}:function(t,e,a){a=void 0===a?t:a;for(var n=0,r=t.length;n<r;++n)if(e.call(a,t[n],n,t))return n;return-1},Ut.findNextWhere=function(t,e,a){Ut.isNullOrUndef(a)&&(a=-1);for(var n=a+1;n<t.length;n++){var r=t[n];if(e(r))return r}},Ut.findPreviousWhere=function(t,e,a){Ut.isNullOrUndef(a)&&(a=t.length);for(var n=a-1;n>=0;n--){var r=t[n];if(e(r))return r}},Ut.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},Ut.almostEquals=function(t,e,a){return Math.abs(t-e)<a},Ut.almostWhole=function(t,e){var a=Math.round(t);return a-e<t&&a+e>t},Ut.max=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.max(t,e)}),Number.NEGATIVE_INFINITY)},Ut.min=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.min(t,e)}),Number.POSITIVE_INFINITY)},Ut.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},Ut.log10=Math.log10?function(t){return Math.log10(t)}:function(t){var e=Math.log(t)*Math.LOG10E,a=Math.round(e),n=t===Math.pow(10,a);return n?a:e},Ut.toRadians=function(t){return t*(Math.PI/180)},Ut.toDegrees=function(t){return t*(180/Math.PI)},Ut._decimalPlaces=function(t){if(Ut.isFinite(t)){var e=1,a=0;while(Math.round(t*e)/e!==t)e*=10,a++;return a}},Ut.getAngleFromPoint=function(t,e){var a=e.x-t.x,n=e.y-t.y,r=Math.sqrt(a*a+n*n),o=Math.atan2(n,a);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},Ut.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},Ut.aliasPixel=function(t){return t%2===0?0:.5},Ut._alignPixel=function(t,e,a){var n=t.currentDevicePixelRatio,r=a/2;return Math.round((e-r)*n)/n+r},Ut.splineCurve=function(t,e,a,n){var r=t.skip?e:t,o=e,s=a.skip?e:a,i=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(s.x-o.x,2)+Math.pow(s.y-o.y,2)),c=i/(i+l),d=l/(i+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;var u=n*c,h=n*d;return{previous:{x:o.x-u*(s.x-r.x),y:o.y-u*(s.y-r.y)},next:{x:o.x+h*(s.x-r.x),y:o.y+h*(s.y-r.y)}}},Ut.EPSILON=Number.EPSILON||1e-14,Ut.splineCurveMonotone=function(t){var e,a,n,r,o,s,i,l,c,d=(t||[]).map((function(t){return{model:t._model,deltaK:0,mK:0}})),u=d.length;for(e=0;e<u;++e)if(n=d[e],!n.model.skip){if(a=e>0?d[e-1]:null,r=e<u-1?d[e+1]:null,r&&!r.model.skip){var h=r.model.x-n.model.x;n.deltaK=0!==h?(r.model.y-n.model.y)/h:0}!a||a.model.skip?n.mK=n.deltaK:!r||r.model.skip?n.mK=a.deltaK:this.sign(a.deltaK)!==this.sign(n.deltaK)?n.mK=0:n.mK=(a.deltaK+n.deltaK)/2}for(e=0;e<u-1;++e)n=d[e],r=d[e+1],n.model.skip||r.model.skip||(Ut.almostEquals(n.deltaK,0,this.EPSILON)?n.mK=r.mK=0:(o=n.mK/n.deltaK,s=r.mK/n.deltaK,l=Math.pow(o,2)+Math.pow(s,2),l<=9||(i=3/Math.sqrt(l),n.mK=o*i*n.deltaK,r.mK=s*i*n.deltaK)));for(e=0;e<u;++e)n=d[e],n.model.skip||(a=e>0?d[e-1]:null,r=e<u-1?d[e+1]:null,a&&!a.model.skip&&(c=(n.model.x-a.model.x)/3,n.model.controlPointPreviousX=n.model.x-c,n.model.controlPointPreviousY=n.model.y-c*n.mK),r&&!r.model.skip&&(c=(r.model.x-n.model.x)/3,n.model.controlPointNextX=n.model.x+c,n.model.controlPointNextY=n.model.y+c*n.mK))},Ut.nextItem=function(t,e,a){return a?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},Ut.previousItem=function(t,e,a){return a?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},Ut.niceNum=function(t,e){var a,n=Math.floor(Ut.log10(t)),r=t/Math.pow(10,n);return a=e?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10,a*Math.pow(10,n)},Ut.requestAnimFrame=function(){return"undefined"===typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),Ut.getRelativePosition=function(t,e){var a,n,r=t.originalEvent||t,o=t.target||t.srcElement,s=o.getBoundingClientRect(),i=r.touches;i&&i.length>0?(a=i[0].clientX,n=i[0].clientY):(a=r.clientX,n=r.clientY);var l=parseFloat(Ut.getStyle(o,"padding-left")),c=parseFloat(Ut.getStyle(o,"padding-top")),d=parseFloat(Ut.getStyle(o,"padding-right")),u=parseFloat(Ut.getStyle(o,"padding-bottom")),h=s.right-s.left-l-d,p=s.bottom-s.top-c-u;return a=Math.round((a-s.left-l)/h*o.width/e.currentDevicePixelRatio),n=Math.round((n-s.top-c)/p*o.height/e.currentDevicePixelRatio),{x:a,y:n}},Ut.getConstraintWidth=function(t){return a(t,"max-width","clientWidth")},Ut.getConstraintHeight=function(t){return a(t,"max-height","clientHeight")},Ut._calculatePadding=function(t,e,a){return e=Ut.getStyle(t,e),e.indexOf("%")>-1?a*parseInt(e,10)/100:parseInt(e,10)},Ut._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},Ut.getMaximumWidth=function(t){var e=Ut._getParentNode(t);if(!e)return t.clientWidth;var a=e.clientWidth,n=Ut._calculatePadding(e,"padding-left",a),r=Ut._calculatePadding(e,"padding-right",a),o=a-n-r,s=Ut.getConstraintWidth(t);return isNaN(s)?o:Math.min(o,s)},Ut.getMaximumHeight=function(t){var e=Ut._getParentNode(t);if(!e)return t.clientHeight;var a=e.clientHeight,n=Ut._calculatePadding(e,"padding-top",a),r=Ut._calculatePadding(e,"padding-bottom",a),o=a-n-r,s=Ut.getConstraintHeight(t);return isNaN(s)?o:Math.min(o,s)},Ut.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},Ut.retinaScale=function(t,e){var a=t.currentDevicePixelRatio=e||"undefined"!==typeof window&&window.devicePixelRatio||1;if(1!==a){var n=t.canvas,r=t.height,o=t.width;n.height=r*a,n.width=o*a,t.ctx.scale(a,a),n.style.height||n.style.width||(n.style.height=r+"px",n.style.width=o+"px")}},Ut.fontString=function(t,e,a){return e+" "+t+"px "+a},Ut.longestText=function(t,e,a,n){n=n||{};var r=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},o=n.garbageCollect=[],n.font=e),t.font=e;var s=0;Ut.each(a,(function(e){void 0!==e&&null!==e&&!0!==Ut.isArray(e)?s=Ut.measureText(t,r,o,s,e):Ut.isArray(e)&&Ut.each(e,(function(e){void 0===e||null===e||Ut.isArray(e)||(s=Ut.measureText(t,r,o,s,e))}))}));var i=o.length/2;if(i>a.length){for(var l=0;l<i;l++)delete r[o[l]];o.splice(0,i)}return s},Ut.measureText=function(t,e,a,n,r){var o=e[r];return o||(o=e[r]=t.measureText(r).width,a.push(r)),o>n&&(n=o),n},Ut.numberOfLabelLines=function(t){var e=1;return Ut.each(t,(function(t){Ut.isArray(t)&&t.length>e&&(e=t.length)})),e},Ut.color=Tt?function(t){return t instanceof CanvasGradient&&(t=Ot.global.defaultColor),Tt(t)}:function(t){return console.error("Color.js not found!"),t},Ut.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:Ut.color(t).saturate(.5).darken(.1).rgbString()}};function gn(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function vn(t){this.options=t||{}}Ut.extend(vn.prototype,{formats:gn,parse:gn,format:gn,add:gn,diff:gn,startOf:gn,endOf:gn,_create:function(t){return t}}),vn.override=function(t){Ut.extend(vn.prototype,t)};var bn=vn,yn={_date:bn},xn={formatters:{values:function(t){return Ut.isArray(t)?t:""+t},linear:function(t,e,a){var n=a.length>3?a[2]-a[1]:a[1]-a[0];Math.abs(n)>1&&t!==Math.floor(t)&&(n=t-Math.floor(t));var r=Ut.log10(Math.abs(n)),o="";if(0!==t){var s=Math.max(Math.abs(a[0]),Math.abs(a[a.length-1]));if(s<1e-4){var i=Ut.log10(Math.abs(t));o=t.toExponential(Math.floor(i)-Math.floor(r))}else{var l=-1*Math.floor(r);l=Math.max(Math.min(l,20),0),o=t.toFixed(l)}}else o="0";return o},logarithmic:function(t,e,a){var n=t/Math.pow(10,Math.floor(Ut.log10(t)));return 0===t?"0":1===n||2===n||5===n||0===e||e===a.length-1?t.toExponential():""}}},wn=Ut.valueOrDefault,Cn=Ut.valueAtIndexOrDefault;function kn(t){var e,a,n=[];for(e=0,a=t.length;e<a;++e)n.push(t[e].label);return n}function Sn(t,e,a){var n=t.getPixelForTick(e);return a&&(1===t.getTicks().length?n-=t.isHorizontal()?Math.max(n-t.left,t.right-n):Math.max(n-t.top,t.bottom-n):n-=0===e?(t.getPixelForTick(1)-n)/2:(n-t.getPixelForTick(e-1))/2),n}function _n(t,e,a){return Ut.isArray(e)?Ut.longestText(t,a,e):t.measureText(e).width}Ot._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:xn.formatters.values,minor:{},major:{}}});var Pn=Jt.extend({getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;for(var e in!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1}),t)"major"!==e&&"minor"!==e&&("undefined"===typeof t.minor[e]&&(t.minor[e]=t[e]),"undefined"===typeof t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){Ut.callback(this.options.beforeUpdate,[this])},update:function(t,e,a){var n,r,o,s,i,l,c=this;for(c.beforeUpdate(),c.maxWidth=t,c.maxHeight=e,c.margins=Ut.extend({left:0,right:0,top:0,bottom:0},a),c._maxLabelLines=0,c.longestLabelWidth=0,c.longestTextCache=c.longestTextCache||{},c.beforeSetDimensions(),c.setDimensions(),c.afterSetDimensions(),c.beforeDataLimits(),c.determineDataLimits(),c.afterDataLimits(),c.beforeBuildTicks(),i=c.buildTicks()||[],i=c.afterBuildTicks(i)||i,c.beforeTickToLabelConversion(),o=c.convertTicksToLabels(i)||c.ticks,c.afterTickToLabelConversion(),c.ticks=o,n=0,r=o.length;n<r;++n)s=o[n],l=i[n],l?l.label=s:i.push(l={label:s,major:!1});return c._ticks=i,c.beforeCalculateTickRotation(),c.calculateTickRotation(),c.afterCalculateTickRotation(),c.beforeFit(),c.fit(),c.afterFit(),c.afterUpdate(),c.minSize},afterUpdate:function(){Ut.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){Ut.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){Ut.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){Ut.callback(this.options.beforeDataLimits,[this])},determineDataLimits:Ut.noop,afterDataLimits:function(){Ut.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){Ut.callback(this.options.beforeBuildTicks,[this])},buildTicks:Ut.noop,afterBuildTicks:function(t){var e=this;return Ut.isArray(t)&&t.length?Ut.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=Ut.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){Ut.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){Ut.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){Ut.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,a=t.options.ticks,n=kn(t._ticks),r=Ut.options._parseFont(a);e.font=r.string;var o=a.minRotation||0;if(n.length&&t.options.display&&t.isHorizontal()){var s,i,l=Ut.longestText(e,r.string,n,t.longestTextCache),c=l,d=t.getPixelForTick(1)-t.getPixelForTick(0)-6;while(c>d&&o<a.maxRotation){var u=Ut.toRadians(o);if(s=Math.cos(u),i=Math.sin(u),i*l>t.maxHeight){o--;break}o++,c=s*l}}t.labelRotation=o},afterCalculateTickRotation:function(){Ut.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){Ut.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},a=kn(t._ticks),n=t.options,r=n.ticks,o=n.scaleLabel,s=n.gridLines,i=t._isVisible(),l=n.position,c=t.isHorizontal(),d=Ut.options._parseFont,u=d(r),h=n.gridLines.tickMarkLength;if(e.width=c?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:i&&s.drawTicks?h:0,e.height=c?i&&s.drawTicks?h:0:t.maxHeight,o.display&&i){var p=d(o),m=Ut.options.toPadding(o.padding),f=p.lineHeight+m.height;c?e.height+=f:e.width+=f}if(r.display&&i){var g=Ut.longestText(t.ctx,u.string,a,t.longestTextCache),v=Ut.numberOfLabelLines(a),b=.5*u.size,y=t.options.ticks.padding;if(t._maxLabelLines=v,t.longestLabelWidth=g,c){var x=Ut.toRadians(t.labelRotation),w=Math.cos(x),C=Math.sin(x),k=C*g+u.lineHeight*v+b;e.height=Math.min(t.maxHeight,e.height+k+y),t.ctx.font=u.string;var S,_,P=_n(t.ctx,a[0],u.string),T=_n(t.ctx,a[a.length-1],u.string),I=t.getPixelForTick(0)-t.left,B=t.right-t.getPixelForTick(a.length-1);0!==t.labelRotation?(S="bottom"===l?w*P:w*b,_="bottom"===l?w*b:w*T):(S=P/2,_=T/2),t.paddingLeft=Math.max(S-I,0)+3,t.paddingRight=Math.max(_-B,0)+3}else r.mirror?g=0:g+=y+b,e.width=Math.min(t.maxWidth,e.width+g),t.paddingTop=u.size/2,t.paddingBottom=u.size/2}t.handleMargins(),t.width=e.width,t.height=e.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){Ut.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(Ut.isNullOrUndef(t))return NaN;if(("number"===typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:Ut.noop,getPixelForValue:Ut.noop,getValueForPixel:Ut.noop,getPixelForTick:function(t){var e=this,a=e.options.offset;if(e.isHorizontal()){var n=e.width-(e.paddingLeft+e.paddingRight),r=n/Math.max(e._ticks.length-(a?0:1),1),o=r*t+e.paddingLeft;a&&(o+=r/2);var s=e.left+o;return s+=e.isFullWidth()?e.margins.left:0,s}var i=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(i/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var a=e.width-(e.paddingLeft+e.paddingRight),n=a*t+e.paddingLeft,r=e.left+n;return r+=e.isFullWidth()?e.margins.left:0,r}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,a=t.max;return t.beginAtZero?0:e<0&&a<0?a:e>0&&a>0?e:0},_autoSkip:function(t){var e,a,n=this,r=n.isHorizontal(),o=n.options.ticks.minor,s=t.length,i=!1,l=o.maxTicksLimit,c=n._tickSize()*(s-1),d=r?n.width-(n.paddingLeft+n.paddingRight):n.height-(n.paddingTop+n.PaddingBottom),u=[];for(c>d&&(i=1+Math.floor(c/d)),s>l&&(i=Math.max(i,1+Math.floor(s/l))),e=0;e<s;e++)a=t[e],i>1&&e%i>0&&delete a.label,u.push(a);return u},_tickSize:function(){var t=this,e=t.isHorizontal(),a=t.options.ticks.minor,n=Ut.toRadians(t.labelRotation),r=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),s=a.autoSkipPadding||0,i=t.longestLabelWidth+s||0,l=Ut.options._parseFont(a),c=t._maxLabelLines*l.lineHeight+s||0;return e?c*r>i*o?i/r:c/o:c*o<i*r?c/r:i/o},_isVisible:function(){var t,e,a,n=this,r=n.chart,o=n.options.display;if("auto"!==o)return!!o;for(t=0,e=r.data.datasets.length;t<e;++t)if(r.isDatasetVisible(t)&&(a=r.getDatasetMeta(t),a.xAxisID===n.id||a.yAxisID===n.id))return!0;return!1},draw:function(t){var e=this,a=e.options;if(e._isVisible()){var n,r,o,s=e.chart,i=e.ctx,l=Ot.global,c=l.defaultFontColor,d=a.ticks.minor,u=a.ticks.major||d,h=a.gridLines,p=a.scaleLabel,m=a.position,f=0!==e.labelRotation,g=d.mirror,v=e.isHorizontal(),b=Ut.options._parseFont,y=d.display&&d.autoSkip?e._autoSkip(e.getTicks()):e.getTicks(),x=wn(d.fontColor,c),w=b(d),C=w.lineHeight,k=wn(u.fontColor,c),S=b(u),_=d.padding,P=d.labelOffset,T=h.drawTicks?h.tickMarkLength:0,I=wn(p.fontColor,c),B=b(p),D=Ut.options.toPadding(p.padding),M=Ut.toRadians(e.labelRotation),F=[],R=h.drawBorder?Cn(h.lineWidth,0,0):0,A=Ut._alignPixel;"top"===m?(n=A(s,e.bottom,R),r=e.bottom-T,o=n-R/2):"bottom"===m?(n=A(s,e.top,R),r=n+R/2,o=e.top+T):"left"===m?(n=A(s,e.right,R),r=e.right-T,o=n-R/2):(n=A(s,e.left,R),r=n+R/2,o=e.left+T);var E=1e-7;if(Ut.each(y,(function(n,i){if(!Ut.isNullOrUndef(n.label)){var l,c,d,u,p,b,y,x,w,k,S,I,B,D,N,$,H=n.label;i===e.zeroLineIndex&&a.offset===h.offsetGridLines?(l=h.zeroLineWidth,c=h.zeroLineColor,d=h.zeroLineBorderDash||[],u=h.zeroLineBorderDashOffset||0):(l=Cn(h.lineWidth,i),c=Cn(h.color,i),d=h.borderDash||[],u=h.borderDashOffset||0);var L=Ut.isArray(H)?H.length:1,z=Sn(e,i,h.offsetGridLines);if(v){var O=T+_;z<e.left-E&&(c="rgba(0,0,0,0)"),p=y=w=S=A(s,z,l),b=r,x=o,B=e.getPixelForTick(i)+P,"top"===m?(k=A(s,t.top,R)+R/2,I=t.bottom,N=((f?1:.5)-L)*C,$=f?"left":"center",D=e.bottom-O):(k=t.top,I=A(s,t.bottom,R)-R/2,N=(f?0:.5)*C,$=f?"right":"center",D=e.top+O)}else{var j=(g?0:T)+_;z<e.top-E&&(c="rgba(0,0,0,0)"),p=r,y=o,b=x=k=I=A(s,z,l),D=e.getPixelForTick(i)+P,N=(1-L)*C/2,"left"===m?(w=A(s,t.left,R)+R/2,S=t.right,$=g?"left":"right",B=e.right-j):(w=t.left,S=A(s,t.right,R)-R/2,$=g?"right":"left",B=e.left+j)}F.push({tx1:p,ty1:b,tx2:y,ty2:x,x1:w,y1:k,x2:S,y2:I,labelX:B,labelY:D,glWidth:l,glColor:c,glBorderDash:d,glBorderDashOffset:u,rotation:-1*M,label:H,major:n.major,textOffset:N,textAlign:$})}})),Ut.each(F,(function(t){var e=t.glWidth,a=t.glColor;if(h.display&&e&&a&&(i.save(),i.lineWidth=e,i.strokeStyle=a,i.setLineDash&&(i.setLineDash(t.glBorderDash),i.lineDashOffset=t.glBorderDashOffset),i.beginPath(),h.drawTicks&&(i.moveTo(t.tx1,t.ty1),i.lineTo(t.tx2,t.ty2)),h.drawOnChartArea&&(i.moveTo(t.x1,t.y1),i.lineTo(t.x2,t.y2)),i.stroke(),i.restore()),d.display){i.save(),i.translate(t.labelX,t.labelY),i.rotate(t.rotation),i.font=t.major?S.string:w.string,i.fillStyle=t.major?k:x,i.textBaseline="middle",i.textAlign=t.textAlign;var n=t.label,r=t.textOffset;if(Ut.isArray(n))for(var o=0;o<n.length;++o)i.fillText(""+n[o],0,r),r+=C;else i.fillText(n,0,r);i.restore()}})),p.display){var N,$,H=0,L=B.lineHeight/2;if(v)N=e.left+(e.right-e.left)/2,$="bottom"===m?e.bottom-L-D.bottom:e.top+L+D.top;else{var z="left"===m;N=z?e.left+L+D.top:e.right-L-D.top,$=e.top+(e.bottom-e.top)/2,H=z?-.5*Math.PI:.5*Math.PI}i.save(),i.translate(N,$),i.rotate(H),i.textAlign="center",i.textBaseline="middle",i.fillStyle=I,i.font=B.string,i.fillText(p.labelString,0,0),i.restore()}if(R){var O,j,V,W,U=R,q=Cn(h.lineWidth,y.length-1,0);v?(O=A(s,e.left,U)-U/2,j=A(s,e.right,q)+q/2,V=W=n):(V=A(s,e.top,U)-U/2,W=A(s,e.bottom,q)+q/2,O=j=n),i.lineWidth=R,i.strokeStyle=Cn(h.color,0),i.beginPath(),i.moveTo(O,V),i.lineTo(j,W),i.stroke()}}}}),Tn={position:"bottom"},In=Pn.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t,e=this,a=e.getLabels();e.minIndex=0,e.maxIndex=a.length-1,void 0!==e.options.ticks.min&&(t=a.indexOf(e.options.ticks.min),e.minIndex=-1!==t?t:e.minIndex),void 0!==e.options.ticks.max&&(t=a.indexOf(e.options.ticks.max),e.maxIndex=-1!==t?t:e.maxIndex),e.min=a[e.minIndex],e.max=a[e.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var a=this,n=a.chart;return n.getDatasetMeta(e).controller._getValueScaleId()===a.id?a.getRightValue(n.data.datasets[e].data[t]):a.ticks[t-a.minIndex]},getPixelForValue:function(t,e){var a,n=this,r=n.options.offset,o=Math.max(n.maxIndex+1-n.minIndex-(r?0:1),1);if(void 0!==t&&null!==t&&(a=n.isHorizontal()?t.x:t.y),void 0!==a||void 0!==t&&isNaN(e)){var s=n.getLabels();t=a||t;var i=s.indexOf(t);e=-1!==i?i:e}if(n.isHorizontal()){var l=n.width/o,c=l*(e-n.minIndex);return r&&(c+=l/2),n.left+c}var d=n.height/o,u=d*(e-n.minIndex);return r&&(u+=d/2),n.top+u},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e,a=this,n=a.options.offset,r=Math.max(a._ticks.length-(n?0:1),1),o=a.isHorizontal(),s=(o?a.width:a.height)/r;return t-=o?a.left:a.top,n&&(t-=s/2),e=t<=0?0:Math.round(t/s),e+a.minIndex},getBasePixel:function(){return this.bottom}}),Bn=Tn;In._defaults=Bn;var Dn=Ut.noop,Mn=Ut.isNullOrUndef;function Fn(t,e){var a,n,r,o,s=[],i=1e-14,l=t.stepSize,c=l||1,d=t.maxTicks-1,u=t.min,h=t.max,p=t.precision,m=e.min,f=e.max,g=Ut.niceNum((f-m)/d/c)*c;if(g<i&&Mn(u)&&Mn(h))return[m,f];o=Math.ceil(f/g)-Math.floor(m/g),o>d&&(g=Ut.niceNum(o*g/d/c)*c),l||Mn(p)?a=Math.pow(10,Ut._decimalPlaces(g)):(a=Math.pow(10,p),g=Math.ceil(g*a)/a),n=Math.floor(m/g)*g,r=Math.ceil(f/g)*g,l&&(!Mn(u)&&Ut.almostWhole(u/g,g/1e3)&&(n=u),!Mn(h)&&Ut.almostWhole(h/g,g/1e3)&&(r=h)),o=(r-n)/g,o=Ut.almostEquals(o,Math.round(o),g/1e3)?Math.round(o):Math.ceil(o),n=Math.round(n*a)/a,r=Math.round(r*a)/a,s.push(Mn(u)?n:u);for(var v=1;v<o;++v)s.push(Math.round((n+v*g)*a)/a);return s.push(Mn(h)?r:h),s}var Rn=Pn.extend({getRightValue:function(t){return"string"===typeof t?+t:Pn.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options,a=e.ticks;if(a.beginAtZero){var n=Ut.sign(t.min),r=Ut.sign(t.max);n<0&&r<0?t.max=0:n>0&&r>0&&(t.min=0)}var o=void 0!==a.min||void 0!==a.suggestedMin,s=void 0!==a.max||void 0!==a.suggestedMax;void 0!==a.min?t.min=a.min:void 0!==a.suggestedMin&&(null===t.min?t.min=a.suggestedMin:t.min=Math.min(t.min,a.suggestedMin)),void 0!==a.max?t.max=a.max:void 0!==a.suggestedMax&&(null===t.max?t.max=a.suggestedMax:t.max=Math.max(t.max,a.suggestedMax)),o!==s&&t.min>=t.max&&(o?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,a.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this,a=e.options.ticks,n=a.stepSize,r=a.maxTicksLimit;return n?t=Math.ceil(e.max/n)-Math.floor(e.min/n)+1:(t=e._computeTickLimit(),r=r||11),r&&(t=Math.min(r,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:Dn,buildTicks:function(){var t=this,e=t.options,a=e.ticks,n=t.getTickLimit();n=Math.max(2,n);var r={maxTicks:n,min:a.min,max:a.max,precision:a.precision,stepSize:Ut.valueOrDefault(a.fixedStepSize,a.stepSize)},o=t.ticks=Fn(r,t);t.handleDirectionalChanges(),t.max=Ut.max(o),t.min=Ut.min(o),a.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),Pn.prototype.convertTicksToLabels.call(t)}}),An={position:"left",ticks:{callback:xn.formatters.linear}},En=Rn.extend({determineDataLimits:function(){var t=this,e=t.options,a=t.chart,n=a.data,r=n.datasets,o=t.isHorizontal(),s=0,i=1;function l(e){return o?e.xAxisID===t.id:e.yAxisID===t.id}t.min=null,t.max=null;var c=e.stacked;if(void 0===c&&Ut.each(r,(function(t,e){if(!c){var n=a.getDatasetMeta(e);a.isDatasetVisible(e)&&l(n)&&void 0!==n.stack&&(c=!0)}})),e.stacked||c){var d={};Ut.each(r,(function(n,r){var o=a.getDatasetMeta(r),s=[o.type,void 0===e.stacked&&void 0===o.stack?r:"",o.stack].join(".");void 0===d[s]&&(d[s]={positiveValues:[],negativeValues:[]});var i=d[s].positiveValues,c=d[s].negativeValues;a.isDatasetVisible(r)&&l(o)&&Ut.each(n.data,(function(a,n){var r=+t.getRightValue(a);isNaN(r)||o.data[n].hidden||(i[n]=i[n]||0,c[n]=c[n]||0,e.relativePoints?i[n]=100:r<0?c[n]+=r:i[n]+=r)}))})),Ut.each(d,(function(e){var a=e.positiveValues.concat(e.negativeValues),n=Ut.min(a),r=Ut.max(a);t.min=null===t.min?n:Math.min(t.min,n),t.max=null===t.max?r:Math.max(t.max,r)}))}else Ut.each(r,(function(e,n){var r=a.getDatasetMeta(n);a.isDatasetVisible(n)&&l(r)&&Ut.each(e.data,(function(e,a){var n=+t.getRightValue(e);isNaN(n)||r.data[a].hidden||((null===t.min||n<t.min)&&(t.min=n),(null===t.max||n>t.max)&&(t.max=n))}))}));t.min=isFinite(t.min)&&!isNaN(t.min)?t.min:s,t.max=isFinite(t.max)&&!isNaN(t.max)?t.max:i,this.handleTickRangeOptions()},_computeTickLimit:function(){var t,e=this;return e.isHorizontal()?Math.ceil(e.width/40):(t=Ut.options._parseFont(e.options.ticks),Math.ceil(e.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e,a=this,n=a.start,r=+a.getRightValue(t),o=a.end-n;return e=a.isHorizontal()?a.left+a.width/o*(r-n):a.bottom-a.height/o*(r-n),e},getValueForPixel:function(t){var e=this,a=e.isHorizontal(),n=a?e.width:e.height,r=(a?t-e.left:e.bottom-t)/n;return e.start+(e.end-e.start)*r},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}}),Nn=An;En._defaults=Nn;var $n=Ut.valueOrDefault;function Hn(t,e){var a,n,r=[],o=$n(t.min,Math.pow(10,Math.floor(Ut.log10(e.min)))),s=Math.floor(Ut.log10(e.max)),i=Math.ceil(e.max/Math.pow(10,s));0===o?(a=Math.floor(Ut.log10(e.minNotZero)),n=Math.floor(e.minNotZero/Math.pow(10,a)),r.push(o),o=n*Math.pow(10,a)):(a=Math.floor(Ut.log10(o)),n=Math.floor(o/Math.pow(10,a)));var l=a<0?Math.pow(10,Math.abs(a)):1;do{r.push(o),++n,10===n&&(n=1,++a,l=a>=0?1:l),o=Math.round(n*Math.pow(10,a)*l)/l}while(a<s||a===s&&n<i);var c=$n(t.max,o);return r.push(c),r}var Ln={position:"left",ticks:{callback:xn.formatters.logarithmic}};function zn(t,e){return Ut.isFinite(t)&&t>=0?t:e}var On=Pn.extend({determineDataLimits:function(){var t=this,e=t.options,a=t.chart,n=a.data,r=n.datasets,o=t.isHorizontal();function s(e){return o?e.xAxisID===t.id:e.yAxisID===t.id}t.min=null,t.max=null,t.minNotZero=null;var i=e.stacked;if(void 0===i&&Ut.each(r,(function(t,e){if(!i){var n=a.getDatasetMeta(e);a.isDatasetVisible(e)&&s(n)&&void 0!==n.stack&&(i=!0)}})),e.stacked||i){var l={};Ut.each(r,(function(n,r){var o=a.getDatasetMeta(r),i=[o.type,void 0===e.stacked&&void 0===o.stack?r:"",o.stack].join(".");a.isDatasetVisible(r)&&s(o)&&(void 0===l[i]&&(l[i]=[]),Ut.each(n.data,(function(e,a){var n=l[i],r=+t.getRightValue(e);isNaN(r)||o.data[a].hidden||r<0||(n[a]=n[a]||0,n[a]+=r)})))})),Ut.each(l,(function(e){if(e.length>0){var a=Ut.min(e),n=Ut.max(e);t.min=null===t.min?a:Math.min(t.min,a),t.max=null===t.max?n:Math.max(t.max,n)}}))}else Ut.each(r,(function(e,n){var r=a.getDatasetMeta(n);a.isDatasetVisible(n)&&s(r)&&Ut.each(e.data,(function(e,a){var n=+t.getRightValue(e);isNaN(n)||r.data[a].hidden||n<0||((null===t.min||n<t.min)&&(t.min=n),(null===t.max||n>t.max)&&(t.max=n),0!==n&&(null===t.minNotZero||n<t.minNotZero)&&(t.minNotZero=n))}))}));this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks,a=1,n=10;t.min=zn(e.min,t.min),t.max=zn(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(Ut.log10(t.min))-1),t.max=Math.pow(10,Math.floor(Ut.log10(t.max))+1)):(t.min=a,t.max=n)),null===t.min&&(t.min=Math.pow(10,Math.floor(Ut.log10(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(Ut.log10(t.min))+1):n),null===t.minNotZero&&(t.min>0?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(Ut.log10(t.max))):t.minNotZero=a)},buildTicks:function(){var t=this,e=t.options.ticks,a=!t.isHorizontal(),n={min:zn(e.min),max:zn(e.max)},r=t.ticks=Hn(n,t);t.max=Ut.max(r),t.min=Ut.min(r),e.reverse?(a=!a,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),a&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Pn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},_getFirstTickValue:function(t){var e=Math.floor(Ut.log10(t)),a=Math.floor(t/Math.pow(10,e));return a*Math.pow(10,e)},getPixelForValue:function(t){var e,a,n,r,o,s=this,i=s.options.ticks,l=i.reverse,c=Ut.log10,d=s._getFirstTickValue(s.minNotZero),u=0;return t=+s.getRightValue(t),l?(n=s.end,r=s.start,o=-1):(n=s.start,r=s.end,o=1),s.isHorizontal()?(e=s.width,a=l?s.right:s.left):(e=s.height,o*=-1,a=l?s.top:s.bottom),t!==n&&(0===n&&(u=$n(i.fontSize,Ot.global.defaultFontSize),e-=u,n=d),0!==t&&(u+=e/(c(r)-c(n))*(c(t)-c(n))),a+=o*u),a},getValueForPixel:function(t){var e,a,n,r,o=this,s=o.options.ticks,i=s.reverse,l=Ut.log10,c=o._getFirstTickValue(o.minNotZero);if(i?(a=o.end,n=o.start):(a=o.start,n=o.end),o.isHorizontal()?(e=o.width,r=i?o.right-t:t-o.left):(e=o.height,r=i?t-o.top:o.bottom-t),r!==a){if(0===a){var d=$n(s.fontSize,Ot.global.defaultFontSize);r-=d,e-=d,a=c}r*=l(n)-l(a),r/=e,r=Math.pow(10,l(a)+r)}return r}}),jn=Ln;On._defaults=jn;var Vn=Ut.valueOrDefault,Wn=Ut.valueAtIndexOrDefault,Un=Ut.options.resolve,qn={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:xn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function Yn(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function Kn(t){var e=t.ticks;return e.display&&t.display?Vn(e.fontSize,Ot.global.defaultFontSize)+2*e.backdropPaddingY:0}function Gn(t,e,a){return Ut.isArray(a)?{w:Ut.longestText(t,t.font,a),h:a.length*e}:{w:t.measureText(a).width,h:e}}function Xn(t,e,a,n,r){return t===n||t===r?{start:e-a/2,end:e+a/2}:t<n||t>r?{start:e-a,end:e}:{start:e,end:e+a}}function Jn(t){var e,a,n,r=Ut.options._parseFont(t.options.pointLabels),o={l:0,r:t.width,t:0,b:t.height-t.paddingTop},s={};t.ctx.font=r.string,t._pointLabelSizes=[];var i=Yn(t);for(e=0;e<i;e++){n=t.getPointPosition(e,t.drawingArea+5),a=Gn(t.ctx,r.lineHeight,t.pointLabels[e]||""),t._pointLabelSizes[e]=a;var l=t.getIndexAngle(e),c=Ut.toDegrees(l)%360,d=Xn(c,n.x,a.w,0,180),u=Xn(c,n.y,a.h,90,270);d.start<o.l&&(o.l=d.start,s.l=l),d.end>o.r&&(o.r=d.end,s.r=l),u.start<o.t&&(o.t=u.start,s.t=l),u.end>o.b&&(o.b=u.end,s.b=l)}t.setReductions(t.drawingArea,o,s)}function Zn(t){return 0===t||180===t?"center":t<180?"left":"right"}function Qn(t,e,a,n){var r,o,s=a.y+n/2;if(Ut.isArray(e))for(r=0,o=e.length;r<o;++r)t.fillText(e[r],a.x,s),s+=n;else t.fillText(e,a.x,s)}function tr(t,e,a){90===t||270===t?a.y-=e.h/2:(t>270||t<90)&&(a.y-=e.h)}function er(t){var e=t.ctx,a=t.options,n=a.angleLines,r=a.gridLines,o=a.pointLabels,s=Vn(n.lineWidth,r.lineWidth),i=Vn(n.color,r.color),l=Kn(a);e.save(),e.lineWidth=s,e.strokeStyle=i,e.setLineDash&&(e.setLineDash(Un([n.borderDash,r.borderDash,[]])),e.lineDashOffset=Un([n.borderDashOffset,r.borderDashOffset,0]));var c=t.getDistanceFromCenterForValue(a.ticks.reverse?t.min:t.max),d=Ut.options._parseFont(o);e.font=d.string,e.textBaseline="middle";for(var u=Yn(t)-1;u>=0;u--){if(n.display&&s&&i){var h=t.getPointPosition(u,c);e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(h.x,h.y),e.stroke()}if(o.display){var p=0===u?l/2:0,m=t.getPointPosition(u,c+p+5),f=Wn(o.fontColor,u,Ot.global.defaultFontColor);e.fillStyle=f;var g=t.getIndexAngle(u),v=Ut.toDegrees(g);e.textAlign=Zn(v),tr(v,t._pointLabelSizes[u],m),Qn(e,t.pointLabels[u]||"",m,d.lineHeight)}}e.restore()}function ar(t,e,a,n){var r,o=t.ctx,s=e.circular,i=Yn(t),l=Wn(e.color,n-1),c=Wn(e.lineWidth,n-1);if((s||i)&&l&&c){if(o.save(),o.strokeStyle=l,o.lineWidth=c,o.setLineDash&&(o.setLineDash(e.borderDash||[]),o.lineDashOffset=e.borderDashOffset||0),o.beginPath(),s)o.arc(t.xCenter,t.yCenter,a,0,2*Math.PI);else{r=t.getPointPosition(0,a),o.moveTo(r.x,r.y);for(var d=1;d<i;d++)r=t.getPointPosition(d,a),o.lineTo(r.x,r.y)}o.closePath(),o.stroke(),o.restore()}}function nr(t){return Ut.isNumber(t)?t:0}var rr=Rn.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=Kn(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,e=t.chart,a=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;Ut.each(e.data.datasets,(function(r,o){if(e.isDatasetVisible(o)){var s=e.getDatasetMeta(o);Ut.each(r.data,(function(e,r){var o=+t.getRightValue(e);isNaN(o)||s.data[r].hidden||(a=Math.min(o,a),n=Math.max(o,n))}))}})),t.min=a===Number.POSITIVE_INFINITY?0:a,t.max=n===Number.NEGATIVE_INFINITY?0:n,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Kn(this.options))},convertTicksToLabels:function(){var t=this;Rn.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this,e=t.options;e.display&&e.pointLabels.display?Jn(t):t.setCenterPoint(0,0,0,0)},setReductions:function(t,e,a){var n=this,r=e.l/Math.sin(a.l),o=Math.max(e.r-n.width,0)/Math.sin(a.r),s=-e.t/Math.cos(a.t),i=-Math.max(e.b-(n.height-n.paddingTop),0)/Math.cos(a.b);r=nr(r),o=nr(o),s=nr(s),i=nr(i),n.drawingArea=Math.min(Math.floor(t-(r+o)/2),Math.floor(t-(s+i)/2)),n.setCenterPoint(r,o,s,i)},setCenterPoint:function(t,e,a,n){var r=this,o=r.width-e-r.drawingArea,s=t+r.drawingArea,i=a+r.drawingArea,l=r.height-r.paddingTop-n-r.drawingArea;r.xCenter=Math.floor((s+o)/2+r.left),r.yCenter=Math.floor((i+l)/2+r.top+r.paddingTop)},getIndexAngle:function(t){var e=2*Math.PI/Yn(this),a=this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0,n=a*Math.PI*2/360;return t*e+n},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var a=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*a:(t-e.min)*a},getPointPosition:function(t,e){var a=this,n=a.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(n)*e+a.xCenter,y:Math.sin(n)*e+a.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,a=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&a<0?a:e>0&&a>0?e:0)},draw:function(){var t=this,e=t.options,a=e.gridLines,n=e.ticks;if(e.display){var r=t.ctx,o=this.getIndexAngle(0),s=Ut.options._parseFont(n);(e.angleLines.display||e.pointLabels.display)&&er(t),Ut.each(t.ticks,(function(e,i){if(i>0||n.reverse){var l=t.getDistanceFromCenterForValue(t.ticksAsNumbers[i]);if(a.display&&0!==i&&ar(t,a,l,i),n.display){var c=Vn(n.fontColor,Ot.global.defaultFontColor);if(r.font=s.string,r.save(),r.translate(t.xCenter,t.yCenter),r.rotate(o),n.showLabelBackdrop){var d=r.measureText(e).width;r.fillStyle=n.backdropColor,r.fillRect(-d/2-n.backdropPaddingX,-l-s.size/2-n.backdropPaddingY,d+2*n.backdropPaddingX,s.size+2*n.backdropPaddingY)}r.textAlign="center",r.textBaseline="middle",r.fillStyle=c,r.fillText(e,0,-l),r.restore()}}}))}}}),or=qn;rr._defaults=or;var sr=Ut.valueOrDefault,ir=Number.MIN_SAFE_INTEGER||-9007199254740991,lr=Number.MAX_SAFE_INTEGER||9007199254740991,cr={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},dr=Object.keys(cr);function ur(t,e){return t-e}function hr(t){var e,a,n,r={},o=[];for(e=0,a=t.length;e<a;++e)n=t[e],r[n]||(r[n]=!0,o.push(n));return o}function pr(t,e,a,n){if("linear"===n||!t.length)return[{time:e,pos:0},{time:a,pos:1}];var r,o,s,i,l,c=[],d=[e];for(r=0,o=t.length;r<o;++r)i=t[r],i>e&&i<a&&d.push(i);for(d.push(a),r=0,o=d.length;r<o;++r)l=d[r+1],s=d[r-1],i=d[r],void 0!==s&&void 0!==l&&Math.round((l+s)/2)===i||c.push({time:i,pos:r/(o-1)});return c}function mr(t,e,a){var n,r,o,s=0,i=t.length-1;while(s>=0&&s<=i){if(n=s+i>>1,r=t[n-1]||null,o=t[n],!r)return{lo:null,hi:o};if(o[e]<a)s=n+1;else{if(!(r[e]>a))return{lo:r,hi:o};i=n-1}}return{lo:o,hi:null}}function fr(t,e,a,n){var r=mr(t,e,a),o=r.lo?r.hi?r.lo:t[t.length-2]:t[0],s=r.lo?r.hi?r.hi:t[t.length-1]:t[1],i=s[e]-o[e],l=i?(a-o[e])/i:0,c=(s[n]-o[n])*l;return o[n]+c}function gr(t,e){var a=t._adapter,n=t.options.time,r=n.parser,o=r||n.format,s=e;return"function"===typeof r&&(s=r(s)),Ut.isFinite(s)||(s="string"===typeof o?a.parse(s,o):a.parse(s)),null!==s?+s:(r||"function"!==typeof o||(s=o(e),Ut.isFinite(s)||(s=a.parse(s))),s)}function vr(t,e){if(Ut.isNullOrUndef(e))return null;var a=t.options.time,n=gr(t,t.getRightValue(e));return null===n||a.round&&(n=+t._adapter.startOf(n,a.round)),n}function br(t,e,a,n){var r,o,s,i=e-t,l=cr[a],c=l.size,d=l.steps;if(!d)return Math.ceil(i/(n*c));for(r=0,o=d.length;r<o;++r)if(s=d[r],Math.ceil(i/(c*s))<=n)break;return s}function yr(t,e,a,n){var r,o,s,i=dr.length;for(r=dr.indexOf(t);r<i-1;++r)if(o=cr[dr[r]],s=o.steps?o.steps[o.steps.length-1]:lr,o.common&&Math.ceil((a-e)/(s*o.size))<=n)return dr[r];return dr[i-1]}function xr(t,e,a,n,r){var o,s,i=dr.length;for(o=i-1;o>=dr.indexOf(a);o--)if(s=dr[o],cr[s].common&&t._adapter.diff(r,n,s)>=e.length)return s;return dr[a?dr.indexOf(a):0]}function wr(t){for(var e=dr.indexOf(t)+1,a=dr.length;e<a;++e)if(cr[dr[e]].common)return dr[e]}function Cr(t,e,a,n){var r,o=t._adapter,s=t.options,i=s.time,l=i.unit||yr(i.minUnit,e,a,n),c=wr(l),d=sr(i.stepSize,i.unitStepSize),u="week"===l&&i.isoWeekday,h=s.ticks.major.enabled,p=cr[l],m=e,f=a,g=[];for(d||(d=br(e,a,l,n)),u&&(m=+o.startOf(m,"isoWeek",u),f=+o.startOf(f,"isoWeek",u)),m=+o.startOf(m,u?"day":l),f=+o.startOf(f,u?"day":l),f<a&&(f=+o.add(f,1,l)),r=m,h&&c&&!u&&!i.round&&(r=+o.startOf(r,c),r=+o.add(r,~~((m-r)/(p.size*d))*d,l));r<f;r=+o.add(r,d,l))g.push(+r);return g.push(+r),g}function kr(t,e,a,n,r){var o,s,i=0,l=0;return r.offset&&e.length&&(r.time.min||(o=fr(t,"time",e[0],"pos"),i=1===e.length?1-o:(fr(t,"time",e[1],"pos")-o)/2),r.time.max||(s=fr(t,"time",e[e.length-1],"pos"),l=1===e.length?s:(s-fr(t,"time",e[e.length-2],"pos"))/2)),{start:i,end:l}}function Sr(t,e,a){var n,r,o,s,i=[];for(n=0,r=e.length;n<r;++n)o=e[n],s=!!a&&o===+t._adapter.startOf(o,a),i.push({value:o,major:s});return i}var _r={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Pr=Pn.extend({initialize:function(){this.mergeTicksOptions(),Pn.prototype.initialize.call(this)},update:function(){var t=this,e=t.options,a=e.time||(e.time={}),n=t._adapter=new yn._date(e.adapters.date);return a.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),Ut.mergeIf(a.displayFormats,n.formats()),Pn.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),Pn.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,a,n,r,o,s=this,i=s.chart,l=s._adapter,c=s.options.time,d=c.unit||"day",u=lr,h=ir,p=[],m=[],f=[],g=i.data.labels||[];for(t=0,a=g.length;t<a;++t)f.push(vr(s,g[t]));for(t=0,a=(i.data.datasets||[]).length;t<a;++t)if(i.isDatasetVisible(t))if(r=i.data.datasets[t].data,Ut.isObject(r[0]))for(m[t]=[],e=0,n=r.length;e<n;++e)o=vr(s,r[e]),p.push(o),m[t][e]=o;else{for(e=0,n=f.length;e<n;++e)p.push(f[e]);m[t]=f.slice(0)}else m[t]=[];f.length&&(f=hr(f).sort(ur),u=Math.min(u,f[0]),h=Math.max(h,f[f.length-1])),p.length&&(p=hr(p).sort(ur),u=Math.min(u,p[0]),h=Math.max(h,p[p.length-1])),u=vr(s,c.min)||u,h=vr(s,c.max)||h,u=u===lr?+l.startOf(Date.now(),d):u,h=h===ir?+l.endOf(Date.now(),d)+1:h,s.min=Math.min(u,h),s.max=Math.max(u+1,h),s._horizontal=s.isHorizontal(),s._table=[],s._timestamps={data:p,datasets:m,labels:f}},buildTicks:function(){var t,e,a,n=this,r=n.min,o=n.max,s=n.options,i=s.time,l=[],c=[];switch(s.ticks.source){case"data":l=n._timestamps.data;break;case"labels":l=n._timestamps.labels;break;case"auto":default:l=Cr(n,r,o,n.getLabelCapacity(r),s)}for("ticks"===s.bounds&&l.length&&(r=l[0],o=l[l.length-1]),r=vr(n,i.min)||r,o=vr(n,i.max)||o,t=0,e=l.length;t<e;++t)a=l[t],a>=r&&a<=o&&c.push(a);return n.min=r,n.max=o,n._unit=i.unit||xr(n,c,i.minUnit,n.min,n.max),n._majorUnit=wr(n._unit),n._table=pr(n._timestamps.data,r,o,s.distribution),n._offsets=kr(n._table,c,r,o,s),s.ticks.reverse&&c.reverse(),Sr(n,c,n._majorUnit)},getLabelForIndex:function(t,e){var a=this,n=a._adapter,r=a.chart.data,o=a.options.time,s=r.labels&&t<r.labels.length?r.labels[t]:"",i=r.datasets[e].data[t];return Ut.isObject(i)&&(s=a.getRightValue(i)),o.tooltipFormat?n.format(gr(a,s),o.tooltipFormat):"string"===typeof s?s:n.format(gr(a,s),o.displayFormats.datetime)},tickFormatFunction:function(t,e,a,n){var r=this,o=r._adapter,s=r.options,i=s.time.displayFormats,l=i[r._unit],c=r._majorUnit,d=i[c],u=+o.startOf(t,c),h=s.ticks.major,p=h.enabled&&c&&d&&t===u,m=o.format(t,n||(p?d:l)),f=p?h:s.ticks.minor,g=sr(f.callback,f.userCallback);return g?g(m,e,a):m},convertTicksToLabels:function(t){var e,a,n=[];for(e=0,a=t.length;e<a;++e)n.push(this.tickFormatFunction(t[e].value,e,t));return n},getPixelForOffset:function(t){var e=this,a=e.options.ticks.reverse,n=e._horizontal?e.width:e.height,r=e._horizontal?a?e.right:e.left:a?e.bottom:e.top,o=fr(e._table,"time",t,"pos"),s=n*(e._offsets.start+o)/(e._offsets.start+1+e._offsets.end);return a?r-s:r+s},getPixelForValue:function(t,e,a){var n=this,r=null;if(void 0!==e&&void 0!==a&&(r=n._timestamps.datasets[a][e]),null===r&&(r=vr(n,t)),null!==r)return n.getPixelForOffset(r)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,a=e._horizontal?e.width:e.height,n=e._horizontal?e.left:e.top,r=(a?(t-n)/a:0)*(e._offsets.start+1+e._offsets.start)-e._offsets.end,o=fr(e._table,"pos",r,"time");return e._adapter._create(o)},getLabelWidth:function(t){var e=this,a=e.options.ticks,n=e.ctx.measureText(t).width,r=Ut.toRadians(a.maxRotation),o=Math.cos(r),s=Math.sin(r),i=sr(a.fontSize,Ot.global.defaultFontSize);return n*o+i*s},getLabelCapacity:function(t){var e=this,a=e.options.time.displayFormats.millisecond,n=e.tickFormatFunction(t,0,[],a),r=e.getLabelWidth(n),o=e.isHorizontal()?e.width:e.height,s=Math.floor(o/r);return s>0?s:1}}),Tr=_r;Pr._defaults=Tr;var Ir={category:In,linear:En,logarithmic:On,radialLinear:rr,time:Pr},Br={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};yn._date.override("function"===typeof t?{_id:"moment",formats:function(){return Br},parse:function(e,a){return"string"===typeof e&&"string"===typeof a?e=t(e,a):e instanceof t||(e=t(e)),e.isValid()?e.valueOf():null},format:function(e,a){return t(e).format(a)},add:function(e,a,n){return t(e).add(a,n).valueOf()},diff:function(e,a,n){return t.duration(t(e).diff(t(a))).as(n)},startOf:function(e,a,n){return e=t(e),"isoWeek"===a?e.isoWeekday(n).valueOf():e.startOf(a).valueOf()},endOf:function(e,a){return t(e).endOf(a).valueOf()},_create:function(e){return t(e)}}:{}),Ot._set("global",{plugins:{filler:{propagate:!0}}});var Dr={dataset:function(t){var e=t.fill,a=t.chart,n=a.getDatasetMeta(e),r=n&&a.isDatasetVisible(e),o=r&&n.dataset._children||[],s=o.length||0;return s?function(t,e){return e<s&&o[e]._view||null}:null},boundary:function(t){var e=t.boundary,a=e?e.x:null,n=e?e.y:null;return function(t){return{x:null===a?t.x:a,y:null===n?t.y:n}}}};function Mr(t,e,a){var n,r=t._model||{},o=r.fill;if(void 0===o&&(o=!!r.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(n=parseFloat(o,10),isFinite(n)&&Math.floor(n)===n)return"-"!==o[0]&&"+"!==o[0]||(n=e+n),!(n===e||n<0||n>=a)&&n;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function Fr(t){var e,a=t.el._model||{},n=t.el._scale||{},r=t.fill,o=null;if(isFinite(r))return null;if("start"===r?o=void 0===a.scaleBottom?n.bottom:a.scaleBottom:"end"===r?o=void 0===a.scaleTop?n.top:a.scaleTop:void 0!==a.scaleZero?o=a.scaleZero:n.getBasePosition?o=n.getBasePosition():n.getBasePixel&&(o=n.getBasePixel()),void 0!==o&&null!==o){if(void 0!==o.x&&void 0!==o.y)return o;if(Ut.isFinite(o))return e=n.isHorizontal(),{x:e?o:null,y:e?null:o}}return null}function Rr(t,e,a){var n,r=t[e],o=r.fill,s=[e];if(!a)return o;while(!1!==o&&-1===s.indexOf(o)){if(!isFinite(o))return o;if(n=t[o],!n)return!1;if(n.visible)return o;s.push(o),o=n.fill}return!1}function Ar(t){var e=t.fill,a="dataset";return!1===e?null:(isFinite(e)||(a="boundary"),Dr[a](t))}function Er(t){return t&&!t.skip}function Nr(t,e,a,n,r){var o;if(n&&r){for(t.moveTo(e[0].x,e[0].y),o=1;o<n;++o)Ut.canvas.lineTo(t,e[o-1],e[o]);for(t.lineTo(a[r-1].x,a[r-1].y),o=r-1;o>0;--o)Ut.canvas.lineTo(t,a[o],a[o-1],!0)}}function $r(t,e,a,n,r,o){var s,i,l,c,d,u,h,p=e.length,m=n.spanGaps,f=[],g=[],v=0,b=0;for(t.beginPath(),s=0,i=p+!!o;s<i;++s)l=s%p,c=e[l]._view,d=a(c,l,n),u=Er(c),h=Er(d),u&&h?(v=f.push(c),b=g.push(d)):v&&b&&(m?(u&&f.push(c),h&&g.push(d)):(Nr(t,f,g,v,b),v=b=0,f=[],g=[]));Nr(t,f,g,v,b),t.closePath(),t.fillStyle=r,t.fill()}var Hr={id:"filler",afterDatasetsUpdate:function(t,e){var a,n,r,o,s=(t.data.datasets||[]).length,i=e.propagate,l=[];for(n=0;n<s;++n)a=t.getDatasetMeta(n),r=a.dataset,o=null,r&&r._model&&r instanceof _e.Line&&(o={visible:t.isDatasetVisible(n),fill:Mr(r,n,s),chart:t,el:r}),a.$filler=o,l.push(o);for(n=0;n<s;++n)o=l[n],o&&(o.fill=Rr(l,n,i),o.boundary=Fr(o),o.mapper=Ar(o))},beforeDatasetDraw:function(t,e){var a=e.meta.$filler;if(a){var n=t.ctx,r=a.el,o=r._view,s=r._children||[],i=a.mapper,l=o.backgroundColor||Ot.global.defaultColor;i&&l&&s.length&&(Ut.canvas.clipArea(n,t.chartArea),$r(n,s,i,o,l,r._loop),Ut.canvas.unclipArea(n))}}},Lr=Ut.noop,zr=Ut.valueOrDefault;function Or(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}Ot._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var a=e.datasetIndex,n=this.chart,r=n.getDatasetMeta(a);r.hidden=null===r.hidden?!n.data.datasets[a].hidden:null,n.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data;return Ut.isArray(e.datasets)?e.datasets.map((function(e,a){return{text:e.label,fillStyle:Ut.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!t.isDatasetVisible(a),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:a}}),this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var a=0;a<t.data.datasets.length;a++)e.push('<li><span style="background-color:'+t.data.datasets[a].backgroundColor+'"></span>'),t.data.datasets[a].label&&e.push(t.data.datasets[a].label),e.push("</li>");return e.push("</ul>"),e.join("")}});var jr=Jt.extend({initialize:function(t){Ut.extend(this,t),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:Lr,update:function(t,e,a){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=a,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:Lr,beforeSetDimensions:Lr,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:Lr,beforeBuildLabels:Lr,buildLabels:function(){var t=this,e=t.options.labels||{},a=Ut.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(a=a.filter((function(a){return e.filter(a,t.chart.data)}))),t.options.reverse&&a.reverse(),t.legendItems=a},afterBuildLabels:Lr,beforeFit:Lr,fit:function(){var t=this,e=t.options,a=e.labels,n=e.display,r=t.ctx,o=Ut.options._parseFont(a),s=o.size,i=t.legendHitBoxes=[],l=t.minSize,c=t.isHorizontal();if(c?(l.width=t.maxWidth,l.height=n?10:0):(l.width=n?10:0,l.height=t.maxHeight),n)if(r.font=o.string,c){var d=t.lineWidths=[0],u=0;r.textAlign="left",r.textBaseline="top",Ut.each(t.legendItems,(function(t,e){var n=Or(a,s),o=n+s/2+r.measureText(t.text).width;(0===e||d[d.length-1]+o+a.padding>l.width)&&(u+=s+a.padding,d[d.length-(e>0?0:1)]=a.padding),i[e]={left:0,top:0,width:o,height:s},d[d.length-1]+=o+a.padding})),l.height+=u}else{var h=a.padding,p=t.columnWidths=[],m=a.padding,f=0,g=0,v=s+h;Ut.each(t.legendItems,(function(t,e){var n=Or(a,s),o=n+s/2+r.measureText(t.text).width;e>0&&g+v>l.height-h&&(m+=f+a.padding,p.push(f),f=0,g=0),f=Math.max(f,o),g+=v,i[e]={left:0,top:0,width:o,height:s}})),m+=f,p.push(f),l.width+=m}t.width=l.width,t.height=l.height},afterFit:Lr,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,a=e.labels,n=Ot.global,r=n.defaultColor,o=n.elements.line,s=t.width,i=t.lineWidths;if(e.display){var l,c=t.ctx,d=zr(a.fontColor,n.defaultFontColor),u=Ut.options._parseFont(a),h=u.size;c.textAlign="left",c.textBaseline="middle",c.lineWidth=.5,c.strokeStyle=d,c.fillStyle=d,c.font=u.string;var p=Or(a,h),m=t.legendHitBoxes,f=function(t,a,n){if(!(isNaN(p)||p<=0)){c.save();var s=zr(n.lineWidth,o.borderWidth);if(c.fillStyle=zr(n.fillStyle,r),c.lineCap=zr(n.lineCap,o.borderCapStyle),c.lineDashOffset=zr(n.lineDashOffset,o.borderDashOffset),c.lineJoin=zr(n.lineJoin,o.borderJoinStyle),c.lineWidth=s,c.strokeStyle=zr(n.strokeStyle,r),c.setLineDash&&c.setLineDash(zr(n.lineDash,o.borderDash)),e.labels&&e.labels.usePointStyle){var i=p*Math.SQRT2/2,l=t+p/2,d=a+h/2;Ut.canvas.drawPoint(c,n.pointStyle,i,l,d)}else 0!==s&&c.strokeRect(t,a,p,h),c.fillRect(t,a,p,h);c.restore()}},g=function(t,e,a,n){var r=h/2,o=p+r+t,s=e+r;c.fillText(a.text,o,s),a.hidden&&(c.beginPath(),c.lineWidth=2,c.moveTo(o,s),c.lineTo(o+n,s),c.stroke())},v=t.isHorizontal();l=v?{x:t.left+(s-i[0])/2+a.padding,y:t.top+a.padding,line:0}:{x:t.left+a.padding,y:t.top+a.padding,line:0};var b=h+a.padding;Ut.each(t.legendItems,(function(e,n){var r=c.measureText(e.text).width,o=p+h/2+r,d=l.x,u=l.y;v?n>0&&d+o+a.padding>t.left+t.minSize.width&&(u=l.y+=b,l.line++,d=l.x=t.left+(s-i[l.line])/2+a.padding):n>0&&u+b>t.top+t.minSize.height&&(d=l.x=d+t.columnWidths[l.line]+a.padding,u=l.y=t.top+a.padding,l.line++),f(d,u,e),m[n].left=d,m[n].top=u,g(d,u,e,r),v?l.x+=o+a.padding:l.y+=b}))}},_getLegendItemAt:function(t,e){var a,n,r,o=this;if(t>=o.left&&t<=o.right&&e>=o.top&&e<=o.bottom)for(r=o.legendHitBoxes,a=0;a<r.length;++a)if(n=r[a],t>=n.left&&t<=n.left+n.width&&e>=n.top&&e<=n.top+n.height)return o.legendItems[a];return null},handleEvent:function(t){var e,a=this,n=a.options,r="mouseup"===t.type?"click":t.type;if("mousemove"===r){if(!n.onHover&&!n.onLeave)return}else{if("click"!==r)return;if(!n.onClick)return}e=a._getLegendItemAt(t.x,t.y),"click"===r?e&&n.onClick&&n.onClick.call(a,t.native,e):(n.onLeave&&e!==a._hoveredItem&&(a._hoveredItem&&n.onLeave.call(a,t.native,a._hoveredItem),a._hoveredItem=e),n.onHover&&e&&n.onHover.call(a,t.native,e))}});function Vr(t,e){var a=new jr({ctx:t.ctx,options:e,chart:t});ha.configure(t,a,e),ha.addBox(t,a),t.legend=a}var Wr={id:"legend",_element:jr,beforeInit:function(t){var e=t.options.legend;e&&Vr(t,e)},beforeUpdate:function(t){var e=t.options.legend,a=t.legend;e?(Ut.mergeIf(e,Ot.global.legend),a?(ha.configure(t,a,e),a.options=e):Vr(t,e)):a&&(ha.removeBox(t,a),delete t.legend)},afterEvent:function(t,e){var a=t.legend;a&&a.handleEvent(e)}},Ur=Ut.noop;Ot._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var qr=Jt.extend({initialize:function(t){var e=this;Ut.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:Ur,update:function(t,e,a){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=a,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:Ur,beforeSetDimensions:Ur,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:Ur,beforeBuildLabels:Ur,buildLabels:Ur,afterBuildLabels:Ur,beforeFit:Ur,fit:function(){var t=this,e=t.options,a=e.display,n=t.minSize,r=Ut.isArray(e.text)?e.text.length:1,o=Ut.options._parseFont(e),s=a?r*o.lineHeight+2*e.padding:0;t.isHorizontal()?(n.width=t.maxWidth,n.height=s):(n.width=s,n.height=t.maxHeight),t.width=n.width,t.height=n.height},afterFit:Ur,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,a=t.options;if(a.display){var n,r,o,s=Ut.options._parseFont(a),i=s.lineHeight,l=i/2+a.padding,c=0,d=t.top,u=t.left,h=t.bottom,p=t.right;e.fillStyle=Ut.valueOrDefault(a.fontColor,Ot.global.defaultFontColor),e.font=s.string,t.isHorizontal()?(r=u+(p-u)/2,o=d+l,n=p-u):(r="left"===a.position?u+l:p-l,o=d+(h-d)/2,n=h-d,c=Math.PI*("left"===a.position?-.5:.5)),e.save(),e.translate(r,o),e.rotate(c),e.textAlign="center",e.textBaseline="middle";var m=a.text;if(Ut.isArray(m))for(var f=0,g=0;g<m.length;++g)e.fillText(m[g],0,f,n),f+=i;else e.fillText(m,0,0,n);e.restore()}}});function Yr(t,e){var a=new qr({ctx:t.ctx,options:e,chart:t});ha.configure(t,a,e),ha.addBox(t,a),t.titleBlock=a}var Kr={id:"title",_element:qr,beforeInit:function(t){var e=t.options.title;e&&Yr(t,e)},beforeUpdate:function(t){var e=t.options.title,a=t.titleBlock;e?(Ut.mergeIf(e,Ot.global.title),a?(ha.configure(t,a,e),a.options=e):Yr(t,e)):a&&(ha.removeBox(t,a),delete t.titleBlock)}},Gr={},Xr=Hr,Jr=Wr,Zr=Kr;for(var Qr in Gr.filler=Xr,Gr.legend=Jr,Gr.title=Zr,mn.helpers=Ut,fn(mn),mn._adapters=yn,mn.Animation=Qt,mn.animationService=te,mn.controllers=ta,mn.DatasetController=se,mn.defaults=Ot,mn.Element=Jt,mn.elements=_e,mn.Interaction=ia,mn.layouts=ha,mn.platform=Va,mn.plugins=Wa,mn.Scale=Pn,mn.scaleService=Ua,mn.Ticks=xn,mn.Tooltip=on,mn.helpers.each(Ir,(function(t,e){mn.scaleService.registerScaleType(e,t,t._defaults)})),Gr)Gr.hasOwnProperty(Qr)&&mn.plugins.register(Gr[Qr]);mn.platform.initialize();var to=mn;return"undefined"!==typeof window&&(window.Chart=mn),mn.Chart=mn,mn.Legend=Gr.legend._element,mn.Title=Gr.title._element,mn.pluginService=mn.plugins,mn.PluginBase=mn.Element.extend({}),mn.canvasHelpers=mn.helpers.canvas,mn.layoutService=mn.layouts,mn.LinearScaleBase=Rn,mn.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(t){mn[t]=function(e,a){return new mn(e,mn.helpers.merge(a||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}})),to}))},"31f8":function(t,e,a){},"33e6":function(t,e,a){"use strict";var n=a("673d"),r=a.n(n);r.a},"4e43":function(t,e,a){},"58f3":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-4 pt-2 pt-lg-4 d-flex align-items-center",staticStyle:{"min-height":"50px","background-image":"url(img/theme/clients.png)","background-size":"cover","background-position":"center 45%"}},[a("span",{staticClass:"mask  opacity-7",staticStyle:{"background-color":"#172b4d !important"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"text-absolute"},[a("p",{staticClass:"mb-0 display-2 text-white"},[t._v("Clientes")]),a("p",{staticClass:"text-white hideText"},[t._v("Sección dedicada a la administración de sus clientes, podrá enviar correos electrónicos y exportar en excel la base de datos de sus clientes.")])]),a("base-button",{staticClass:"float-right mt-7 mr-0",attrs:{size:"sm",disabled:!t.validRoute("clientes","correos"),type:"primary"},on:{click:function(e){return t.redirect()}}},[a("a-icon",{staticClass:"mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.2em"},attrs:{type:"mail"}}),t._v("\n                    Correos\n                ")],1),a("base-button",{staticClass:"float-right mt-7 mr-2",attrs:{size:"sm",disabled:!t.validRoute("clientes","registrar"),type:"success"},on:{click:t.generateExcel}},[a("a-icon",{staticClass:"mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.2em"},attrs:{type:"file-excel"}}),t._v("\n                    Excel\n                ")],1),a("base-button",{staticClass:"float-right mt-7 mr-2",attrs:{size:"sm",disabled:!t.validRoute("clientes","registrar"),type:"success"},on:{click:function(e){t.modals.modal1=!0,t.initialState(2)}}},[a("a-icon",{staticClass:"mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.2em"},attrs:{type:"form"}}),t._v("\n                    Registrar\n                ")],1)],1)])]),a("modal",{attrs:{show:t.modals.modal1,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-lg"},on:{"update:show":function(e){return t.$set(t.modals,"modal1",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-muted text-center mb-3",staticStyle:{"margin-top":"-15% !important"}},[t._v("\n                    Datos del cliente\n                ")])],[1==t.registerClient.valid2?a("tabs",{staticClass:"flex-column flex-md-row",attrs:{fill:""}},[a("card",{attrs:{shadow:""}},[a("tab-pane",[1==t.registerClient.valid2?a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"ni ni-collection"}),t._v("\n                                Básicos\n                            ")]):t._e(),a("form",{attrs:{role:"form"}},[a("div",{staticClass:"row mt-4"},[a("base-input",{staticClass:"mb-2 col-md-6",attrs:{alternative:"",placeholder:"Nombre","addon-left-icon":"ni ni-single-02","addon-right-icon":"fa fa-asterisk text-danger"},on:{keyup:function(e){return t.validRegister()}},model:{value:t.registerClient.firstName,callback:function(e){t.$set(t.registerClient,"firstName",e)},expression:"registerClient.firstName"}}),a("base-input",{staticClass:"mb-2 col-md-6",attrs:{alternative:"",placeholder:"Nombre","addon-left-icon":"ni ni-single-02","addon-right-icon":"fa fa-asterisk text-danger"},on:{keyup:function(e){return t.validRegister()}},model:{value:t.registerClient.lastName,callback:function(e){t.$set(t.registerClient,"lastName",e)},expression:"registerClient.lastName"}})],1),a("base-input",{staticClass:"mb-2",attrs:{alternative:"",type:"text",placeholder:"Correo","addon-left-icon":"fa fa-address-card","addon-right-icon":"fa fa-asterisk text-danger"},on:{keyup:function(e){return t.validRegister()}},model:{value:t.registerClient.email,callback:function(e){t.$set(t.registerClient,"email",e)},expression:"registerClient.email"}}),a("div",{staticClass:"col-12 mb-2 p-0"},[a("VuePhoneNumberInput",{attrs:{"default-phoner-number":t.registerClient.phone.nationalNumber,"default-country-code":t.registerClient.phone.countryCode,translations:{countrySelectorLabel:"Código de país",countrySelectorError:"Elije un país",phoneNumberLabel:"Número de teléfono",example:"Ejemplo :"}},on:{update:function(e){t.registerClient.phone=e,t.validRegister()}},model:{value:t.registerClient.phone.formatNational,callback:function(e){t.$set(t.registerClient.phone,"formatNational",e)},expression:"registerClient.phone.formatNational"}})],1),a("base-input",{staticClass:"mb-2",attrs:{"addon-left-icon":"ni ni-calendar-grid-58"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.focus,r=e.blur;return a("flat-picker",{staticClass:"form-control datepicker",attrs:{config:t.configDate,placeholder:"Seleccione una fecha de nacimiento"},on:{"on-open":n,"on-close":r,"on-change":function(e){return t.validRegister()},"on-input":function(e){return t.validRegister()}},model:{value:t.registerClient.birthday,callback:function(e){t.$set(t.registerClient,"birthday",e)},expression:"registerClient.birthday"}})}}],null,!1,120200053)}),a("base-input",{attrs:{alternative:"",type:"text",placeholder:"Instagram","addon-left-icon":"fa fa-address-card","addon-right-icon":"fas fa-plus text-default"},model:{value:t.registerClient.instagram,callback:function(e){t.$set(t.registerClient,"instagram",e)},expression:"registerClient.instagram"}}),a("div",{staticClass:"text-center"},[0==t.registerClient.valid?a("base-button",{staticClass:"my-1",attrs:{type:"primary",disabled:""}},[t._v(t._s(t.tipeForm))]):a("base-button",{staticClass:"my-1",attrs:{type:"primary"},on:{click:function(e){return t.clientEdit()}}},[t._v(t._s(t.tipeForm))])],1)],1)]),1==t.registerClient.valid2?a("tab-pane",[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"ni ni-chart-bar-32"}),t._v("\n                                Avanzados\n                            ")]),a("div",{staticClass:"row"},[t.registerClient.birthday?a("base-button",{staticClass:"col-12 mt-3",attrs:{type:"secondary"}},[a("span",{staticClass:"text-left"},[t._v("Fecha de nacimiento")]),a("badge",{staticClass:"text-default",attrs:{type:"success"}},[t._v(t._s(t._f("formatDate")(t.registerClient.birthday)))])],1):t._e(),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",[t._v("Participación")]),a("badge",{staticClass:"text-default",attrs:{type:"success"}},[t._v(t._s(t.registerClient.attends))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"text-left"},[t._v("Recomendaciones")]),a("badge",{staticClass:"text-default",attrs:{type:"success"}},[t._v(t._s(t.registerClient.recommendations))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"text-left"},[t._v("Recomendador")]),a("badge",{staticClass:"text-default",attrs:{type:"success"}},[t._v(t._s(t.registerClient.recommender))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",[t._v("Cliente desde")]),a("badge",{staticClass:"text-default",attrs:{type:"success"}},[t._v(t._s(t._f("formatDate")(t.registerClient.createdAt)))])],1),a("base-button",{staticClass:"col-12 mt-1",attrs:{type:"secondary"}},[a("span",[t._v("Ultima atención")]),a("badge",{staticClass:"text-default",attrs:{type:"success"}},[t._v(t._s(t._f("formatDate")(t.registerClient.lastAttend)))])],1)],1)]):t._e(),1==t.registerClient.valid2&&t.validRoute("clientes","notes")?a("tab-pane",[a("span",{attrs:{slot:"title"},slot:"title"},[a("a-icon",{staticClass:"mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.2em"},attrs:{type:"file-done"}}),t._v("\n                                Notas\n                            ")],1),a("div",{staticClass:"row"},[a("div",[a("vue-custom-scrollbar",{staticClass:"maxHeightDatesClient"},[a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v("Este cliente no tiene notas registradas")])],1)]},proxy:!0}],null,!1,93002274)},[a("a-table",{attrs:{scroll:t.getScreen,loading:t.clientNotesState,columns:t.notesClientColumn,"data-source":t.notesClient},scopedSlots:t._u([{key:"date-format",fn:function(e,a){return[t._v("\n                                                    "+t._s(t._f("formatDate")(a.createdAt))+"\n                                                ")]}}],null,!1,3069373938)})],1)],1),a("div",[a("h4",[t._v("Ingresa nueva nota")]),a("base-input",{staticClass:"mb-2 pl-1",attrs:{alternative:"",type:"text",placeholder:"Creador de nota","addon-left-icon":"ni ni-single-02"},model:{value:t.newNote.name,callback:function(e){t.$set(t.newNote,"name",e)},expression:"newNote.name"}}),a("a-textarea",{staticClass:"ml-1",attrs:{placeholder:"Ingrese texto de la nota"},model:{value:t.newNote.note,callback:function(e){t.$set(t.newNote,"note",e)},expression:"newNote.note"}})],1),a("base-button",{staticClass:"float-right mt-3",attrs:{size:"sm",type:"primary"},on:{click:function(e){return t.newNoteInsert(t.registerClient._id)}}},[a("a-icon",{staticClass:"mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.2em"},attrs:{type:"form"}}),t._v("\n                                        Ingresar nota\n                                    ")],1)],1)])]):t._e()],1)],1):a("form",{attrs:{role:"form"}},[a("div",{staticClass:"row"},[a("base-input",{staticClass:"mb-3 col-md-6",attrs:{alternative:"",placeholder:"Nombre","addon-left-icon":"ni ni-single-02","addon-right-icon":"fa fa-asterisk text-danger"},on:{keyup:function(e){return t.validRegister()}},model:{value:t.registerClient.firstName,callback:function(e){t.$set(t.registerClient,"firstName",e)},expression:"registerClient.firstName"}}),a("base-input",{staticClass:"mb-3 col-md-6",attrs:{alternative:"",placeholder:"Apellido","addon-left-icon":"ni ni-single-02","addon-right-icon":"fa fa-asterisk text-danger"},on:{keyup:function(e){return t.validRegister()}},model:{value:t.registerClient.lastName,callback:function(e){t.$set(t.registerClient,"lastName",e)},expression:"registerClient.lastName"}})],1),a("base-input",{attrs:{alternative:"",type:"text",placeholder:"Correo","addon-left-icon":"fa fa-address-card","addon-right-icon":"fa fa-asterisk text-danger"},on:{keyup:function(e){return t.validRegister()}},model:{value:t.registerClient.email,callback:function(e){t.$set(t.registerClient,"email",e)},expression:"registerClient.email"}}),a("div",{staticClass:"col-12 mb-4 p-0"},[a("VuePhoneNumberInput",{attrs:{"default-phoner-number":t.registerClient.phone.nationalNumber,"default-country-code":t.registerClient.phone.countryCode,translations:{countrySelectorLabel:"Código de país",countrySelectorError:"Elije un país",phoneNumberLabel:"Número de teléfono",example:"Ejemplo :"}},on:{update:function(e){t.registerClient.phone=e,t.validRegister()}},model:{value:t.registerClient.phone.nationalNumber,callback:function(e){t.$set(t.registerClient.phone,"nationalNumber",e)},expression:"registerClient.phone.nationalNumber"}})],1),a("span",{staticStyle:{color:"red",position:"absolute",right:"60px",top:"160px","z-index":"1","font-size":"20px"}},[t._v("*")]),a("base-input",{attrs:{alternative:"",type:"text",placeholder:"Instagram","addon-left-icon":"fa fa-address-card","addon-right-icon":"fas fa-plus text-default"},model:{value:t.registerClient.instagram,callback:function(e){t.$set(t.registerClient,"instagram",e)},expression:"registerClient.instagram"}}),a("base-input",{attrs:{"addon-left-icon":"ni ni-calendar-grid-58"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.focus,r=e.blur;return a("flat-picker",{staticClass:"form-control datepicker",attrs:{config:t.configDate,placeholder:"Seleccione una fecha de nacimiento"},on:{"on-open":n,"on-close":r,"on-change":function(e){return t.validRegister()},"on-input":function(e){return t.validRegister()}},model:{value:t.registerClient.birthday,callback:function(e){t.$set(t.registerClient,"birthday",e)},expression:"registerClient.birthday"}})}}])}),a("base-checkbox",{staticClass:"mb-3",model:{value:t.registerClient.discount,callback:function(e){t.$set(t.registerClient,"discount",e)},expression:"registerClient.discount"}},[t._v("\n                        Descuento de nuevo cliente\n                    ")]),a("vue-single-select",{attrs:{options:t.clientsNames,placeholder:"Recomendador"},model:{value:t.registerClient.recommender,callback:function(e){t.$set(t.registerClient,"recommender",e)},expression:"registerClient.recommender"}}),a("div",{staticClass:"text-center"},[0==t.registerClient.valid?a("base-button",{staticClass:"my-4",attrs:{type:"primary",disabled:""}},[t._v(t._s(t.tipeForm))]):a("base-button",{staticClass:"my-4",attrs:{type:"primary"},on:{click:function(e){return t.registerClients()}}},[t._v(t._s(t.tipeForm))])],1)],1)]],2)],1),a("modal",{attrs:{show:t.modals.modal2,gradient:t.modals.type,"modal-classes":"modal-danger modal-dialog-centered"},on:{"update:show":function(e){return t.$set(t.modals,"modal2",e)}}},[a("div",{staticClass:"py-3 text-center"},[a("i",{class:t.modals.icon}),a("h1",{staticClass:"heading mt-5"},[t._v(t._s(t.modals.message))])])]),t.successRegister?a("base-alert",{staticClass:"positionAlert",attrs:{type:"success"}},[a("strong",[t._v("Registrado!")]),t._v(" Has registrado al cliente con exito!\n    ")]):t._e(),a("a-modal",{attrs:{width:t.widthTable,footer:!1},model:{value:t.modals.modal7,callback:function(e){t.$set(t.modals,"modal7",e)},expression:"modals.modal7"}},[[a("div",{staticClass:"text-muted text-center"},[a("h3",[t._v("Información de citas por asistir")])])],[a("div",[a("vue-custom-scrollbar",{staticClass:"maxHeightDatesClient"},[a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v("No posee citas por asistir")])],1)]},proxy:!0}])},[a("a-table",{attrs:{scroll:t.getScreen,columns:t.datesClientColumn,"data-source":t.datesClient},scopedSlots:t._u([{key:"date-format",fn:function(e,a){return[t._v("\n                                "+t._s(t._f("formatDate")(a.createdAt))+"\n                            ")]}},{key:"serviceName",fn:function(e,n){return[a("span",[t._v(t._s(n.services[0].name))])]}},{key:"date-format-init",fn:function(e,a){return[t._v("\n                                "+t._s(a.start.split(" ")[1])+"\n                            ")]}},{key:"date-format-end",fn:function(e,a){return[t._v("\n                                "+t._s(a.end.split(" ")[1])+"\n                            ")]}}])})],1)],1)],1)]],2),[a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v("No hay ningún cliente registrado")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columns,loading:t.clientState,"data-source":t.clients,scroll:t.getScreen},scopedSlots:t._u([{key:"filterDropdown",fn:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,s=e.clearFilters,i=e.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por "+i.title.toLowerCase(),value:r[0]},on:{change:function(t){return n(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(r,o,i.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(r,o,i.dataIndex)}}},[t._v("\n                    Buscar\n                ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(s)}}},[t._v("\n                    Restablecer\n                ")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"birthday",fn:function(e){return[a("span",e?[t._v(t._s(t._f("formatDate")(e)))]:[t._v("Sin fecha de nacimiento")])]}},{key:"actions",fn:function(e,n){return[a("b",[a("a-tooltip",{attrs:{placement:"left"}},[a("template",{slot:"title"},[a("span",[t._v("Citas por asistir")])]),t.validRoute("clientes","detalle")?a("base-button",{staticClass:"text-center",attrs:{icon:"fa fa-address-card",size:"sm",type:"default"},on:{click:function(e){return t.getDatesClient(n._id)}}}):a("base-button",{staticClass:"text-center",attrs:{icon:"fa fa-address-card",size:"sm",type:"default",disabled:""}})],2),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Detalles / Editar")])]),t.validRoute("clientes","detalle")?a("base-button",{attrs:{size:"sm",type:"default",icon:"ni ni-bullet-list-67"},on:{click:function(e){t.modals.modal1=!0,t.initialState(3),t.pushData(n.firstName,n.lastName,n.email,n.phone,n.instagram,n.attends,n.recommender,n.recommendations,n.lastAttend,n.createdAt,n._id,n.birthday)}}}):a("base-button",{attrs:{disabled:"",size:"sm",type:"default",icon:"ni ni-bullet-list-67"}})],2),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Eliminar")])]),t.validRoute("clientes","eliminar")?a("base-button",{attrs:{size:"sm",type:"warning",icon:"fas fa-trash"},on:{click:function(e){return t.deleteClient(n._id)}}}):a("base-button",{attrs:{disabled:"",size:"sm",type:"warning",icon:"fas fa-trash"}})],2)],1)]}}])})],1)]],2)},r=[],o=(a("a481"),a("28a5"),a("7f7f"),a("96cf"),a("3b8d")),s=(a("6b54"),a("6762"),a("2fdb"),a("bc3a")),i=a.n(s),l=a("a5e9"),c=a.n(l),d=a("12f9"),u=(a("e366"),a("04e1")),h=a.n(u),p=a("41cb"),m=a("1146"),f=a.n(m),g=a("8055"),v=a.n(g),b=a("c38f"),y=a.n(b),x=(a("0952"),a("4984")),w=a("4b70"),C=a.n(w),k=a("7bec"),S=a.n(k),_=(a("4413"),a("feb7")),P=a.n(_),T=a("ef34"),I=a("bb36"),B={mixins:[T["a"],I["a"]],components:{VueBootstrap4Table:d["a"],flatPicker:y.a,VuePhoneNumberInput:S.a,vueCustomScrollbar:C.a},data:function(){var t=this;return{progress:!1,auth:[],successRegister:!1,clientsNames:[],clientIds:[],tipeForm:"",configDate:{allowInput:!0,dateFormat:"d-m-Y",locale:x["Spanish"]},es_ES:P.a,socket:v()(c.a.endpointTarget),clientState:!0,phoneData:{isValid:!1},registerClient:{firstName:"",lastName:"",email:"",phone:{countryCode:"CL",isValid:!1,phoneNumber:"",countryCallingCode:"",formattedNumber:"",nationalNumber:"",formatInternational:"",formatNational:"",uri:"",e164:""},instagram:"",birthday:"",recommender:null,discount:!1,valid:!1,valid2:!1,recommendations:"",lastAttend:"",createdAt:"",attends:0,_id:""},datesClient:[],datesClientColumn:[{title:"Fecha",dataIndex:"createdAt",key:"createdAt",scopedSlots:{customRender:"date-format"},defaultSortOrder:"descend",sorter:function(t,e){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()},ellipsis:!0},{title:"Inicio",dataIndex:"start",key:"start",scopedSlots:{customRender:"date-format-init"}},{title:"Fin",dataIndex:"end",key:"end",scopedSlots:{customRender:"date-format-end"}},{title:"Profesional",dataIndex:"employe.name",key:"employe.name"},{title:"Servicio",dataIndex:"services",key:"services",scopedSlots:{customRender:"serviceName"},width:"40%"}],notesClient:[],clientNotesState:!1,notesClientColumn:[{title:"Fecha",dataIndex:"createdAt",key:"createdAt",scopedSlots:{customRender:"date-format"},defaultSortOrder:"descend",sorter:function(t,e){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()},ellipsis:!0},{title:"Creador",dataIndex:"name",key:"name"},{title:"Nota",dataIndex:"note",key:"note",width:"60%"}],modals:{modal1:!1,modal2:!1,modal3:!1,modal7:!1,message:"",icon:"",type:""},configHeader:{headers:{"x-database-connect":c.a.database,"x-access-token":localStorage.userToken}},clients:[],searchText:"",searchInput:null,searchedColumn:"",columns:[{title:"Nombre",dataIndex:"firstName",key:"firstName",width:"15%",ellipsis:!0,sorter:function(t,e){return t.firstName>e.firstName?-1:e.firstName>t.firstName?1:0},sortDirections:["descend","ascend"],scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.firstName.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Apellido",dataIndex:"lastName",key:"lastName",width:"15%",ellipsis:!0,sorter:function(t,e){return t.lastName>e.lastName?-1:e.lastName>t.lastName?1:0},scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.lastName.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Correo electrónico",dataIndex:"email",key:"email",width:"25%",scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.email.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Número telefónico",dataIndex:"phone.formatInternational",key:"phone",ellipsis:!0,scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.phone.formattedNumber.toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Fecha de cumpleaños",dataIndex:"birthday",key:"birthday",ellipsis:!0,scopedSlots:{customRender:"birthday"}},{title:"Acciones",dataIndex:"_id",key:"_id",scopedSlots:{customRender:"actions"}}],firstNameUser:"",lastNameUser:"",branch:"",newNote:{name:"",note:""}}},created:function(){this.getClients(),this.getToken(),$(document).ready((function(){$(".page-link").click((function(){$("html, body").animate({scrollTop:0},"slow")}))}))},methods:{selectDate:function(t,e){this.dateFind=t?e:[]},getDatesClient:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.datesClient=[],t.prev=1,t.next=4,i.a.get(c.a.endpointTarget+"/clients/getDatesClient/"+e,this.configHeader);case 4:a=t.sent,"ok"==a.data.status?(this.datesClient=a.data.data,this.modals.modal7=!0):this.modals.modal7=!0,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),t.t0.response||this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),newNoteInsert:function(t){var e=this;this.clientNotesState=!0,i.a.post(c.a.endpointTarget+"/clients/insertNotesToClient",{id:t,note:{name:this.newNote.name,note:this.newNote.note,createdAt:new Date}},this.configHeader).then((function(a){"ok"==a.data.status&&i.a.get(c.a.endpointTarget+"/clients/getNotesClient/"+t,e.configHeader).then((function(t){"ok"==t.data.status&&(e.notesClient=t.data.notes,e.clientNotesState=!1,e.newNote.note="",e.newNote.name="")}))}))},getToken:function(){var t=localStorage.userToken,e=h()(t);this.auth=e.access,this.firstNameUser=localStorage.firstname,this.lastNameUser=localStorage.lastname,this.branch=localStorage.branch},getClients:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.progress=!1,t.prev=1,t.next=4,i.a.get(c.a.endpointTarget+"/clients",this.configHeader);case 4:if(e=t.sent,e.data.data.length>0){for(this.clients=e.data.data,a=0;a<e.data.data.length;a++)this.clientsNames.push(e.data.data[a].firstName+" / "+e.data.data[a].email),this.clientIds.push(e.data.data[a].firstName+" / "+e.data.data[a].email+"-"+e.data.data[a]._id);this.progress=!0,this.clientState=!1}else this.clientState=!1;t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){p["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),handleSearch:function(t,e,a){e(),this.searchText=t[0],this.searchedColumn=a},handleReset:function(t){t(),this.searchText=""},generateExcel:function(){for(var t=[],e=0;e<this.clients.length;e++){var a=this.clients[e];t.push({Nombres:a.firstName+" "+a.lastName,Email:a.email,"Número de teléfono":a.phone?a.phone.formatInternational:"",Instagram:a.instagram,Atenciones:a.attends,Recomendador:a.recommender,Recomendaciones:a.recommendations,"Ultima atencion":this.$options.filters.formatDate(a.lastAttend),"Cliente desde":this.$options.filters.formatDate(a.createdAt)})}var n=f.a.utils.json_to_sheet(t),r=f.a.utils.book_new();f.a.utils.book_append_sheet(r,n,"Datos"),f.a.writeFile(r,"Clientes.xlsx")},registerClients:function(){var t=this,e=this.registerClient.discount?0:1,a="";if(null!=this.registerClient.recommender)for(var n=0;n<this.clientIds.length;n++){var r=this.clientIds[n].split("-");r[0]==this.registerClient.recommender&&(a=r[1])}var o=this.registerClient.birthday,s=!0;if(""!=this.registerClient.birthday)if(this.registerClient.birthday.split("-")[1]){s=!0;var l=this.registerClient.birthday.split("-");o=l[1]+"-"+l[0]+"-"+l[2]}else s=!1,this.$swal({icon:"error",title:"Fecha invalida",showConfirmButton:!1,timer:1500});s&&i.a.post(c.a.endpointTarget+"/clients",{firstName:this.registerClient.firstName,lastName:this.registerClient.lastName,email:this.registerClient.email,recommender:this.registerClient.recommender,idRecomender:a,phone:this.registerClient.phone,birthday:o,instagram:this.registerClient.instagram,ifCheck:e},this.configHeader).then((function(e){"client create"==e.data.status?(t.$swal({icon:"success",title:"Se registro el cliente con éxito",showConfirmButton:!1,timer:1500}),t.initialState(1),t.getClients()):t.$swal({icon:"error",title:"El cliente ya existe",showConfirmButton:!1,timer:1500})})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){p["a"].push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},validRegister:function(){var t=this;1==this.registerClient.firstName.length&&(this.registerClient.firstName=this.registerClient.firstName.toUpperCase()),1==this.registerClient.lastName.length&&(this.registerClient.lastName=this.registerClient.lastName.toUpperCase()),setTimeout((function(){t.registerClient.valid=!1,""!=t.registerClient.firstName&&""!=t.registerClient.lastName&&""!=t.registerClient.email&&t.registerClient.phone.isValid&&""!=t.registerClient.birthday&&2==t.registerClient.email.split("@").length&&t.registerClient.email.split("@")[1].split(".").length>=2?t.registerClient.valid=!0:t.registerClient.valid=!1}),200)},formatPhone:function(){var t=this.registerClient.contactOne.replace(/[^\d]/g,"");9==t.length?t=t.replace(/(\d{1})(\d{4})/,"$1-$2-"):10==t.length&&(t=t.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3")),this.registerClient.contactOne=t},MaysPrimera:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},initialState:function(t){this.registerClient={firstName:"",lastName:"",email:"",phone:{countryCode:"CL",isValid:!1,phoneNumber:"",countryCallingCode:"",formattedNumber:"",nationalNumber:"",formatInternational:"",formatNational:"",uri:"",e164:""},instagram:"",birthday:"",recommender:null,discount:!1,valid:!1,valid2:!1,recommendations:"",lastAttend:"",createdAt:"",attends:0,_id:""},1==t&&(this.modals={modal1:!1,modal2:!1,modal3:!1}),2==t&&(this.tipeForm="Registrar"),3==t&&(this.tipeForm="Editar")},pushData:function(t,e,a,n,r,o,s,l,d,u,h,p){var m=this;this.notesClient=[],this.clientNotesState=!0,this.registerClient={firstName:t,lastName:e,email:a,phone:n,instagram:r,birthday:p,recommender:s,valid:!0,valid2:!0,recommendations:l,lastAttend:d,createdAt:u,attends:o,_id:h},i.a.get(c.a.endpointTarget+"/clients/getNotesClient/"+h,this.configHeader).then((function(t){"ok"==t.data.status&&(m.notesClient=t.data.notes,m.clientNotesState=!1)}))},deleteClient:function(t){var e=this;this.$swal({title:"¿Está seguro de borrar el cliente?",text:"No puedes revertir esta acción",type:"warning",icon:"warning",showCancelButton:!0,confirmButtonText:"Estoy seguro",cancelButtonText:"No, evitar acción",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value?i.a.delete(c.a.endpointTarget+"/clients/"+t,e.configHeader).then((function(t){"ok"==t.data.status&&(e.$swal({icon:"success",title:"Cliente borrado con éxito",showConfirmButton:!1,timer:1500}),e.getClients(),e.initialState(1))})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){p["a"].push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):e.$swal({icon:"info",title:"Acción cancelada",showConfirmButton:!1,timer:1500})}))},clientEdit:function(){var t=this;i.a.put(c.a.endpointTarget+"/clients/"+this.registerClient._id,{firstName:this.registerClient.firstName,lastName:this.registerClient.lastName,email:this.registerClient.email,phone:this.registerClient.phone,instagram:this.registerClient.instagram,birthday:this.registerClient.birthday},this.configHeader).then((function(e){"update client"==e.data.status?(t.$swal({icon:"success",title:"El cliente ha sido editado con éxito",showConfirmButton:!1,timer:1500}),t.getClients(),t.initialState(1)):t.$swal({icon:"error",title:"El email ya existe",showConfirmButton:!1,timer:1500})})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){p["a"].push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},showFilter:function(){$(".tableClient .vbt-table-tools").toggle()},validRoute:function(t,e){for(var a=0;a<this.auth.length;a++){var n=this.auth[a];if(n.ruta==t)for(var r=0;r<n.validaciones.length;r++)if(e==n.validaciones[r])return!0}},redirect:function(){p["a"].push({path:"Correo"})}},computed:{getScreen:function(){return screen.width<780?{x:"calc(700px + 50%)",y:240}:{y:"auto"}},widthTable:function(){return screen.width<780?"95%":"60%"}}},D=B,M=(a("7677"),a("2877")),F=Object(M["a"])(D,n,r,!1,null,null,null);e["default"]=F.exports},"5d58":function(t,e,a){t.exports=a("d8d6")},"673d":function(t,e,a){},"67bb":function(t,e,a){t.exports=a("f921")},6846:function(t,e,a){},7277:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-5 pt-2 pt-lg-4 d-flex align-items-center",staticStyle:{"min-height":"100px","background-image":"url(img/theme/metrics.png)","background-size":"cover","background-position":"center 36%"}},[a("span",{staticClass:"mask  opacity-7",staticStyle:{"background-color":"#172b4d !important"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 py-5"},[a("div",{staticClass:"text-absolute",staticStyle:{top:"10%"}},[a("p",{staticClass:"mb-0 mt-4 display-2 text-white"},[t._v("Reportes")]),a("p",{staticClass:"text-white hideText"},[t._v("Sección dedicada a reportes y gráficos que permiten visualizar los indicadores de tu negocio.")])])])])]),t.validRoute("reportes","filtrar")?[a("card",{staticClass:"mt-2",attrs:{shadow:""}},[a("template",{slot:"header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-10 mt-1 row"},[a("div",{staticClass:"col-md-4 mt-1"},[a("a-select",{staticClass:"w-100",attrs:{"default-value":"Producción anual"},on:{change:t.selectTypeAnual}},[a("a-select-option",{attrs:{value:"anualProduction"}},[t._v("\n                    Producción anual\n                  ")]),a("a-select-option",{attrs:{value:"anualServices"}},[t._v("\n                    Servicios anuales\n                  ")]),a("a-select-option",{attrs:{value:"dataExpense"}},[t._v("\n                    Gastos vs Ganancias anuales\n                  ")]),a("a-select-option",{attrs:{value:"dataEmploye"}},[t._v("\n                    Detalle de empleado\n                  ")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.serviceChart,expression:"serviceChart"}],staticClass:"col-md-4 mt-1"},[t.services[0]?a("a-select",{staticClass:"w-100",attrs:{"default-value":t.services[0].name},on:{change:t.selectService}},t._l(t.services,(function(e){return a("a-select-option",{key:e._id,attrs:{value:e._id}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])})),1):t._e()],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.employeChart,expression:"employeChart"}],staticClass:"col-md-4 mt-1"},[t.employes[0]?a("a-select",{staticClass:"w-100",attrs:{"default-value":t.employes[0].firstName+" "+t.employes[0].lastName},on:{change:t.selectEmploye}},t._l(t.employes,(function(e){return a("a-select-option",{key:e._id,attrs:{value:e._id}},[t._v("\n                    "+t._s(e.firstName)+" "+t._s(e.lastName)+"\n                  ")])})),1):t._e()],1)]),a("div",{staticClass:"col-2 mt-2"},[a("base-button",{attrs:{disabled:!t.validRoute("reportes","filtrar"),size:"sm",type:"default"},on:{click:t.filterAnualGraph}},[a("a-icon",{staticStyle:{"vertical-align":"1px","font-size":"1.6em"},attrs:{type:"filter"}})],1)],1)])]),[a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-12"},[a("a-spin",{attrs:{spinning:t.loadingChartAnual}},[a("apexchart",{ref:"chartApisAnual",staticClass:"borderClass",attrs:{height:350,options:t.chartOptionsAnual,series:t.graphDataAnual}})],1)],1)])]],2),a("card",{staticClass:"mt-2",attrs:{shadow:""}},[a("template",{slot:"header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-10 mt-1 row"},[a("div",{staticClass:"col-md-6 mt-1"},[a("a-range-picker",{staticClass:"w-100",attrs:{ranges:{Today:[t.moment(),t.moment()],"Este mes":[t.moment(),t.moment().endOf("month")]},"default-value":[t.moment(t.dateFormat),t.moment().endOf("month")],format:"MM-DD-YYYY"},on:{change:t.selectDate}})],1),a("div",{staticClass:"col-md-6 mt-1"},[a("a-select",{staticClass:"w-100",attrs:{"default-value":"Producción total"},on:{change:t.selectType}},[a("a-select-option",{attrs:{value:"totalSales"}},[t._v("\n                    Producción total\n                  ")]),a("a-select-option",{attrs:{value:"totalServices"}},[t._v("\n                    Servicios totales\n                  ")]),a("a-select-option",{attrs:{value:"totalByEmploye"}},[t._v("\n                    Producción por empleado\n                  ")]),a("a-select-option",{attrs:{value:"commissionsByEmploye"}},[t._v("\n                    Comisión por empleado\n                  ")]),a("a-select-option",{attrs:{value:"servicesByEmploye"}},[t._v("\n                    Servicios por empleado\n                  ")]),a("a-select-option",{attrs:{value:"diaryTotals"}},[t._v("\n                    Totales diarios\n                  ")]),a("a-select-option",{attrs:{value:"diaryPromedies"}},[t._v("\n                    Promedios diarios\n                  ")]),a("a-select-option",{attrs:{value:"totalExpenses"}},[t._v("\n                    Gastos totales\n                  ")]),a("a-select-option",{attrs:{value:"totalsTypesPays"}},[t._v("\n                    Tipos de pago\n                  ")]),a("a-select-option",{attrs:{value:"totalPerService"}},[t._v("\n                    Total por servicios\n                  ")]),a("a-select-option",{attrs:{value:"totalPerProducts"}},[t._v("\n                    Total por productos\n                  ")])],1)],1)]),a("div",{staticClass:"col-2 mt-2"},[a("base-button",{staticClass:"forBug",attrs:{disabled:!t.validRoute("reportes","filtrar"),size:"sm",type:"default"},on:{click:t.filterGraph}},[a("a-icon",{staticStyle:{"vertical-align":"1px","font-size":"1.6em"},attrs:{type:"filter"}})],1)],1)])]),[a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-8"},[a("a-spin",{attrs:{spinning:t.loadingChart}},[a("apexchart",{directives:[{name:"show",rawName:"v-show",value:t.change,expression:"change"}],ref:"chartApis",staticClass:"borderClass",attrs:{height:350,options:t.chartOptions,series:t.graphData}}),a("apexchart",{directives:[{name:"show",rawName:"v-show",value:t.noChange,expression:"noChange"}],ref:"chartApisDaily",staticClass:"borderClass",attrs:{height:350,options:t.chartDaily,series:t.graphDataDaily}}),a("apexchart",{directives:[{name:"show",rawName:"v-show",value:t.noChangeTwo,expression:"noChangeTwo"}],ref:"chartApisService",staticClass:"borderClass",attrs:{height:350,options:t.chartService,series:t.graphDataService}})],1)],1),a("div",{staticClass:"col-md-4"},[a("stats-card",{staticClass:"mt-1",attrs:{title:"Promedios",type:"gradient-orange","sub-title":"Ventas y servicios",icon:"ni ni-atom"}},[a("template",{slot:"footer"},[a("p",{staticStyle:{"line-height":"2.2"}},[t._v("\n                        Promedio ventas "),a("strong",[t._v(t._s(t._f("formatPrice")(t.promedySales)))]),a("br"),t._v("\n                        Promedio servicios "),a("strong",[t._v(t._s(t.promedyServices.toFixed(2)))]),a("br"),a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Debe indicar la cantidad de días laborales del mes en curso, para calcular la proyección de venta total a final de mes")])]),a("a-icon",{staticClass:"mr-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em"},attrs:{type:"question-circle"}})],2),t._v("\n                        Proyección de ventas \n                        "),a("a-input",{staticStyle:{width:"15%"},attrs:{type:"number",placeholder:"Días"},on:{keyup:t.calculatedProjection},model:{value:t.projection,callback:function(e){t.projection=e},expression:"projection"}}),a("strong",[t._v(" "+t._s(t._f("formatPrice")(t.salesProjection)))]),a("br"),a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Debe indicar la cantidad de días laborales del mes en curso, para calcular la proyección de servicios totales a final de mes")])]),a("a-icon",{staticClass:"mr-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em"},attrs:{type:"question-circle"}})],2),t._v("\n                        Proyección de servicios\n                        "),a("a-input",{staticStyle:{width:"15%"},attrs:{type:"number",placeholder:"Días"},on:{keyup:t.calculatedProjection},model:{value:t.projection,callback:function(e){t.projection=e},expression:"projection"}}),a("strong",[t._v(" "+t._s(t.serviceProjection.toFixed(2)))]),a("br"),a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Gastos totales del mes")])]),a("a-icon",{staticClass:"mr-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em"},attrs:{type:"question-circle"}})],2),t._v("\n                        Total de gastos "),a("strong",[t._v(" "+t._s(t._f("formatPrice")(t.expenseTotal)))])],1)])],2)],1)])]],2)]:void 0],2)},r=[],o=(a("96cf"),a("3b8d")),s=a("bd86"),i=(a("6b54"),a("a481"),a("bc3a")),l=a.n(i),c=a("a5e9"),d=a.n(c),u=a("41cb"),h=a("04e1"),p=a.n(h),m=a("c1df"),f=a.n(m),g=(a("8e6e"),a("456d"),a("ac6a"),a("5d58")),v=a.n(g),b=a("67bb"),y=a.n(b);function x(t){return x="function"===typeof y.a&&"symbol"===typeof v.a?function(t){return typeof t}:function(t){return t&&"function"===typeof y.a&&t.constructor===y.a&&t!==y.a.prototype?"symbol":typeof t},x(t)}function w(t,e){for(var a in e)"object"!==x(e[a])?t[a]=e[a]:w(t[a],e[a])}function C(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function k(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?C(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var S={mode:"light",fonts:{base:"Open Sans"},colors:{gray:{100:"#f6f9fc",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#8898aa",700:"#525f7f",800:"#32325d",900:"#212529"},theme:{default:"#172b4d",primary:"#5e72e4",secondary:"#f4f5f7",info:"#11cdef",success:"#2dce89",danger:"#f5365c",warning:"#fb6340"},black:"#12263F",white:"#FFFFFF",transparent:"transparent"}};function _(t){var e=S.colors,a=S.mode,n=S.fonts,r={defaults:{global:{responsive:!0,maintainAspectRatio:!1,defaultColor:"dark"==a?e.gray[700]:e.gray[600],defaultFontColor:"dark"==a?e.gray[700]:e.gray[600],defaultFontFamily:n.base,defaultFontSize:13,layout:{padding:0},legend:{display:!1,position:"bottom",labels:{usePointStyle:!0,padding:16}},elements:{point:{radius:0,backgroundColor:e.theme["primary"]},line:{tension:.4,borderWidth:4,borderColor:e.theme["primary"],backgroundColor:e.transparent,borderCapStyle:"rounded"},rectangle:{backgroundColor:e.theme["warning"]},arc:{backgroundColor:e.theme["primary"],borderColor:"dark"==a?e.gray[800]:e.white,borderWidth:4}},tooltips:{enabled:!0,mode:"index",intersect:!1}},doughnut:{cutoutPercentage:83,legendCallback:function(t){var e=t.data,a="";return e.labels.forEach((function(t,n){var r=e.datasets[0].backgroundColor[n];a+='<span class="chart-legend-item">',a+='<i class="chart-legend-indicator" style="background-color: '+r+'"></i>',a+=t,a+="</span>"})),a}}}};return t.scaleService.updateScaleDefaults("linear",{gridLines:{borderDash:[2],borderDashOffset:[2],color:"dark"==a?e.gray[900]:e.gray[300],drawBorder:!1,drawTicks:!1,lineWidth:0,zeroLineWidth:0,zeroLineColor:"dark"==a?e.gray[900]:e.gray[300],zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{beginAtZero:!0,padding:10,callback:function(t){if(!(t%10))return t}}}),t.scaleService.updateScaleDefaults("category",{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{padding:20},maxBarThickness:10}),r}function P(t){w(t,_(t))}var T={maintainAspectRatio:!1,legend:{display:!1},responsive:!0};S.colors.gray[700],S.colors.gray[700],k({},T,{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},responsive:!0,scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:125,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9e9e9e"}}]}}),k({},T,{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},responsive:!0,scales:{yAxes:[{gridLines:{drawBorder:!1,color:"rgba(253,93,147,0.1)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:125,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{gridLines:{drawBorder:!1,color:"rgba(253,93,147,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9e9e9e"}}]}}),k({},T,{cutoutPercentage:70,tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{display:0,ticks:{display:!1},gridLines:{drawBorder:!1,zeroLineColor:"transparent",color:"rgba(255,255,255,0.05)"}}],xAxes:[{display:0,barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(255,255,255,0.1)",zeroLineColor:"transparent"},ticks:{display:!1}}]}}),k({},T,{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:125,padding:20,fontColor:"#9a9a9a"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(225,78,202,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9a9a9a"}}]}}),k({},T,{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:50,suggestedMax:110,padding:20,fontColor:"#ff8a76"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(220,53,69,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#ff8a76"}}]}}),k({},T,{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:50,suggestedMax:125,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(0,242,195,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9e9e9e"}}]}}),k({},T,{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:120,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9e9e9e"}}]}});function I(t,e){if(e){var a=this.$data._chart,n=t.datasets.map((function(t){return t.label})),r=e.datasets.map((function(t){return t.label})),o=JSON.stringify(r),s=JSON.stringify(n);s===o&&e.datasets.length===t.datasets.length?(t.datasets.forEach((function(t,n){var r=Object.keys(e.datasets[n]),o=Object.keys(t),s=r.filter((function(t){return"_meta"!==t&&-1===o.indexOf(t)}));for(var i in s.forEach((function(t){delete a.data.datasets[n][t]})),t)t.hasOwnProperty(i)&&(a.data.datasets[n][i]=t[i])})),t.hasOwnProperty("labels")&&(a.data.labels=t.labels,this.$emit("labels:update")),t.hasOwnProperty("xLabels")&&(a.data.xLabels=t.xLabels,this.$emit("xlabels:update")),t.hasOwnProperty("yLabels")&&(a.data.yLabels=t.yLabels,this.$emit("ylabels:update")),a.update(),this.$emit("chart:update")):(a&&(a.destroy(),this.$emit("chart:destroy")),this.renderChart(this.chartData,this.options),this.$emit("chart:render"))}else this.$data._chart&&(this.$data._chart.destroy(),this.$emit("chart:destroy")),this.renderChart(this.chartData,this.options),this.$emit("chart:render")}var B={data:function(){return{chartData:null}},watch:{chartData:I}},D={props:{chartData:{type:Object,required:!0,default:function(){}}},watch:{chartData:I}},M={reactiveData:B,reactiveProp:D},F=a("30ef"),R=a.n(F);function A(t,e){return{render:function(t){return t("div",{style:this.styles,class:this.cssClasses},[t("canvas",{attrs:{id:this.chartId,width:this.width,height:this.height},ref:"canvas"})])},props:{chartId:{default:t,type:String},width:{default:400,type:Number},height:{default:400,type:Number},cssClasses:{type:String,default:""},styles:{type:Object},plugins:{type:Array,default:function(){return[]}}},data:function(){return{_chart:null,_plugins:this.plugins}},methods:{addPlugin:function(t){this.$data._plugins.push(t)},generateLegend:function(){if(this.$data._chart)return this.$data._chart.generateLegend()},renderChart:function(t,a){this.$data._chart&&this.$data._chart.destroy(),this.$data._chart=new R.a(this.$refs.canvas.getContext("2d"),{type:e,data:t,options:a,plugins:this.$data._plugins})}},beforeDestroy:function(){this.$data._chart&&this.$data._chart.destroy()}}}var E=A("bar-chart","bar"),N=(A("horizontalbar-chart","horizontalBar"),A("doughnut-chart","doughnut"),A("line-chart","line")),H=(A("pie-chart","pie"),A("polar-chart","polarArea"),A("radar-chart","radar"),A("bubble-chart","bubble"),A("scatter-chart","scatter"),{mounted:function(){P(R.a)}}),L={name:"line-chart",extends:N,mixins:[M.reactiveProp,H],props:{extraOptions:{type:Object,default:function(){return{}}}},data:function(){return{ctx:null}},mounted:function(){var t=this;this.$watch("chartData",(function(e,a){a||t.renderChart(t.chartData,t.extraOptions)}),{immediate:!0})}},z={name:"bar-chart",extends:E,mixins:[M.reactiveProp,H],props:{extraOptions:{type:Object,default:function(){return{}}}},data:function(){return{ctx:null}},mounted:function(){var t=this;this.$watch("chartData",(function(e,a){a||t.renderChart(t.chartData,t.extraOptions)}),{immediate:!0})}},O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header border-0"},[a("div",{staticClass:"row align-items-center"},[t._m(0),a("div",{staticClass:"col text-right"},[a("base-button",{attrs:{size:"sm",type:"primary"}},[t._v("See all")])],1)])]),a("div",{staticClass:"table-responsive"},[a("base-table",{attrs:{"thead-classes":"thead-light",data:t.tableData},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("th",{attrs:{scope:"row"}},[t._v("\n          "+t._s(n.name)+"\n        ")]),a("td",[t._v("\n          "+t._s(n.visitors)+"\n        ")]),a("td",[a("div",{staticClass:"d-flex align-items-center"},[a("span",{staticClass:"mr-2"},[t._v(t._s(n.progress)+"%")]),a("base-progress",{staticClass:"pt-0",attrs:{type:n.progressType,"show-percentage":!1,value:n.progress}})],1)])]}}])},[a("template",{slot:"columns"},[a("th",[t._v("Referral")]),a("th",[t._v("Visitors")]),a("th")])],2)],1)])},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col"},[a("h3",{staticClass:"mb-0"},[t._v("Social traffic")])])}],V={name:"social-traffic-table",data:function(){return{tableData:[{name:"Facebook",visitors:"1,480",progress:60,progressType:"gradient-danger"},{name:"LinkedIn",visitors:"5,480",progress:70,progressType:"gradient-success"},{name:"Google",visitors:"4,807",progress:80,progressType:"gradient-primary"},{name:"Instagram",visitors:"3,678",progress:75,progressType:"gradient-info"},{name:"Twitter",visitors:"2,645",progress:30,progressType:"gradient-warning"}]}}},W=V,U=a("2877"),q=Object(U["a"])(W,O,j,!1,null,null,null),Y=q.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[t._m(0),a("div",{staticClass:"table-responsive"},[a("vue-custom-scrollbar",{staticClass:"maxHeight"},[a("base-table",{attrs:{"thead-classes":"thead-light",data:t.attentions},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("th",{attrs:{scope:"row"}},[t._v("\n              "+t._s(n.name)+"\n            ")]),a("th",{attrs:{scope:"row"}},[t._v("\n              "+t._s(n.contact)+"\n            ")]),a("th",{attrs:{scope:"row"}},[t._v("\n              "+t._s(n.attention)+"\n            ")])]}}])},[a("template",{slot:"columns"},[a("th",[t._v("Nombre")]),a("th",[t._v("Contacto")]),a("th",[t._v("Atenciones")])])],2)],1)],1)])},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header border-0"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col"},[a("h3",{staticClass:"mb-0"},[t._v("10 Mejores clientes")])]),a("div",{staticClass:"col text-right"},[a("a",{staticClass:"btn btn-sm btn-primary",attrs:{href:"#!"}},[t._v("Ver todos")])])])])}],X=a("4b70"),J=a.n(X),Z={components:{vueCustomScrollbar:J.a},name:"page-visits-table",data:function(){return{attentions:[]}},created:function(){this.getParticipacion()},methods:{getParticipacion:function(){var t=this;l.a.get(d.a.endpointTarget+"/metrics/top").then((function(e){for(var a=0;a<e.data.length;a++){var n=e.data[a];t.attentions.push({name:n.nombre,contact:n.identidad,attention:n.participacion})}}))}}},Q=Z,tt=(a("ff7d"),Object(U["a"])(Q,K,G,!1,null,null,null)),et=tt.exports,at=a("c38f"),nt=a.n(at),rt=(a("0952"),a("4984"),a("ef34")),ot=(a("1146"),{mixins:[rt["a"]],components:{LineChart:L,BarChart:z,PageVisitsTable:et,SocialTrafficTable:Y,flatPicker:nt.a,vueCustomScrollbar:J.a},data:function(){var t;return t={configHeader:{headers:{"x-database-connect":d.a.database,"x-access-token":localStorage.userToken}},dateFormat:(new Date).getMonth()+1+"-01-"+(new Date).getFullYear(),moment:f.a,dateFilter:[[(new Date).getMonth()+1+"-01-"+(new Date).getFullYear()],[(new Date).getMonth()+1+"-31-"+(new Date).getFullYear()]],auth:[],lenderId:"",branchName:"",branch:"",thisMonth:{totalSale:0,totalItems:0},loadingChart:!0,loadingChartAnual:!0,chartOptionsAnual:{chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:10,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(t){var e=(t/1).toFixed(2).replace(".",",");return t>600?"$ "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):t},offsetY:-20,style:{fontSize:"12px",colors:["#304758"],rotate:180}},title:{text:"Gráfica anual",align:"left"},grid:{row:{colors:["#f7fafc","#f5f5f5"],opacity:.5}},xaxis:{type:"category",categories:["ENE","FEB","MAR","ABR","MAY","JUN","JUL","AGO","SEP","OCT","NOV","DIC"]},tooltip:{x:{type:"datetime",format:"dd MMM yyyy"},y:[{title:{formatter:function(t){return t+" $"}}}]},theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#172b4d",shadeTo:"light",shadeIntensity:.65}}},chartOptions:{chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:10,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(t){var e=(t/1).toFixed(2).replace(".",",");return t>600?"$ "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):t},offsetY:-25,style:{fontSize:"12px",colors:["#304758"],rotate:180}},title:{text:"Gráfica por día",align:"left"},grid:{row:{colors:["#f7fafc","#f5f5f5"],opacity:.5}},xaxis:{type:"datetime"}},prevMonth:{totalSale:0,totalItems:0},percentTotalSale:0,percentTotalItems:0,paysData:[],promedySales:0,totalSale:0,totalServices:0,promedyServices:0,projection:{sales:"",service:""},graphData:[],graphDataAnual:[],graphType:"totalSales",change:!0,noChange:!1,noChangeTwo:!1,graphDataService:[],chartDaily:{chart:{height:350,type:"area",zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(t){var e=(t/1).toFixed(2).replace(".",",");return t>600?"$ "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):t},offsetY:-20,style:{fontSize:"12px",fontWeight:"300",colors:["#304758"]}},theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#255aee",shadeTo:"light",shadeIntensity:.65}},stroke:{curve:"smooth"},title:{text:"Producción diaria",align:"left"},grid:{row:{colors:["#FFFAE2","transparent"],opacity:.5}},xaxis:{type:"category",categories:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"]}},graphDataDaily:[],serviceChart:!1,employeChart:!1,services:[],serviceSelect:"",employes:[],employeSelect:"",thisClick:!0,workDays:0,salesProjection:0,serviceProjection:0,expenseTotal:0},Object(s["a"])(t,"projection",0),Object(s["a"])(t,"projectioId",""),t},created:function(){this.getToken(),this.getBranch()},methods:{getToken:function(){var t=localStorage.userToken,e=p()(t);this.lenderId=e.linkLender,this.auth=e.access},getBranch:function(){this.branchName=localStorage.branchName,this.branch=localStorage.branch,this.getSales(),this.getItems(),this.getDataSale(),this.getDataService(),this.getChartAnual(),this.getServices(),this.getEmployes(),this.getDataDays(),this.getExpenseTotal(),$("#second").css({display:"none"}),this.getPorjection()},selectDate:function(t,e){this.dateFilter=e},calculatedProjection:function(){var t=this;this.projection>0&&(this.salesProjection=this.totalSale/this.workDays*parseInt(this.projection),this.serviceProjection=this.totalServices/this.workDays*parseInt(this.projection),setTimeout((function(){t.updateProjection()}),500))},updateProjection:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.put(d.a.endpointTarget+"/metrics/updateProjection/"+this.projectioId,{days:this.projection},this.configHeader);case 3:t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}(),getPorjection:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get(d.a.endpointTarget+"/metrics/getProjection/"+this.branch,this.configHeader);case 3:e=t.sent,this.projection=e.data.data.days,this.projectioId=e.data.data._id,"ok"==e.data.status&&this.calculatedProjection(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),getExpenseTotal:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.serviceState=!0,t.prev=1,t.next=4,l.a.get(d.a.endpointTarget+"/metrics/getExpensesTotal/"+this.branch,this.configHeader);case 4:e=t.sent,this.expenseTotal=e.data.total,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),getServices:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.serviceState=!0,t.prev=1,t.next=4,l.a.get(d.a.endpointTarget+"/services/"+this.branch,this.configHeader);case 4:e=t.sent,"ok"==e.data.status?(this.services=e.data.data,this.serviceSelect=this.services[0]._id):(this.services=[],this.serviceSelect=""),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),getEmployes:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get(d.a.endpointTarget+"/employes/employesbybranch/"+this.branch,this.configHeader);case 3:e=t.sent,e.data.data.length>0?(this.employes=e.data.data,this.employeSelect=this.employes[0]._id):(this.employes=[],this.employeSelect=""),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),selectType:function(t){this.graphType=t},selectService:function(t){this.serviceSelect=t},selectEmploye:function(t){this.employeSelect=t},selectTypeAnual:function(t){this.graphAnualType=t,"anualServices"==t?(this.serviceChart=!0,this.employeChart=!1):"dataEmploye"==t?(this.employeChart=!0,this.serviceChart=!1):(this.serviceChart=!1,this.employeChart=!1)},getDailyGraph:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.post("".concat(d.a.endpointTarget,"/metrics/diaryPromedies"),{branch:this.branch,dates:this.dateFilter},this.configHeader);case 3:e=t.sent,this.graphDataDaily=e.data.series,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getChartAnual:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.post("".concat(d.a.endpointTarget,"/metrics/anualProduction"),{branch:this.branch},this.configHeader);case 3:e=t.sent,this.graphDataAnual=e.data.series,this.loadingChartAnual=!1,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),filterAnualGraph:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingChartAnual=!0,t.prev=1,t.next=4,l.a.post("".concat(d.a.endpointTarget,"/metrics/").concat(this.graphAnualType),{branch:this.branch,id:"anualServices"==this.graphAnualType?this.serviceSelect:this.employeSelect},this.configHeader);case 4:e=t.sent,this.graphDataAnual=e.data.series,this.chartOptionsAnual={chart:{height:350,type:"bar",zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(t){var e=(t/1).toFixed(2).replace(".",",");return t>600?"$ "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):t},offsetY:-20,style:{fontSize:"12px",fontWeight:"300",colors:["#304758"]}},theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#255aee",shadeTo:"light",shadeIntensity:.65}},title:{text:"Gastos totales",align:"left"},grid:{row:{colors:["#FFFAE2","transparent"],opacity:.5}},xaxis:{type:"category",categories:e.data.categories}},this.$refs.chartApisAnual.updateOptions(this.chartOptionsAnual,!1,!0,!0),this.loadingChartAnual=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 14:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(){return t.apply(this,arguments)}return e}(),filterGraph:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("totalPerService"!=this.graphType&&"totalPerProducts"!=this.graphType){t.next=21;break}return this.loadingChart=!0,this.change=!1,this.noChange=!1,t.prev=4,t.next=7,l.a.post("".concat(d.a.endpointTarget,"/metrics/").concat(this.graphType),{branch:this.branch,dates:this.dateFilter},this.configHeader);case 7:e=t.sent,setTimeout((function(){r.thisClick&&($(".forBug").click(),r.thisClick=!1)}),200),this.graphDataService=e.data.series,this.chartService={chart:{type:"donut",width:"100%"},type:"donut",labels:e.data.labels,legend:{position:"right",offsetY:0,height:230},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]},this.$refs.chartApisService.updateOptions(this.chartService,!0,!1,!1),this.noChangeTwo=!0,this.loadingChart=!1,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](4),401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550));case 19:t.next=58;break;case 21:if("diaryPromedies"!=this.graphType&&"diaryTotals"!=this.graphType&&"totalExpenses"!=this.graphType&&"commissionsByEmploye"!=this.graphType&&"servicesByEmploye"!=this.graphType&&"totalByEmploye"!=this.graphType&&"totalsTypesPays"!=this.graphType){t.next=42;break}return this.loadingChart=!0,this.change=!1,this.noChangeTwo=!1,this.noChange=!0,this.thisClick=!0,t.prev=27,t.next=30,l.a.post("".concat(d.a.endpointTarget,"/metrics/").concat(this.graphType),{branch:this.branch,dates:this.dateFilter},this.configHeader);case 30:a=t.sent,this.graphDataDaily=a.data.series,this.chartDaily={chart:{height:350,type:"bar",zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(t){var e=(t/1).toFixed(2).replace(".",",");return t>600?"$ "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):t},offsetY:-20,style:{fontSize:"12px",fontWeight:"300",colors:["#304758"]}},theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#255aee",shadeTo:"light",shadeIntensity:.65}},title:{text:"Gráficas por categorias",align:"left"},grid:{row:{colors:["#FFFAE2","transparent"],opacity:.5}},xaxis:{type:"category",categories:a.data.categories}},this.$refs.chartApisDaily.updateOptions(this.chartDaily,!1,!0,!0),this.loadingChart=!1,t.next=40;break;case 37:t.prev=37,t.t1=t["catch"](27),t.t1.response?401==t.t1.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 40:t.next=58;break;case 42:return this.loadingChart=!0,this.noChange=!1,this.noChangeTwo=!1,this.change=!0,this.thisClick=!0,t.prev=47,t.next=50,l.a.post("".concat(d.a.endpointTarget,"/metrics/").concat(this.graphType),{branch:this.branch,dates:this.dateFilter},this.configHeader);case 50:n=t.sent,this.graphData=n.data.series,this.loadingChart=!1,t.next=58;break;case 55:t.prev=55,t.t2=t["catch"](47),t.t2.response?401==t.t2.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 58:case"end":return t.stop()}}),t,this,[[4,16],[27,37],[47,55]])})));function e(){return t.apply(this,arguments)}return e}(),getDataSale:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.post("".concat(d.a.endpointTarget,"/metrics/totalSales"),{branch:this.branch,dates:this.dateFilter},this.configHeader);case 3:e=t.sent,this.totalSale=e.data.total,this.graphData=e.data.series,this.loadingChart=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),getDataDays:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("".concat(d.a.endpointTarget,"/metrics/getDays/").concat(this.branch),this.configHeader);case 3:e=t.sent,this.promedySales=0==this.totalSale||0==e.data.quantity?0:this.totalSale/e.data.quantity,this.promedyServices=0==this.totalServices||0==e.data.quantity?0:this.totalServices/e.data.quantity,this.workDays=e.data.quantity>0?e.data.quantity:1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),getDataService:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.post("".concat(d.a.endpointTarget,"/metrics/totalServices"),{branch:this.branch,dates:this.dateFilter},this.configHeader);case 3:e=t.sent,this.totalServices=e.data.total,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getSales:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("".concat(d.a.endpointTarget,"/metrics/compareSales/").concat(this.branch),this.configHeader);case 3:e=t.sent,this.thisMonth.totalSale=e.data.data.thisMonth,this.prevMonth.totalSale=e.data.data.prevMonth,this.percentTotalSale=this.thisMonth.totalSale>0?(this.thisMonth.totalSale-this.prevMonth.totalSale)/this.thisMonth.totalSale*100:0,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),getItems:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("".concat(d.a.endpointTarget,"/metrics/compareItems/").concat(this.branch),this.configHeader);case 3:e=t.sent,this.thisMonth.totalItems=e.data.data.thisMonth,this.prevMonth.totalItems=e.data.data.prevMonth,this.percentTotalItems=this.thisMonth.totalItems>0?(this.thisMonth.totalItems-this.prevMonth.totalItems)/this.thisMonth.totalItems*100:0,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),getPayData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("".concat(d.a.endpointTarget,"/metrics/totalsTypesPays/").concat(this.branch),this.configHeader);case 3:e=t.sent,this.paysData=e.data.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){u["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),validRoute:function(t,e){for(var a=0;a<this.auth.length;a++){var n=this.auth[a];if(n.ruta==t)for(var r=0;r<n.validaciones.length;r++)if(e==n.validaciones[r])return!0}}}}),st=ot,it=(a("2b56"),Object(U["a"])(st,n,r,!1,null,null,null));e["default"]=it.exports},"73cf":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-5 col-md-7"},[a("div",{staticClass:"card bg-secondary shadow border-0"},[t._m(0),a("div",{staticClass:"card-body px-lg-5 py-lg-5"},[t._m(1),a("form",{attrs:{role:"form"}},[a("base-input",{staticClass:"input-group-alternative mb-3",attrs:{placeholder:"Name","addon-left-icon":"ni ni-hat-3"},model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}}),a("base-input",{staticClass:"input-group-alternative mb-3",attrs:{placeholder:"Email","addon-left-icon":"ni ni-email-83"},model:{value:t.model.email,callback:function(e){t.$set(t.model,"email",e)},expression:"model.email"}}),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Password",type:"password","addon-left-icon":"ni ni-lock-circle-open"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}}),t._m(2),a("div",{staticClass:"row my-4"},[a("div",{staticClass:"col-12"},[a("base-checkbox",{staticClass:"custom-control-alternative"},[a("span",{staticClass:"text-muted"},[t._v("I agree with the "),a("a",{attrs:{href:"#!"}},[t._v("Privacy Policy")])])])],1)]),a("div",{staticClass:"text-center"},[a("base-button",{staticClass:"my-4",attrs:{type:"primary"}},[t._v("Create account")])],1)],1)])]),a("div",{staticClass:"row mt-3"},[t._m(3),a("div",{staticClass:"col-6 text-right"},[a("router-link",{staticClass:"text-light",attrs:{to:"/login"}},[a("small",[t._v("Login into your account")])])],1)])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-transparent pb-5"},[a("div",{staticClass:"text-muted text-center mt-2 mb-3"},[a("small",[t._v("Sign up with")])]),a("div",{staticClass:"btn-wrapper text-center"},[a("a",{staticClass:"btn btn-neutral btn-icon",attrs:{href:"#"}},[a("span",{staticClass:"btn-inner--icon"},[a("img",{attrs:{src:"img/icons/common/github.svg"}})]),a("span",{staticClass:"btn-inner--text"},[t._v("Github")])]),a("a",{staticClass:"btn btn-neutral btn-icon",attrs:{href:"#"}},[a("span",{staticClass:"btn-inner--icon"},[a("img",{attrs:{src:"img/icons/common/google.svg"}})]),a("span",{staticClass:"btn-inner--text"},[t._v("Google")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center text-muted mb-4"},[a("small",[t._v("Or sign up with credentials")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-muted font-italic"},[a("small",[t._v("password strength: "),a("span",{staticClass:"text-success font-weight-700"},[t._v("strong")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("a",{staticClass:"text-light",attrs:{href:"#"}},[a("small",[t._v("Forgot password?")])])])}],o={name:"register",data:function(){return{model:{name:"",email:"",password:""}}}},s=o,i=a("2877"),l=Object(i["a"])(s,n,r,!1,null,null,null);e["default"]=l.exports},7677:function(t,e,a){"use strict";var n=a("2992"),r=a.n(n);r.a},"8840d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"pb-6 pb-8 pt-5 pt-md-8",attrs:{type:"gradient-success"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-lg-6"},[a("stats-card",{staticClass:"mb-4 mb-xl-0",attrs:{title:"Total traffic",type:"gradient-red","sub-title":"350,897",icon:"ni ni-active-40"}},[a("template",{slot:"footer"},[a("span",{staticClass:"text-success mr-2"},[a("i",{staticClass:"fa fa-arrow-up"}),t._v(" 3.48%")]),a("span",{staticClass:"text-nowrap"},[t._v("Since last month")])])],2)],1),a("div",{staticClass:"col-xl-3 col-lg-6"},[a("stats-card",{staticClass:"mb-4 mb-xl-0",attrs:{title:"Total traffic",type:"gradient-orange","sub-title":"2,356",icon:"ni ni-chart-pie-35"}},[a("template",{slot:"footer"},[a("span",{staticClass:"text-success mr-2"},[a("i",{staticClass:"fa fa-arrow-up"}),t._v(" 12.18%")]),a("span",{staticClass:"text-nowrap"},[t._v("Since last month")])])],2)],1),a("div",{staticClass:"col-xl-3 col-lg-6"},[a("stats-card",{staticClass:"mb-4 mb-xl-0",attrs:{title:"Sales",type:"gradient-green","sub-title":"924",icon:"ni ni-money-coins"}},[a("template",{slot:"footer"},[a("span",{staticClass:"text-danger mr-2"},[a("i",{staticClass:"fa fa-arrow-down"}),t._v(" 5.72%")]),a("span",{staticClass:"text-nowrap"},[t._v("Since last month")])])],2)],1),a("div",{staticClass:"col-xl-3 col-lg-6"},[a("stats-card",{staticClass:"mb-4 mb-xl-0",attrs:{title:"Performance",type:"gradient-info","sub-title":"49,65%",icon:"ni ni-chart-bar-32"}},[a("template",{slot:"footer"},[a("span",{staticClass:"text-success mr-2"},[a("i",{staticClass:"fa fa-arrow-up"}),t._v(" 54.8%")]),a("span",{staticClass:"text-nowrap"},[t._v("Since last month")])])],2)],1)])]),a("div",{staticClass:"container-fluid mt--7"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("projects-table",{attrs:{title:"Light Table"}})],1)]),a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col"},[a("projects-table",{attrs:{type:"dark",title:"Dark Table"}})],1)])])],1)},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card shadow",class:"dark"===t.type?"bg-default":""},[a("div",{staticClass:"card-header border-0",class:"dark"===t.type?"bg-transparent":""},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col"},[a("h3",{staticClass:"mb-0",class:"dark"===t.type?"text-white":""},[t._v("\n          "+t._s(t.title)+"\n        ")])]),a("div",{staticClass:"col text-right"},[a("base-button",{attrs:{type:"primary",size:"sm"}},[t._v("See all")])],1)])]),a("div",{staticClass:"table-responsive"},[a("base-table",{staticClass:"table align-items-center table-flush",class:"dark"===t.type?"table-dark":"",attrs:{"thead-classes":"dark"===t.type?"thead-dark":"thead-light","tbody-classes":"list",data:t.tableData},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("th",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("a",{staticClass:"avatar rounded-circle mr-3",attrs:{href:"#"}},[a("img",{attrs:{alt:"Image placeholder",src:n.img}})]),a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(n.title))])])])]),a("td",{staticClass:"budget"},[t._v("\n          "+t._s(n.budget)+"\n        ")]),a("td",[a("badge",{staticClass:"badge-dot mr-4",attrs:{type:n.statusType}},[a("i",{class:"bg-"+n.statusType}),a("span",{staticClass:"status"},[t._v(t._s(n.status))])])],1),a("td",[a("div",{staticClass:"avatar-group"},[a("a",{staticClass:"avatar avatar-sm rounded-circle",attrs:{href:"#","data-toggle":"tooltip","data-original-title":"Ryan Tompson"}},[a("img",{attrs:{alt:"Image placeholder",src:"img/theme/team-1-800x800.jpg"}})]),a("a",{staticClass:"avatar avatar-sm rounded-circle",attrs:{href:"#","data-toggle":"tooltip","data-original-title":"Romina Hadid"}},[a("img",{attrs:{alt:"Image placeholder",src:"img/theme/team-2-800x800.jpg"}})]),a("a",{staticClass:"avatar avatar-sm rounded-circle",attrs:{href:"#","data-toggle":"tooltip","data-original-title":"Alexander Smith"}},[a("img",{attrs:{alt:"Image placeholder",src:"img/theme/team-3-800x800.jpg"}})]),a("a",{staticClass:"avatar avatar-sm rounded-circle",attrs:{href:"#","data-toggle":"tooltip","data-original-title":"Jessica Doe"}},[a("img",{attrs:{alt:"Image placeholder",src:"img/theme/team-4-800x800.jpg"}})])])]),a("td",[a("div",{staticClass:"d-flex align-items-center"},[a("span",{staticClass:"completion mr-2"},[t._v(t._s(n.completion)+"%")]),a("div",[a("base-progress",{staticClass:"pt-0",attrs:{type:n.statusType,"show-percentage":!1,value:n.completion}})],1)])]),a("td",{staticClass:"text-right"},[a("base-dropdown",{staticClass:"dropdown",attrs:{position:"right"}},[a("a",{staticClass:"btn btn-sm btn-icon-only text-light",attrs:{slot:"title",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},slot:"title"},[a("i",{staticClass:"fas fa-ellipsis-v"})]),[a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Action")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Another action")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Something else here")])]],2)],1)]}}])},[a("template",{slot:"columns"},[a("th",[t._v("Project")]),a("th",[t._v("Budget")]),a("th",[t._v("Status")]),a("th",[t._v("Users")]),a("th",[t._v("Completion")]),a("th")])],2)],1),a("div",{staticClass:"card-footer d-flex justify-content-end",class:"dark"===t.type?"bg-transparent":""},[a("base-pagination",{attrs:{total:"30"}})],1)])},s=[],i={name:"projects-table",props:{type:{type:String},title:String},data:function(){return{tableData:[{img:"img/theme/bootstrap.jpg",title:"Argon Design System",budget:"$2500 USD",status:"pending",statusType:"warning",completion:60},{img:"img/theme/angular.jpg",title:"Angular Now UI Kit PRO",budget:"$1800 USD",status:"completed",statusType:"success",completion:100},{img:"img/theme/sketch.jpg",title:"Black Dashboard",budget:"$3150 USD",status:"delayed",statusType:"danger",completion:72},{img:"img/theme/react.jpg",title:"React Material Dashboard",budget:"$4400 USD",status:"on schedule",statusType:"info",completion:90},{img:"img/theme/vue.jpg",title:"Vue Paper UI Kit PRO",budget:"$2200 USD",status:"completed",statusType:"success",completion:100}]}}},l=i,c=a("2877"),d=Object(c["a"])(l,o,s,!1,null,null,null),u=d.exports,h={name:"tables",components:{ProjectsTable:u}},p=h,m=Object(c["a"])(p,n,r,!1,null,null,null);e["default"]=m.exports},"9dc9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-4 pt-2 pt-lg-4 d-flex align-items-center",staticStyle:{"min-height":"50px","background-image":"url(img/theme/box.png)","background-size":"cover","background-position":"center 40%"}},[a("span",{staticClass:"mask  opacity-7",staticStyle:{"background-color":"#172b4d !important"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"text-absolute"},[a("p",{staticClass:"mb-0 display-2 text-white"},[t._v("Caja")]),a("p",{staticClass:"text-white hideText"},[t._v("Sección dedicada a la administración de sus empleados. Donde podrá obtener detalle de sus ventas y comisiones correspondientes.")])]),t.cashFunds.inspector?[a("base-button",{staticClass:"float-right mt-7 mr-2",attrs:{size:"sm",disabled:!t.validRoute("caja","fondo"),type:"success"},on:{click:function(e){t.modals.modal2=!0}}},[a("i",{staticClass:"fa fa-archive mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.2em"}}),t._v("\n                        Fondo\n                    ")])]:[a("base-button",{staticClass:"float-right mt-7 mr-2",attrs:{size:"sm",disabled:!t.validRoute("caja","cerrar"),type:"success"},on:{click:t.daySalesClose}},[a("i",{staticClass:"fa fa-archive mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.2em"}}),t._v("\n                        Cierre\n                    ")])]],2)])]),a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),t.validRoute("caja","visualizar")?a("h2",[t._v("Sucursal sin cierres registrados.")]):a("h2",[t._v("No tiene los permisos para visualizar cierres.")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columns,loading:t.progress,"data-source":t.closing,scroll:t.getScreen},scopedSlots:t._u([{key:"manual-total",fn:function(e,a){return[t._v("\n                "+t._s(t.formatPrice(t.totalFind(a.manual)))+"\n            ")]}},{key:"system-total",fn:function(e,a){return[t._v("\n                "+t._s(t.formatPrice(t.totalFind(a.system)))+"\n            ")]}},{key:"diff-total",fn:function(e,a){return[t._v("\n                "+t._s(t.formatPrice(t.totalFind(a.system)-t.totalFind(a.manual)))+"\n            ")]}},{key:"format-date",fn:function(e,a){return[t._v("\n                "+t._s(t._f("formatDate")(a.createdAt))+"\n            ")]}},{key:"Admin",fn:function(e,n){return[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Reporte")])]),t.validRoute("caja","reporte")?a("base-button",{attrs:{size:"sm",type:"default",icon:"fas fa-clipboard"},on:{click:function(e){return t.dataReport(n._id)}}}):a("base-button",{attrs:{size:"sm",type:"default",icon:"fas fa-clipboard",disabled:""}})],2)]}}])})],1),a("modal",{attrs:{show:t.modals.modal1,gradient:t.modals.type,"modal-classes":"modal-danger modal-dialog-centered"},on:{"update:show":function(e){return t.$set(t.modals,"modal1",e)}}},[a("div",{staticClass:"py-3 text-center"},[a("i",{class:t.modals.icon}),a("h1",{staticClass:"heading mt-5"},[t._v(t._s(t.modals.message))])])]),a("modal",{attrs:{show:t.modals.modal2,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(e){return t.$set(t.modals,"modal2",e)}}},[a("h4",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("\n               Registrar monto de apertura\n           ")]),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white","body-classes":"px-lg-2 py-lg-2"}},[[a("form",{attrs:{role:"form"}},[a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Nombre el cajero","addon-left-icon":"ni ni-circle-08"},on:{keyup:function(e){return t.validRegister(3)}},model:{value:t.cashFunds.cashName,callback:function(e){t.$set(t.cashFunds,"cashName",e)},expression:"cashFunds.cashName"}}),a("currency-input",{staticClass:"form-control mb-3",staticStyle:{"margin-top":"-10px"},attrs:{locale:"de","addon-left-icon":"ni ni-money-coins"},on:{keyup:function(e){return t.validRegister(3)}},model:{value:t.cashFunds.cashAmount,callback:function(e){t.$set(t.cashFunds,"cashAmount",e)},expression:"cashFunds.cashAmount"}}),t.cashFunds.valid?a("base-button",{attrs:{type:"default"},on:{click:t.registerFund}},[t._v("\n                        Ingresar fondo\n                    ")]):a("base-button",{attrs:{type:"default",disabled:""}},[t._v("\n                        Ingresar fondo\n                    ")])],1)]],2)],1),a("modal",{attrs:{show:t.modals.modal3,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(e){return t.$set(t.modals,"modal3",e)}}},[a("h4",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("\n               Monto de egreso de la caja\n           ")]),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white","body-classes":"px-lg-2 py-lg-2"}},[[a("form",{attrs:{role:"form"}},[a("currency-input",{staticClass:"form-control mb-3",staticStyle:{"margin-top":"-10px"},attrs:{locale:"de","addon-left-icon":"ni ni-money-coins"},on:{keyup:function(e){return t.validRegister(1)}},model:{value:t.egressManual,callback:function(e){t.egressManual=e},expression:"egressManual"}}),a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Nombre el cajero","addon-left-icon":"ni ni-circle-08"},on:{keyup:function(e){return t.validRegister(1)}},model:{value:t.closeIdentification,callback:function(e){t.closeIdentification=e},expression:"closeIdentification"}}),t.validEgress?a("base-button",{attrs:{type:"default"},on:{click:function(e){t.modals.modal4=!0}}},[t._v("Continuar")]):a("base-button",{attrs:{type:"default",disabled:""},on:{click:function(e){t.modals.modal4=!0}}},[t._v("Continuar")])],1)]],2)],1),a("modal",{attrs:{show:t.modals.modal4,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(e){return t.$set(t.modals,"modal4",e)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("a-spin",{attrs:{spinning:t.spinningClose}},[a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-muted text-center mb-3",staticStyle:{"margin-top":"-15% !important"}},[a("h3",[t._v("Ingrese los montos de las ventas del dia")])])],[a("form",{staticClass:"row",attrs:{role:"form"}},[a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-group"},[t._v("Fondo de caja")]),a("currency-input",{staticClass:"form-control mb-3",staticStyle:{"margin-top":"-10px"},attrs:{locale:"de","addon-left-icon":"ni ni-money-coins",readonly:""},model:{value:t.getFund,callback:function(e){t.getFund=e},expression:"getFund"}})],1),a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-group"},[t._v("Efectivo")]),a("currency-input",{staticClass:"form-control mb-3",staticStyle:{"margin-top":"-10px"},attrs:{locale:"de","addon-left-icon":"ni ni-money-coins"},model:{value:t.cash,callback:function(e){t.cash=e},expression:"cash"}})],1),t._l(t.typesPayManual,(function(e){return["Efectivo"!=e.type?a("div",{key:e.type,staticClass:"col-6"},[a("label",{staticClass:"form-group"},[t._v(t._s(e.type))]),a("currency-input",{staticClass:"form-control mb-3",staticStyle:{"margin-top":"-10px"},attrs:{locale:"de","addon-left-icon":"ni ni-money-coins"},model:{value:e.total,callback:function(a){t.$set(e,"total",a)},expression:"type.total"}})],1):t._e()]}))],2),a("base-button",{staticClass:"float-right",attrs:{type:"default"},on:{click:t.closeFinally}},[t._v("Finalizar cierre")])]],2)],1)],1)],1)},r=[],o=(a("ac6a"),a("7514"),a("6b54"),a("a481"),a("96cf"),a("3b8d")),s=a("bd86"),i=a("bc3a"),l=a.n(i),c=a("41cb"),d=a("a5e9"),u=a.n(d),h=a("04e1"),p=a.n(h),m=a("8055"),f=a.n(m),g=a("e366"),v=a("12f9"),b=a("ef34"),y=a("bb36"),x={mixins:[b["a"],y["a"]],components:{VueBootstrap4Table:v["a"]},data:function(){var t,e=this;return{auth:[],socket:f()(u.a.endpointTarget),configHeader:{headers:{"x-database-connect":u.a.database,"x-access-token":localStorage.userToken}},cash:0,modals:{modal1:!1,modal2:!1,modal3:!1,modal4:!1,message:"",icon:"",type:""},spinningClose:!1,columns:[{title:"Fecha",dataIndex:"createdAt",key:"createdAt",scopedSlots:{customRender:"format-date"},defaultSortOrder:"descend",sorter:function(t,e){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()},ellipsis:!0},{title:"Encargado del cierre",dataIndex:"closerName",key:"closerName",ellipsis:!0},{title:"Total manual",dataIndex:"manual",key:"manual",scopedSlots:{customRender:"manual-total"},sorter:function(t,a){return e.totalFind(t.manual)-e.totalFind(a.manual)},ellipsis:!0},{title:"Total sistema",dataIndex:"system",key:"system",scopedSlots:{customRender:"system-total"},sorter:function(t,a){return e.totalFind(t.system)-e.totalFind(a.system)},ellipsis:!0},{title:"Diferencia",dataIndex:"branch",key:"branch",scopedSlots:{customRender:"diff-total"},sorter:function(t,a){return e.totalFind(t.system)-e.totalFind(t.manual)-(e.totalFind(a.system)-e.totalFind(a.manual))},ellipsis:!0},{title:"Reportes",dataIndex:"_id",key:"_id",scopedSlots:{customRender:"Admin"},ellipsis:!0}],config:(t={card_title:"Tabla de cierres",checkbox_rows:!1,rows_selectable:!0,highlight_row_hover_color:"rgba(238, 238, 238, 0.623)"},Object(s["a"])(t,"rows_selectable",!0),Object(s["a"])(t,"per_page_options",[5,10,20,30,40,50,80,100]),Object(s["a"])(t,"global_search",{placeholder:"Enter custom Search text",visibility:!1,case_sensitive:!1}),Object(s["a"])(t,"show_refresh_button",!1),Object(s["a"])(t,"show_reset_button",!1),Object(s["a"])(t,"selected_rows_info",!0),Object(s["a"])(t,"preservePageOnDataChange",!0),Object(s["a"])(t,"pagination_info",!0),t),classes:{table:"table-bordered table-striped"},closing:[],fund:0,checker:"",cashFunds:{inspector:!1,cashName:"",cashAmount:0,valid:!1},getFund:0,egressSystem:0,cashSystem:0,debitSystem:0,creditSystem:0,transferSystem:0,otherSystem:0,totalSystem:0,egressManual:0,fundManual:0,cashManual:0,debitManual:0,creditManual:0,transferManual:0,othersManual:0,closeIdentification:"",validFinally:!1,validEgress:!1,branch:"",branchName:"",typesPaySystem:[],typesPayManual:[]}},created:function(){this.getToken(),this.getBranch()},methods:{getBranch:function(){this.branchName=localStorage.branchName,this.branch=localStorage.branch,this.firstNameUser=localStorage.firstname,this.lastNameUser=localStorage.lastname,this.imgUser=localStorage.imgUser,this.idUser=localStorage._id,this.getClosing(),this.getFunds()},getToken:function(){var t=localStorage.userToken;if(t.length>0){var e=p()(t);this.auth=e.access}},getClosing:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get(u.a.endpointTarget+"/sales/Closing/"+this.branch,this.configHeader);case 3:e=t.sent,"ok"==e.data.status&&(this.validRoute("caja","visualizar")?this.closing=e.data.data:this.closing=[]),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){c["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return"$ "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},validRegister:function(t){3==t?this.cashFunds.valid=""!=this.cashFunds.cashName:this.validEgress=""!=this.closeIdentification},totalFind:function(t){var e=t.find((function(t){return"Total"==t.type}));return e.total},registerFund:function(){var t=this;l.a.post(u.a.endpointTarget+"/sales/registerFund",{userRegister:this.cashFunds.cashName,amount:this.cashFunds.cashAmount,branch:this.branch},this.configHeader).then((function(e){"ok"==e.data.status&&(t.modals.modal2=!1,t.$swal({icon:"success",title:"Ya puede ingresar ventas",showConfirmButton:!1,timer:1500}),t.cashFunds.cashName="",t.cashFunds.cashAmount="",t.getFunds(),t.cashFunds.inspector=!1,l.a.post(u.a.endpointTarget+"/notifications",{branch:t.branch,userName:t.firstNameUser+" "+t.lastNameUser,userImage:localStorage.imageUser,detail:"Registro un fondo de caja",link:"Caja"},t.configHeader).then((function(e){t.socket.emit("sendNotification",e.data.data)})))})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){c["a"].push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},dataReport:function(t){localStorage.setItem("reportID",t),c["a"].push({path:"/reporteCierre"})},getFunds:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get(u.a.endpointTarget+"/sales/getFund/"+this.branch,this.configHeader);case 3:e=t.sent,"ok"==e.data.status?(this.fund=e.data.data.amount,this.checker=e.data.data.userRegister,this.getFund=e.data.data.amount,this.egressSystem=e.data.data.amount,""==this.checker&&(this.cashFunds.inspector=!0,this.fund=0,this.checker="No hay cajero registrado")):(this.cashFunds.inspector=!0,this.fund=0,this.checker="No hay cajero registrado"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){c["a"].push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),daySalesClose:function(){var t=this;l.a.get(u.a.endpointTarget+"/sales/getClosingDay/"+this.branch,this.configHeader).then((function(e){"bad"==e.data.status?t.$swal({icon:"error",title:"No puede hacer cierre sin ventas.",showConfirmButton:!1,timer:1500}):(t.typesPaySystem=e.data.data.totals,t.typesPayManual=e.data.data.types,t.modals.modal3=!0)})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){c["a"].push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},closeFinally:function(){var t=this;this.spinningClose=!0;var e=this.typesPayManual.find((function(t){return null==t.total}));if(void 0==e){var a=0;this.typesPayManual.forEach((function(t){a+=t.total})),a+=this.cash,this.typesPayManual.push({type:"Total",total:a}),l.a.post(u.a.endpointTarget+"/sales/closeDay/"+this.closeIdentification,{system:this.typesPaySystem,manual:this.typesPayManual,entryFund:this.getFund,cash:this.cash,egressManual:this.egressManual,branch:this.branch},this.configHeader).then((function(e){"ok"==e.data.status?(t.modals.modal4=!1,t.$swal({icon:"success",title:"Cierre hecho con éxito",showConfirmButton:!1,timer:1500}),t.getClosing(),t.modals.modal3=!1,t.modals.modal4=!1,t.spinningClose=!1,t.cashFunds.inspector=!0,l.a.post(u.a.endpointTarget+"/notifications",{branch:t.branch,userName:t.firstNameUser+" "+t.lastNameUser,userImage:localStorage.imageUser,detail:"Hizo un cierre de caja",link:"Caja"}).then((function(e){t.socket.emit("sendNotification",e.data.data)}))):(t.$swal({icon:"error",title:"Problemas al hacer cierre.",showConfirmButton:!1,timer:1500}),t.spinningClose=!1)})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){c["a"].push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}else this.$swal({icon:"error",title:"No puede dejar campos en blanco",showConfirmButton:!1,timer:1500})},validRoute:function(t,e){for(var a=0;a<this.auth.length;a++){var n=this.auth[a];if(n.ruta==t)for(var r=0;r<n.validaciones.length;r++)if(e==n.validaciones[r])return!0}}},mounted:function(){var t=this;g["a"].$on("changeBranch",(function(e){t.getBranch()}))},computed:{getScreen:function(){return screen.width<780?{x:"calc(700px + 50%)",y:240}:{y:"auto"}}}},w=x,C=(a("a09c"),a("2877")),k=Object(C["a"])(w,n,r,!1,null,null,null);e["default"]=k.exports},a09c:function(t,e,a){"use strict";var n=a("6846"),r=a.n(n);r.a},a55b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[t.ifStart?a("div",{staticClass:"col-lg-12 col-md-12"},[a("div",{staticClass:"card bg-secondary shadow border-0"},[a("div",{staticClass:"card-body px-lg-5 pt-0 pb-4"},[t._m(0),a("div",{staticClass:"stepsBar"},[a("a-steps",[a("a-step",{attrs:{status:t.status.branch,title:"Sucursal"}},[a("a-icon",{attrs:{slot:"icon",type:"process"==t.status.branch?"loading":"shop"},slot:"icon"})],1),a("a-step",{attrs:{status:t.status.date,title:"Agenda"}},[a("a-icon",{attrs:{slot:"icon",type:"process"==t.status.date?"loading":"calendar"},slot:"icon"})],1),a("a-step",{attrs:{status:t.status.sale,title:"Ventas"}},[a("a-icon",{attrs:{slot:"icon",type:"process"==t.status.sale?"loading":"credit-card"},slot:"icon"})],1),a("a-step",{attrs:{status:t.status.final,title:"Paso final"}},[a("a-icon",{attrs:{slot:"icon",type:"process"==t.status.final?"loading":"smile-o"},slot:"icon"})],1)],1)],1),a("div",{staticClass:"stepsBox"},["branch"==t.process?a("div",{staticClass:"branch"},[a("h1",{staticClass:"text-uppercase text-center mb-4 mt-1"},[t._v("\n                            ¡Bienvenido!\n                        ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-sm-12"},[a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Este sería el nombre de su primera sucursal, de tener mas puede registrarla ya pasado este registro inicial.")])]),a("a-icon",{staticClass:"ml-2",staticStyle:{cursor:"pointer","vertical-align":"0.05em"},attrs:{type:"question-circle"}})],2),a("label",{staticClass:"ml-2",attrs:{for:"credentials"}},[t._v("\n                                    Nombre de la sucursal\n                                ")]),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Nombre de la sucursal","addon-left-icon":"ni ni-shop",valid:t.modelStart.businessName.length>=4},model:{value:t.modelStart.businessName,callback:function(e){t.$set(t.modelStart,"businessName",e)},expression:"modelStart.businessName"}})],1),a("div",{staticClass:"col-md-6 col-sm-12 row pr-0"},[a("label",{staticClass:"ml-4 mb-0 pb-0 w-100",staticStyle:{"margin-bottom":"-20px !important"},attrs:{for:"credentials"}},[t._v("\n                                    Número de contacto\n                                ")]),a("div",{staticClass:"col-12 pl-3 pr-0 mt-0 pt-0"},[a("VuePhoneNumberInput",{attrs:{"default-country-code":"CL",translations:{countrySelectorLabel:"Código de país",countrySelectorError:"Elije un país",phoneNumberLabel:"Número de teléfono",example:"Ejemplo :"}},on:{update:function(e){t.phoneData=e}},model:{value:t.modelStart.businessPhone,callback:function(e){t.$set(t.modelStart,"businessPhone",e)},expression:"modelStart.businessPhone"}})],1)]),a("div",{staticClass:"col-md-6 col-sm-12"},[a("a-tooltip",[a("template",{slot:"title"},[t._v("\n                                        Debe ser un correo valido\n                                    ")]),a("a-icon",{staticClass:"ml-2",staticStyle:{cursor:"pointer","vertical-align":"0.05em"},attrs:{type:"question-circle"}})],2),a("label",{staticClass:"ml-2",attrs:{for:"branch"}},[t._v("\n                                    Correo\n                                ")]),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Correo de la sucursal","addon-left-icon":"ni ni-email-83",valid:t.verifyEmailVar},on:{keyup:function(e){return t.verifyEmail()}},model:{value:t.modelStart.email,callback:function(e){t.$set(t.modelStart,"email",e)},expression:"modelStart.email"}})],1),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Luego de crear la sucursal podras agregar tu logo en configuraciones")])]),a("div",{staticClass:"col-md-6 col-sm-12"},[a("label",{staticClass:"ml-2",attrs:{for:"branch"}},[t._v("\n                                        Logo de la sucursal\n                                    ")]),a("br"),a("input",{ref:"file",staticClass:"form-control input-group-alternative",attrs:{type:"file",id:"fileProfile",disabled:"",placeholder:"seleccione logo"},on:{change:function(e){return t.handleFileUpload()}}})])],2),a("div",{staticClass:"col-md-6 col-sm-12"},[a("label",{staticClass:"ml-2 w-100",attrs:{for:"credentials"}},[t._v("\n                                    Dirección del local\n                                ")]),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Dirección","addon-left-icon":"fa fa-location-arrow",valid:t.modelStart.businessLocation.length>=2},model:{value:t.modelStart.businessLocation,callback:function(e){t.$set(t.modelStart,"businessLocation",e)},expression:"modelStart.businessLocation"}})],1),a("div",{staticClass:"col-md-6 col-sm-12"},[a("label",{staticClass:"ml-2 w-100",attrs:{for:"credentials"}},[t._v("\n                                    Tipo de negocio\n                                ")]),a("a-select",{staticClass:"input-group-alternative",staticStyle:{width:"100%",height:"43px"},attrs:{"show-search":"",placeholder:"Seleccionar negocio","option-filter-prop":"children",size:"large","filter-option":t.filterOption},on:{change:t.handleChange},model:{value:t.modelStart.businessType,callback:function(e){t.$set(t.modelStart,"businessType",e)},expression:"modelStart.businessType"}},[a("a-select-option",{attrs:{value:"Spa de uñas"}},[t._v("\n                                        Spa de uñas\n                                    ")]),a("a-select-option",{attrs:{value:"Barberia"}},[t._v("\n                                        Barberia\n                                    ")]),a("a-select-option",{attrs:{value:"Peluqueria"}},[t._v("\n                                        Peluquería\n                                    ")])],1)],1)],1),a("base-button",{staticClass:"float-right mt-2",attrs:{outline:"",type:"default"},on:{click:function(e){return t.nextStep("branch")}}},[t._v("\n                            Siguiente\n                        ")])],1):"date"==t.process?a("div",{staticClass:"data"},[a("h1",{staticClass:"text-uppercase text-center"},[t._v("\n                            Horario\n                        ")]),a("hr",{staticClass:"w-50"}),a("h3",{staticClass:"text-weigth-bold text-center"},[a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Seleccione los días y horarios de apertura y cierre de su negocio.")])]),a("a-icon",{staticClass:"mr-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em"},attrs:{type:"question-circle"}})],2),t._v("\n                            Configura tu horario\n                        ")],1),a("div",{staticClass:"row pl-8 pr-4"},[a("div",{staticClass:"col-2"},[a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.monday,size:"sm"},on:{click:function(e){return t.salectDay("monday")}}},[t._v("\n                                    Lunes\n                                ")]),a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.tuesday,size:"sm"},on:{click:function(e){return t.salectDay("tuesday")}}},[t._v("\n                                    Martes\n                                ")]),a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.wednesday,size:"sm"},on:{click:function(e){return t.salectDay("wednesday")}}},[t._v("\n                                    Miércoles\n                                ")]),a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.thursday,size:"sm"},on:{click:function(e){return t.salectDay("thursday")}}},[t._v("\n                                    Jueves\n                                ")]),a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.friday,size:"sm"},on:{click:function(e){return t.salectDay("friday")}}},[t._v("\n                                    Viernes\n                                ")]),a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.saturday,size:"sm"},on:{click:function(e){return t.salectDay("saturday")}}},[t._v("\n                                    Sábado\n                                ")]),a("base-button",{staticClass:"mt-2 w-100",attrs:{type:t.days.sunday,size:"sm"},on:{click:function(e){return t.salectDay("sunday")}}},[t._v("\n                                    Domingo\n                                ")])],1),a("div",{staticClass:"col-10"},[a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[1].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[1].start,callback:function(e){t.$set(t.modelStart.blockHour[1],"start",e)},expression:"modelStart.blockHour[1].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[1].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[1].end,callback:function(e){t.$set(t.modelStart.blockHour[1],"end",e)},expression:"modelStart.blockHour[1].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[2].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[2].start,callback:function(e){t.$set(t.modelStart.blockHour[2],"start",e)},expression:"modelStart.blockHour[2].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[2].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[2].end,callback:function(e){t.$set(t.modelStart.blockHour[2],"end",e)},expression:"modelStart.blockHour[2].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[3].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[3].start,callback:function(e){t.$set(t.modelStart.blockHour[3],"start",e)},expression:"modelStart.blockHour[3].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[3].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[3].end,callback:function(e){t.$set(t.modelStart.blockHour[3],"end",e)},expression:"modelStart.blockHour[3].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[4].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[4].start,callback:function(e){t.$set(t.modelStart.blockHour[4],"start",e)},expression:"modelStart.blockHour[4].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[4].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[4].end,callback:function(e){t.$set(t.modelStart.blockHour[4],"end",e)},expression:"modelStart.blockHour[4].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[5].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[5].start,callback:function(e){t.$set(t.modelStart.blockHour[5],"start",e)},expression:"modelStart.blockHour[5].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[5].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[5].end,callback:function(e){t.$set(t.modelStart.blockHour[5],"end",e)},expression:"modelStart.blockHour[5].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[6].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[6].start,callback:function(e){t.$set(t.modelStart.blockHour[6],"start",e)},expression:"modelStart.blockHour[6].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[6].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[6].end,callback:function(e){t.$set(t.modelStart.blockHour[6],"end",e)},expression:"modelStart.blockHour[6].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[0].status,placeholder:"Desde"},model:{value:t.modelStart.blockHour[0].start,callback:function(e){t.$set(t.modelStart.blockHour[0],"start",e)},expression:"modelStart.blockHour[0].start"}},t._l(t.fromArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1),a("a-select",{staticClass:"mx-2 mt-1 input-group-alternative",staticStyle:{width:"40%"},attrs:{disabled:1!=t.modelStart.blockHour[0].status,placeholder:"Hasta"},model:{value:t.modelStart.blockHour[0].end,callback:function(e){t.$set(t.modelStart.blockHour[0],"end",e)},expression:"modelStart.blockHour[0].end"}},t._l(t.toArray,(function(e){return a("a-select-option",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),1)],1)]),a("base-button",{staticClass:"float-left mt-3",attrs:{outline:"",type:"default"},on:{click:function(e){return t.prevStep("date")}}},[t._v("\n                            Anterior\n                        ")]),a("base-button",{staticClass:"float-right mt-3",attrs:{outline:"",type:"default"},on:{click:function(e){return t.nextStep("date")}}},[t._v("\n                            Siguiente\n                        ")])],1):"sale"==t.process?a("div",{staticClass:"data"},[a("h1",{staticClass:"text-uppercase text-center"},[t._v("\n                            Tipos de pago\n                        ")]),a("hr",{staticClass:"w-50"}),a("h3",{staticClass:"text-weigth-bold text-center"},[a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Para registrar un método de pago debes escribirlo, darle click en "),a("b",[t._v("ingresar")]),t._v(" o presionando la tecla "),a("b",[t._v("enter")]),t._v(".")])]),a("a-icon",{staticClass:"mr-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em"},attrs:{type:"question-circle"}})],2),t._v("\n                            Crea tus tipos de pago\n                        ")],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("label",{attrs:{for:"currency"}},[t._v("\n                                    Escriba su tipo de pago\n                                ")]),a("div",{staticClass:"row pr-2"},[a("div",{staticClass:"col-10 pr-0"},[a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Tipo de pago","addon-left-icon":"fa fa-plus"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.insertTypePay(e)}},model:{value:t.typePay,callback:function(e){t.typePay=e},expression:"typePay"}})],1),a("div",{staticClass:"col-2"},[a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Ingresar método de pago.")])]),a("base-button",{staticClass:"p-2 px-3 mt-1",attrs:{outline:"",type:"default"},on:{click:t.insertTypePay}},[a("a-icon",{staticStyle:{"vertical-align":"1px"},attrs:{type:"plus"}})],1)],2)],1)]),a("label",{staticClass:"mt-4",attrs:{for:"currency"}},[t._v("\n                                    Seleccione su moneda local\n                                ")]),a("a-select",{staticClass:"input-group-alternative",staticStyle:{width:"100%",height:"43px"},attrs:{"default-value":"CLP",size:"large"},on:{change:t.selectCurrency}},[a("a-select-option",{attrs:{value:"USD"}},[t._v("\n                                        USD\n                                    ")]),a("a-select-option",{attrs:{value:"EUR"}},[t._v("\n                                        EUR\n                                    ")]),a("a-select-option",{attrs:{value:"CLP"}},[t._v("\n                                        CLP\n                                    ")]),a("a-select-option",{attrs:{value:"COP"}},[t._v("\n                                        COP\n                                    ")]),a("a-select-option",{attrs:{value:"ARG"}},[t._v("\n                                        ARG\n                                    ")]),a("a-select-option",{attrs:{value:"VES"}},[t._v("\n                                        VES\n                                    ")])],1)],1),a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("p",[t._v("No se han agregado metodos de pago")])],1)]},proxy:!0}],null,!1,1870219394)},[a("div",{staticClass:"col-md-8 mt-4",staticStyle:{overflow:"hidden","overflow-y":"scroll","max-height":"200px"}},[a("a-list",{attrs:{size:"small",bordered:"","data-source":t.modelStart.typesPay},scopedSlots:t._u([{key:"renderItem",fn:function(e,n){return a("a-list-item",{},[t._v("\n                                            "+t._s(e)+" \n                                            "),"Efectivo"!=e?a("base-button",{staticClass:"float-right",staticStyle:{"margin-top":"-3px"},attrs:{outline:"",type:"default",size:"sm"},on:{click:function(e){return t.removeTypePay(n)}}},[a("i",{staticClass:"fa fa-times"})]):t._e()],1)}}],null,!1,3305845955)})],1)])],1),a("base-button",{staticClass:"float-left mt-3",attrs:{outline:"",type:"default"},on:{click:function(e){return t.prevStep("sale")}}},[t._v("\n                            Anterior\n                        ")]),a("base-button",{staticClass:"float-right mt-3",attrs:{outline:"",type:"default"},on:{click:function(e){return t.nextStep("sale")}}},[t._v("\n                            Siguiente\n                        ")])],1):"final"==t.process?a("div",{staticClass:"data"},[a("h1",{staticClass:"text-uppercase text-center"},[t._v("\n                            Usuario de ingreso\n                        ")]),a("hr",{staticClass:"w-50"}),a("h3",{staticClass:"text-weigth-bold text-center"},[a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Registra los datos con los que accederas al sistema.")])]),a("a-icon",{staticClass:"mr-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em"},attrs:{type:"question-circle"}})],2),t._v("\n                            Crear usuario de ingreso\n                        ")],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("label",{attrs:{for:"first_name"}},[t._v("\n                                    Nombres\n                                ")]),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Nombres","addon-left-icon":"ni ni-circle-08",valid:t.modelStart.first_name.length>=3},model:{value:t.modelStart.first_name,callback:function(e){t.$set(t.modelStart,"first_name",e)},expression:"modelStart.first_name"}})],1),a("div",{staticClass:"col-md-4"},[a("label",{attrs:{for:"last_name"}},[t._v("\n                                    Apellidos\n                                ")]),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Apellidos","addon-left-icon":"ni ni-circle-08",valid:t.modelStart.last_name.length>=3},model:{value:t.modelStart.last_name,callback:function(e){t.$set(t.modelStart,"last_name",e)},expression:"modelStart.last_name"}})],1),a("div",{staticClass:"col-md-4"},[a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Introducir las credenciales otorgadas. De no poseerse, comuníquese con soporte técnico.")])]),a("a-icon",{staticClass:"ml-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em"},attrs:{type:"question-circle"}})],2),a("label",{staticClass:"ml-2",attrs:{for:"credentials"}},[t._v("\n                                    Credencial de ingreso\n                                ")]),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Credencial","addon-left-icon":"ni ni-key-25",valid:20==t.modelStart.credential.length},model:{value:t.modelStart.credential,callback:function(e){t.$set(t.modelStart,"credential",e)},expression:"modelStart.credential"}})],1),a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"email"}},[t._v("\n                                    Correo\n                                ")]),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Correo",autocomplete:"off","addon-left-icon":"ni ni-email-83",valid:t.validEmail()},model:{value:t.modelStart.email,callback:function(e){t.$set(t.modelStart,"email",e)},expression:"modelStart.email"}})],1),a("div",{staticClass:"col-md-6 row pr-0"},[a("div",{staticClass:"col-10 pr-0"},[a("label",{attrs:{for:"password"}},[a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Su contraseña debe contener más de 8 caracteres.")])]),a("a-icon",{staticClass:"mr-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em"},attrs:{type:"question-circle"}})],2),t._v("\n                                        Contraseña\n                                    ")],1),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Contraseña",autocomplete:"off",type:t.typePass,"addon-left-icon":"fa fa-unlock-alt",valid:t.modelStart.password.length>8},model:{value:t.modelStart.password,callback:function(e){t.$set(t.modelStart,"password",e)},expression:"modelStart.password"}})],1),a("div",{staticClass:"col-2 pr-0"},[a("base-button",{staticStyle:{"margin-top":"30px",float:"right"},attrs:{outline:"",type:"default"},on:{click:t.viewPass}},[a("a-icon",{staticStyle:{"vertical-align":"1px"},attrs:{type:"eye"}})],1)],1)])]),a("base-button",{staticClass:"float-left mt-3",attrs:{outline:"",type:"default"},on:{click:function(e){return t.prevStep("final")}}},[t._v("\n                            Anterior\n                        ")]),a("base-button",{staticClass:"float-right mt-3",attrs:{outline:"",type:"default"},on:{click:function(e){return t.finishProcess()}}},[t._v("\n                            Finalizar\n                        ")])],1):t._e()])])]),t._m(1)]):a("div",{staticClass:"col-lg-5 col-md-7"},[a("div",{staticClass:"card bg-secondary shadow border-0"},[a("div",{staticClass:"card-body px-lg-5 py-lg-5"},[t._m(2),0==t.loading?a("form",{staticClass:"mt-3",attrs:{role:"form"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 p-1"},[a("base-input",{staticClass:"input-group-alternative w-100 mt-4 mb-3",attrs:{placeholder:"Correo","addon-left-icon":"ni ni-email-83"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()}},model:{value:t.model.email,callback:function(e){t.$set(t.model,"email",e)},expression:"model.email"}})],1),a("div",{staticClass:"col-10 p-1"},[a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Contraseña",type:t.typePass,"addon-left-icon":"ni ni-lock-circle-open"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()}},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),a("div",{staticClass:"col-2 p-1"},[a("base-button",{staticStyle:{float:"right"},attrs:{outline:"",type:"default"},on:{click:t.viewPass}},[a("a-icon",{staticStyle:{"vertical-align":"1px","font-size":"1.4em"},attrs:{type:"eye"}})],1)],1)]),a("div",{staticClass:"text-center"},[a("base-button",{staticClass:"my-2",attrs:{type:"default"},on:{click:function(e){return t.login()}}},[t._v("Ingresar")]),a("br"),a("a",{on:{click:function(e){t.modals.modal2=!0}}},[a("dt",[t._v("¿Has olvidado la contraseña?")])])],1)]):a("center",[a("a-spin",{staticClass:"mx-auto my-5 py-5"})],1)],1)]),t._m(3)]),a("modal",{attrs:{show:t.modals.modal2,"body-classes":"p-4","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(e){return t.$set(t.modals,"modal2",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-muted text-center mb-3",staticStyle:{"margin-top":"-15% !important"}},[a("a-icon",{staticStyle:{"font-size":"10em","margin-bottom":"30px"},attrs:{type:"lock"}}),a("h3",[t._v("¿Tienes problemas para entrar?")]),a("p",[a("em",[t._v("Introduce tu correo y te enviaremos un enlace para que vuelvas a entrar a tu cuenta.")])])],1)],[a("form",{attrs:{role:"form"}},[a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Correo electronico registrado","addon-left-icon":"ni ni-single-copy-04"},model:{value:t.emailRenew,callback:function(e){t.emailRenew=e},expression:"emailRenew"}}),a("div",{staticClass:"text-center"},[a("base-button",{attrs:{type:"primary",disabled:!t.emailRenew.includes("@")},on:{click:t.SendNewPass}},[t._v("Enviar enlace de acceso")])],1)],1)]],2)],1),a("modal",{attrs:{show:t.modals.modal,gradient:t.modals.type,"modal-classes":"modal-danger modal-dialog-centered"},on:{"update:show":function(e){return t.$set(t.modals,"modal",e)}}},[a("div",{staticClass:"py-3 text-center"},[a("i",{class:t.modals.icon}),a("h1",{staticClass:"heading mt-5"},[t._v(t._s(t.modals.message))])])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn-wrapper text-center"},[a("span",{staticClass:"mb-1"},[a("img",{staticStyle:{width:"30%"},attrs:{src:"img/brand/syswa-gestion.png"}})]),a("br"),a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-6"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn-wrapper text-center mb-4"},[a("span",{staticClass:"mb-5"},[a("img",{staticStyle:{width:"30%"},attrs:{src:"img/brand/syswa-isotipo.png"}})]),a("br"),a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-6"})])}],o=(a("a481"),a("7514"),a("6762"),a("2fdb"),a("96cf"),a("3b8d")),s=(a("ac4d"),a("8a81"),a("ac6a"),a("28a5"),a("bc3a")),i=a.n(s),l=a("41cb"),c=a("a5e9"),d=a.n(c),u=a("e366"),h=a("04e1"),p=a.n(h),m=a("7bec"),f=a.n(m),g=(a("4413"),a("bb36")),v={mixins:[g["a"]],name:"login",components:{VuePhoneNumberInput:f.a},data:function(){return{ifStart:!1,phoneData:{isValid:!1},days:{monday:"danger",tuesday:"danger",wednesday:"danger",thursday:"danger",friday:"danger",saturday:"danger",sunday:"danger"},status:{branch:"process",date:"wait",sale:"wait",final:"wait"},verifyEmailVar:!1,process:"branch",typePass:"password",typePay:"",modelStart:{email:"",password:"",first_name:"",last_name:"",credential:"",branch:"",businessName:"",businessPhoneCode:"+56",businessPhone:"",businessType:"Seleccione",businessLocation:"",blockHour:[{day:0,start:"10:00",end:"20:00",status:!1,time:0},{day:1,start:"10:00",end:"20:00",status:!1,time:0},{day:2,start:"10:00",end:"20:00",status:!1,time:0},{day:3,start:"10:00",end:"20:00",status:!1,time:0},{day:4,start:"10:00",end:"20:00",status:!1,time:0},{day:5,start:"10:00",end:"20:00",status:!1,time:0},{day:6,start:"10:00",end:"20:00",status:!1,time:0}],currency:"CLP",typesPay:["Efectivo"]},fromArray:["6:00","6:30","7:00","7:30","8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00"],toArray:["12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00"],model:{email:"",password:""},configHeader:{headers:{"x-database-connect":d.a.database}},modals:{modal:!1,modal2:!1,message:"",icon:"",type:""},emailRenew:"",loading:!1}},beforeCreate:function(){localStorage.removeItem("userToken"),localStorage.removeItem("firstname"),localStorage.removeItem("lastname"),localStorage.removeItem("image"),localStorage.removeItem("email"),localStorage.removeItem("imageUser"),localStorage.removeItem("status"),localStorage.removeItem("branch"),localStorage.removeItem("branchName")},created:function(){this.getBranches()},methods:{selectCurrency:function(t){this.currency=t},filterOption:function(t,e){return e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())>=0},viewPass:function(){this.typePass="password"==this.typePass?"":"password"},verifyEmail:function(){this.modelStart.email.split("@")[1]&&this.modelStart.email.split("@")[1].split(".")[0]?this.verifyEmailVar=!0:this.verifyEmailVar=!1},calculatedHour:function(){var t=!0,e=!1,a=void 0;try{for(var n,r=this.modelStart.blockHour[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o,s,i,l=n.value;l.status&&(o=60*parseInt(l.end.split(":")[0]-parseInt(l.start.split(":")[0])),s=parseInt(l.start.split(":")[1])-parseInt(l.end.split(":")[1]),i=o+s,l.time=i)}}catch(c){e=!0,a=c}finally{try{t||null==r.return||r.return()}finally{if(e)throw a}}},handleFileUpload:function(){this.file=this.$refs.file.files[0]},finishProcess:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.calculatedHour(),!(this.modelStart.first_name.length>=4&&this.modelStart.last_name.length>=4&&20==this.modelStart.credential.length&&this.validEmail()&&this.modelStart.password.length>8)){t.next=51;break}return t.prev=2,t.next=5,i.a.post(d.a.endpointTarget+"/branches/createBranchCertificate",{branch:this.modelStart.businessName,secretKey:this.modelStart.credential},this.configHeader);case 5:if(e=t.sent,"ok"!=e.data.status){t.next=44;break}return t.prev=7,a=new FormData,a.append("image",this.file),{headers:{"Content-Type":"multipart/form-data","x-access-token":localStorage.userToken,"x-database-connect":d.a.database}},t.prev=11,t.next=14,i.a.post(d.a.endpointTarget+"/configurations/createConfigCertificate",{branch:e.data.data._id,secretKey:this.modelStart.credential,blockHour:this.modelStart.blockHour,businessName:this.modelStart.businessName,businessPhone:this.phoneData,email:this.modelStart.email,route:d.a.url,file:"",businessType:this.modelStart.businessType,businessLocation:this.modelStart.businessLocation,typesPay:this.modelStart.typesPay,currency:this.modelStart.currency},this.configHeader);case 14:if(n=t.sent,"ok"!=n.data.status){t.next=34;break}return t.next=18,i.a.post(d.a.endpointTarget+"/users/createUserCertificate",{branch:e.data.data._id,secretKey:this.modelStart.credential,first_name:this.modelStart.first_name,last_name:this.modelStart.last_name,email:this.modelStart.email,password:this.modelStart.password},this.configHeader);case 18:if(r=t.sent,!r){t.next=34;break}return t.next=22,i.a.post(d.a.endpointTarget+"/configurations/addFirstProfile",{secretKey:this.modelStart.credential},this.configHeader);case 22:return t.sent,this.$swal({type:"success",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:1500}),t.prev=24,t.next=27,i.a.post(d.a.endpointTarget+"/mails/welcome",{firstName:this.modelStart.first_name,email:this.modelStart.email},this.configHeader);case 27:t.sent,t.next=33;break;case 30:t.prev=30,t.t0=t["catch"](24),console.log(t.t0);case 33:setTimeout((function(){location.reload()}),2e3);case 34:t.next=39;break;case 36:t.prev=36,t.t1=t["catch"](11),console.log(t.t1);case 39:t.next=44;break;case 41:t.prev=41,t.t2=t["catch"](7),console.log(t.t2);case 44:t.next=49;break;case 46:t.prev=46,t.t3=t["catch"](2),console.log(t.t3);case 49:t.next=52;break;case 51:this.$swal({type:"error",icon:"error",title:"Debe llenar los campos correctamente.",showConfirmButton:!1,timer:1500});case 52:case"end":return t.stop()}}),t,this,[[2,46],[7,41],[11,36],[24,30]])})));function e(){return t.apply(this,arguments)}return e}(),validEmail:function(){var t=this.modelStart.email.split("@");return t.length>1&&t[1].includes(".")},handleChange:function(t){this.modelStart.businessType=t},insertTypePay:function(){var t=this;if(this.modelStart.typesPay.length<8)if(this.typePay.length>4){var e=this.modelStart.typesPay.find((function(e){return e==t.typePay}));void 0==e?(this.modelStart.typesPay.push(this.typePay),this.typePay=""):this.$swal({icon:"error",title:"Tipo de pago duplicado.",showConfirmButton:!1,timer:1500})}else this.typePay.length<4?this.$swal({icon:"error",title:"El método de pago debe estar compuesto por mas de 4 caracteres",showConfirmButton:!1,timer:1500}):this.$swal({icon:"error",title:"Debe llenar el tipo de pago",showConfirmButton:!1,timer:1500});else this.$swal({icon:"error",title:"No puede ingresar mas de 8 métodos de pago.",showConfirmButton:!1,timer:1500})},alertsMessages:function(t){this.$swal({icon:"info",title:t,showConfirmButton:!0})},removeTypePay:function(t){this.modelStart.typesPay.splice(t,1)},salectDay:function(t){"monday"==t?(this.modelStart.blockHour[1].status="success"!=this.days.monday,this.days.monday="success"==this.days.monday?"danger":"success"):"tuesday"==t?(this.modelStart.blockHour[2].status="success"!=this.days.tuesday,this.days.tuesday="success"==this.days.tuesday?"danger":"success"):"wednesday"==t?(this.modelStart.blockHour[3].status="success"!=this.days.wednesday,this.days.wednesday="success"==this.days.wednesday?"danger":"success"):"thursday"==t?(this.modelStart.blockHour[4].status="success"!=this.days.thursday,this.days.thursday="success"==this.days.thursday?"danger":"success"):"friday"==t?(this.modelStart.blockHour[5].status="success"!=this.days.friday,this.days.friday="success"==this.days.friday?"danger":"success"):"saturday"==t?(this.modelStart.blockHour[6].status="success"!=this.days.saturday,this.days.saturday="success"==this.days.saturday?"danger":"success"):"sunday"==t&&(this.modelStart.blockHour[0].status="success"!=this.days.sunday,this.days.sunday="success"==this.days.sunday?"danger":"success")},nextStep:function(t){if("branch"==t)this.modelStart.businessName.length>=4&&this.phoneData.isValid&&this.modelStart.businessLocation.length>=2&&"Seleccione"!=this.modelStart.businessType&&this.verifyEmailVar?(this.status.branch="finish",this.status.date="process",this.process="date"):this.verifyEmailVar?0==this.phoneData.isValid?this.$swal({icon:"error",title:"Debe escribir un número de teléfono valido",showConfirmButton:!1,timer:1500}):this.modelStart.businessLocation.length<2?this.$swal({icon:"error",title:"La dirección debe contener más de 2 caractéres",showConfirmButton:!1,timer:1500}):this.$swal({icon:"error",title:"Llene todos los campos.",showConfirmButton:!1,timer:1500}):this.$swal({icon:"error",title:"El correo es invalido",showConfirmButton:!1,timer:1500});else if("date"==t){var e=this.modelStart.blockHour.find((function(t){return 1==t.status}));void 0!=e?(this.status.date="finish",this.status.sale="process",this.process="sale"):this.$swal({icon:"error",title:"Debe seleccionar mínimo un día.",showConfirmButton:!1,timer:1500})}else"sale"==t?this.modelStart.typesPay.length>0?(this.status.sale="finish",this.status.final="process",this.process="final"):this.$swal({icon:"error",title:"Debe crear mínimo un tipo de pago.",showConfirmButton:!1,timer:1500}):"final"==t&&(this.status.branch="finish")},formatPhone:function(){var t=this.modelStart.businessPhone.replace(/[^\d]/g,"");9==t.length&&(t=t.replace(/(\d{1})(\d{4})/,"$1-$2-")),this.modelStart.businessPhone=t},prevStep:function(t){"date"==t?(this.status.branch="process",this.status.date="wait",this.process="branch"):"sale"==t?(this.status.date="process",this.status.sale="wait",this.process="date"):"final"==t&&(this.status.sale="process",this.status.final="wait",this.process="sale")},getBranches:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get(d.a.endpointTarget+"/branches/count",this.configHeader);case 3:e=t.sent,0==e.data.data&&(this.ifStart=!0),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),login:function(){var t=this;this.loading=!0,i.a.post(d.a.endpointTarget+"/users/login",{email:this.model.email,password:this.model.password},this.configHeader).then((function(e){if("pass incorrecto"==e.data.error||"User does not exist"==e.data.error)t.$swal({type:"error",title:"Usuario o Contraseña incorrecta",showConfirmButton:!1,timer:1500}),t.loading=!1;else{localStorage.setItem("userToken",e.data.token),t.email="",t.password="";var a=localStorage.userToken,n=p()(a);localStorage.setItem("firstname",n.first_name),localStorage.setItem("_id",n._id),localStorage.setItem("lastname",n.last_name),localStorage.setItem("email",n.email),localStorage.setItem("imageUser",n.userImage),localStorage.setItem("showNav",!0),localStorage.setItem("status",n.status),localStorage.setItem("branch",n.branch),l["a"].push({path:"/Agendamiento"}),t.emitMethod(n.status)}})).catch((function(e){t.$swal({type:"error",title:"Problemas de conexión",showConfirmButton:!1,timer:1500}),t.loading=!1}))},emitMethod:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:u["a"].$emit("loggedin",e),localStorage.setItem("logged-in",e);case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),SendNewPass:function(){var t=this;""==this.emailRenew?(this.modals={modal:!0,message:"Debe llenar el dato de correo",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){t.modals={modal:!1,modal2:!0,message:"",icon:"",type:""}}),1500)):i.a.post(d.a.endpointTarget+"/users/sendNewPass",{email:this.emailRenew}).then((function(e){"ok"==e.data.status?(t.modals={modal:!0,message:"Se le envio un correo, con la contraseña provicional",icon:"ni ni-check-bold ni-5x",type:"success"},setTimeout((function(){t.modals={modal:!1,modal2:!1,message:"",icon:"",type:""}}),2500),t.emailRenew=""):(t.modals={modal:!0,message:"El correo no esta registrado",icon:"ni ni-fat-remove ni-5x",type:"danger"},setTimeout((function(){t.modals={modal:!1,modal2:!0,message:"",icon:"",type:""}}),2e3))}))}}},b=v,y=a("2877"),x=Object(y["a"])(b,n,r,!1,null,null,null);e["default"]=x.exports},b9fa:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-4 pt-2 pt-lg-4 d-flex align-items-center",staticStyle:{"min-height":"50px","background-image":"url(img/theme/metrics.png)","background-size":"cover","background-position":"center center"}},[a("span",{staticClass:"mask  opacity-7",staticStyle:{"background-color":"#172b4d !important"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 ml-0"},[a("div",{staticClass:"text-absolute topExpense"},[a("p",{staticClass:"mb-0 display-4 text-white"},[t._v("Gastos")])]),a("div",{staticClass:"row p-0"},[a("div",{staticClass:"col-md-2 px-1"},[a("stats-card",{staticClass:"mt-6",attrs:{title:"Inventario",type:"gradient-orange","sub-title":t._f("formatPrice")(t.thisMonth.Inventario),icon:"ni ni-box-2"}},[a("template",{slot:"footer"},[a("span",{staticClass:"mr-2",class:t.percentInventory>=0?"text-success":"text-danger"},[a("i",{class:t.percentInventory>=0?"fa fa-arrow-up":"fa fa-arrow-down"}),t._v(" \n                                    "+t._s(t.percentInventory)+"%\n                                ")]),a("br"),a("span",{staticClass:"text-nowrap"},[t._v("\n                                    Mes pasado \n                                    "),a("small",{staticClass:"text-muted"},[t._v("  \n                                        "+t._s(t._f("formatPrice")(t.beforeMonth.Inventario))+"\n                                    ")])])])],2)],1),a("div",{staticClass:"col-md-2 px-1"},[a("stats-card",{staticClass:"marginTopCards",attrs:{title:"Bonos",type:"gradient-orange","sub-title":t._f("formatPrice")(t.thisMonth.Bono),icon:"ni ni-trophy"}},[a("template",{slot:"footer"},[a("span",{staticClass:"mr-2",class:t.percentBonus>=0?"text-success":"text-danger"},[a("i",{class:t.percentBonus>=0?"fa fa-arrow-up":"fa fa-arrow-down"}),t._v(" \n                                    "+t._s(t.percentBonus)+"%\n                                ")]),a("br"),a("span",{staticClass:"text-nowrap"},[t._v("Mes pasado \n                                    "),a("small",{staticClass:"text-muted"},[t._v("  \n                                        "+t._s(t._f("formatPrice")(t.beforeMonth.Bono))+"\n                                    ")])])])],2)],1),a("div",{staticClass:"col-md-2 px-1"},[a("stats-card",{staticClass:"marginTopCards",attrs:{title:"Comisiones",type:"gradient-orange","sub-title":t._f("formatPrice")(t.thisMonth.Comision),icon:"ni ni-money-coins"}},[a("template",{slot:"footer"},[a("span",{staticClass:"mr-2",class:t.percentCommission>=0?"text-success":"text-danger"},[a("i",{class:t.percentCommission>=0?"fa fa-arrow-up":"fa fa-arrow-down"}),t._v(" \n                                    "+t._s(t.percentCommission)+"%\n                                ")]),a("br"),a("span",{staticClass:"text-nowrap"},[t._v("\n                                    Mes pasado \n                                    "),a("small",{staticClass:"text-muted"},[t._v("  \n                                        "+t._s(t._f("formatPrice")(t.beforeMonth.Comision))+"\n                                    ")])])])],2)],1),a("div",{staticClass:"col-md-2 px-1"},[a("stats-card",{staticClass:"marginTopCards",attrs:{title:"Mensuales",type:"gradient-orange","sub-title":t._f("formatPrice")(t.thisMonth.Mensual),icon:"ni ni-shop"}},[a("template",{slot:"footer"},[a("span",{staticClass:"mr-2",class:t.percentMonth>=0?"text-success":"text-danger"},[a("i",{class:t.percentMonth>=0?"fa fa-arrow-up":"fa fa-arrow-down"}),t._v(" \n                                    "+t._s(t.percentMonth)+"%\n                                ")]),a("br"),a("span",{staticClass:"text-nowrap"},[t._v("\n                                    Mes pasado \n                                    "),a("small",{staticClass:"text-muted"},[t._v("  \n                                        "+t._s(t._f("formatPrice")(t.beforeMonth.Mensual))+"\n                                    ")])])])],2)],1),a("div",{staticClass:"col-md-2 px-1"},[a("stats-card",{staticClass:"marginTopCards",attrs:{title:"Total gastos",type:"gradient-orange","sub-title":t._f("formatPrice")(t.totalExpenses),icon:"ni ni-trophy"}},[a("template",{slot:"footer"},[a("span",{staticClass:"mr-2",class:t.percentTotalExpenses>=0?"text-success":"text-danger"},[a("i",{class:t.percentTotalExpenses>=0?"fa fa-arrow-up":"fa fa-arrow-down"}),t._v(" \n                                    "+t._s(t.percentTotalExpenses)+"%\n                                ")]),a("br"),a("span",{staticClass:"text-nowrap"},[t._v("Mes pasado \n                                    "),a("small",{staticClass:"text-muted"},[t._v("  \n                                        "+t._s(t._f("formatPrice")(t.totalExpensesBefore))+"\n                                    ")])])])],2)],1),a("div",{staticClass:"col-md-2 px-1"},[a("a-tooltip",[a("template",{slot:"title"},[t._v("\n                                Total = Ventas + Reinversión - Gastos\n                            ")]),a("stats-card",{staticClass:"marginTopCards",attrs:{title:"Ganancia",type:"gradient-orange","sub-title":t._f("formatPrice")(t.totalFinal),icon:"ni ni-sound-wave"}},[a("template",{slot:"footer"},[a("span",{staticClass:"mr-2",class:t.totalFinal>=0?"text-success":"text-danger"},[a("i",{class:t.totalFinal>=0?"fa fa-arrow-up":"fa fa-arrow-down"})]),a("br"),t.totalFinal<0?a("span",{staticClass:"text-nowrap"},[t._v("\n                                        Saldo negativo\n                                        "),a("small",{staticClass:"text-muted"},[t._v("  \n                                            "+t._s(t._f("formatPrice")(t.totalFinal))+"\n                                        ")])]):a("span",{staticClass:"text-nowrap"},[t._v("\n                                        Disponible\n                                        "),a("small",{staticClass:"text-muted"},[t._v("  \n                                            "+t._s(t._f("formatPrice")(t.totalFinal))+"\n                                        ")])])])],2)],2)],1)]),a("div",{staticClass:"float-left mt-2"},[a("label",{staticClass:"text-white",staticStyle:{"margin-left":"-10px"},attrs:{for:"date"}},[t._v("Busque por fecha")]),a("br"),a("a-range-picker",{staticStyle:{"margin-left":"-10px",width:"55%"},attrs:{disabled:!t.validRoute("gastos","filtrar"),ranges:{Hoy:[t.moment(),t.moment()],"Este mes":[t.moment(),t.moment().endOf("month")]},locale:t.locale},on:{change:t.selectDate}}),a("base-button",{staticClass:"ml-2",staticStyle:{"margin-top":"-5px"},attrs:{size:"sm",disabled:!t.validRoute("gastos","filtrar"),type:"success"},on:{click:t.findExpenses}},[a("a-icon",{staticStyle:{"vertical-align":"1px","font-size":"1.8em"},attrs:{type:"search"}})],1)],1),a("base-button",{staticClass:"float-right",staticStyle:{"margin-top":"3.3em"},attrs:{size:"sm",type:"success"},on:{click:function(e){t.modals.modal1=!0}}},[a("a-icon",{staticClass:"mr-1",staticStyle:{"vertical-align":"1px","font-size":"1.5em"},attrs:{type:"wallet"}}),t._v("\n                    Registrar\n                ")],1),a("base-button",{staticClass:"float-right mr-1",staticStyle:{"margin-top":"3.3em"},attrs:{size:"sm",disabled:!t.validRoute("gastos","registrar_inversion"),type:"default"},on:{click:function(e){t.modals.modal4=!0,t.getReinvestment()}}},[a("a-icon",{staticClass:"mr-1",staticStyle:{"vertical-align":"1px","font-size":"1.5em"},attrs:{type:"book"}}),t._v("\n                    Inversión\n                ")],1),a("base-button",{staticClass:"float-right mr-1",staticStyle:{"margin-top":"3.3em"},attrs:{size:"sm",type:"danger"},on:{click:t.openReport}},[a("a-tooltip",[a("template",{slot:"title"},[t._v("\n                            Exportar PDF\n                        ")]),a("a-icon",{staticClass:"mr-1",staticStyle:{"vertical-align":"1px","font-size":"1.5em"},attrs:{type:"file-pdf"}})],2)],1),a("base-button",{staticClass:"float-right mr-1",staticStyle:{"margin-top":"3.3em"},attrs:{size:"sm",disabled:!t.validRoute("gastos","cierre"),type:"danger"},on:{click:t.closeReinvestment}},[a("i",{staticClass:"fa fa-archive mr-1",staticStyle:{"vertical-align":"1px","font-size":"1.2em"}}),t._v("\n                    Cierre\n                ")])],1)])]),a("tabs",{staticClass:"flex-column flex-md-row inventory inventoryTabs p-2",attrs:{fill:""}},[a("card",{staticClass:"tablesExpense",attrs:{shadow:""}},[a("tab-pane",[a("span",{staticClass:"p-2",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"ni ni-shop"}),t._v("\n                    Tabla de gastos\n                ")]),a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v("Sucursal sin gastos registrados.")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columns,loading:t.progress,"data-source":t.expenses,scroll:t.getScreen},scopedSlots:t._u([{key:"format-date",fn:function(e,a){return[t._v("\n                            "+t._s(t._f("formatDate")(a.createdAt))+"\n                        ")]}},{key:"total-slot",fn:function(e,a){return[t._v("\n                            "+t._s(t._f("formatPrice")(a.amount))+"\n                        ")]}},{key:"action-slot",fn:function(e,n){return["Bono"==n.type||"Mensual"==n.type?a("base-button",{attrs:{disabled:!t.validRoute("gastos","eliminar"),size:"sm",type:"danger"},on:{click:function(e){return t.deleteExpense(n._id,n.type,n.employe,n.amount)}}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"close-circle"}})],1):t._e()]}}])})],1)],1),a("tab-pane",[a("span",{staticClass:"p-2",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"ni ni-calendar-grid-58"}),t._v("\n                    Historial de cierres\n                ")]),a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v("Sucursal sin historial.")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columnsHistory,loading:t.progress,"data-source":t.historyExpenses,scroll:t.getScreen},scopedSlots:t._u([{key:"expenses-slot",fn:function(e,a){return[t._v("\n                            "+t._s(a.expenses.length)+"\n                        ")]}},{key:"format-date",fn:function(e,a){return[t._v("\n                            "+t._s(t._f("formatDate")(a.createdAt))+"\n                        ")]}},{key:"action-slot",fn:function(e,n){return[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Ver informe")])]),a("base-button",{attrs:{size:"sm",type:"default",icon:"ni ni-bullet-list-67"},on:{click:function(e){t.modals.modal5=!0,t.dataHistoryClosedReport=n}}})],2)]}}])})],1)],1)],1)],1),a("a-modal",{attrs:{footer:null},model:{value:t.modals.modal1,callback:function(e){t.$set(t.modals,"modal1",e)},expression:"modals.modal1"}},[[a("h3",{staticClass:"text-center w-100"},[t._v("Seleccione el tipo de gasto")]),a("center",[a("base-button",{staticClass:"w-25",attrs:{disabled:!t.validRoute("gastos","registrar_bono"),type:"default"},on:{click:function(e){t.modals.modal1=!1,t.modals.modal2=!0}}},[t._v("\n                    Bono\n                ")]),a("base-button",{attrs:{disabled:!t.validRoute("gastos","registrar_gasto"),type:"primary"},on:{click:function(e){t.modals.modal1=!1,t.modals.modal3=!0}}},[t._v("\n                    Gasto mensual\n                ")])],1)]],2),a("a-modal",{attrs:{width:300},model:{value:t.modals.modal2,callback:function(e){t.$set(t.modals,"modal2",e)},expression:"modals.modal2"}},[[[a("h3",[t._v("Registrar un bono")]),a("label",{attrs:{for:"descripción"}},[t._v("Descripción")]),a("a-input",{staticClass:"mb-2",attrs:{type:"textarea",placeholder:"Escriba la razón del bono"},model:{value:t.registerExpense.detail,callback:function(e){t.$set(t.registerExpense,"detail",e)},expression:"registerExpense.detail"}}),a("label",{attrs:{for:"employe"}},[t._v("Empleado")]),a("a-select",{staticClass:"mb-2 pt-1 w-100 selectEmploye",attrs:{"show-search":"",placeholder:"Seleccione el empleado","option-filter-prop":"children","filter-option":t.filterOption,allowClear:!0},on:{change:t.chooseEmploye}},t._l(t.employes,(function(e){return a("a-select-option",{key:e._id,attrs:{value:e._id}},[t._v("\n                        "+t._s(e.firstName)+" "+t._s(e.lastName)+"\n                    ")])})),1),a("label",{attrs:{for:"Monto"}},[t._v("Monto")]),a("currency-input",{staticClass:"ant-input w-100",attrs:{locale:"de"},model:{value:t.registerExpense.amount,callback:function(e){t.$set(t.registerExpense,"amount",e)},expression:"registerExpense.amount"}})],a("template",{slot:"footer"},[a("base-button",{staticClass:"float-left",attrs:{size:"sm",type:"default"},on:{click:function(e){t.modals.modal1=!0,t.modals.modal2=!1}}},[t._v("\n                    Regresar\n                ")]),a("base-button",{attrs:{disabled:!(t.registerExpense.detail.length>0&&t.registerExpense.amount>0&&t.employeSelect.id.length>0),size:"sm",type:"success"},on:{click:t.registerBonusExpense}},[t._v("\n                    Registrar\n                ")])],1)]],2),a("a-modal",{attrs:{width:300},model:{value:t.modals.modal3,callback:function(e){t.$set(t.modals,"modal3",e)},expression:"modals.modal3"}},[[a("h3",[t._v("Registrar un gasto mensual")]),a("label",{attrs:{for:"descripción"}},[t._v("Descripción")]),a("a-input",{staticClass:"mb-2",attrs:{type:"textarea",placeholder:"Escriba la descripción del gasto"},model:{value:t.registerExpense.detail,callback:function(e){t.$set(t.registerExpense,"detail",e)},expression:"registerExpense.detail"}}),a("label",{attrs:{for:"Monto"}},[t._v("Monto")]),a("currency-input",{staticClass:"ant-input w-100",attrs:{locale:"de"},model:{value:t.registerExpense.amount,callback:function(e){t.$set(t.registerExpense,"amount",e)},expression:"registerExpense.amount"}})],a("template",{slot:"footer"},[a("base-button",{staticClass:"float-left",attrs:{size:"sm",type:"default"},on:{click:function(e){t.modals.modal1=!0,t.modals.modal3=!1}}},[t._v("\n                    Regresar\n                ")]),a("base-button",{attrs:{disabled:!(t.registerExpense.detail.length>0&&t.registerExpense.amount>0),size:"sm",type:"success"},on:{click:t.registerMonthExpense}},[t._v("\n                Registrar\n            ")])],1)],2),a("a-modal",{attrs:{width:300},model:{value:t.modals.modal4,callback:function(e){t.$set(t.modals,"modal4",e)},expression:"modals.modal4"}},[t.reinvestmentValid?[a("h3",[t._v("Edite reinversion mensual")]),a("label",{attrs:{for:"Monto"}},[t._v("Monto a editar")]),a("currency-input",{staticClass:"ant-input w-100",attrs:{locale:"de"},model:{value:t.reinvestmentTotal,callback:function(e){t.reinvestmentTotal=e},expression:"reinvestmentTotal"}})]:[a("h3",[t._v("Registre reinversion mensual")]),a("label",{attrs:{for:"Monto"}},[t._v("Monto")]),a("currency-input",{staticClass:"ant-input w-100",attrs:{locale:"de"},model:{value:t.reinvestmentTotal,callback:function(e){t.reinvestmentTotal=e},expression:"reinvestmentTotal"}})],a("template",{slot:"footer"},[t.reinvestmentValid?a("base-button",{attrs:{size:"sm",type:"success"},on:{click:t.registerReinvestment}},[t._v("\n                Editar\n            ")]):a("base-button",{attrs:{size:"sm",type:"success"},on:{click:t.registerReinvestment}},[t._v("\n                Registrar\n            ")])],1)],2),a("a-modal",{attrs:{width:"60%",closable:!0},model:{value:t.modals.modal5,callback:function(e){t.$set(t.modals,"modal5",e)},expression:"modals.modal5"}},[[a("h3",{staticClass:"text-center w-100"},[t._v("Informe de cierre")]),t.dataHistoryClosedReport.branch?[a("a-table",{attrs:{columns:t.columnsHistoryExpenses,loading:t.progress,"data-source":t.dataHistoryClosedReport.expenses,scroll:t.getScreen},scopedSlots:t._u([{key:"total-slot",fn:function(e,a){return[t._v("\n                        "+t._s(t._f("formatPrice")(a.amount))+"\n                    ")]}}],null,!1,2950103171)})]:t._e()],a("template",{slot:"footer"},[a("base-button",{attrs:{size:"sm",type:"primary"},on:{click:t.reportHistory}},[t._v("\n                Imprimir reporte\n            ")])],1)],2)],1)},r=[],o=(a("7f7f"),a("96cf"),a("3b8d")),s=a("bd86"),i=a("bc3a"),l=a.n(i),c=a("a5e9"),d=a.n(c),u=a("e366"),h=a("04e1"),p=a.n(h),m=a("c1df"),f=a.n(m),g=a("e8b9"),v=a("c38f"),b=a.n(v),y=(a("0952"),a("ef34")),x=a("bb36"),w={mixins:[y["a"],x["a"]],components:{flatPicker:b.a},data:function(){var t;return t={auth:[],configDate:{allowInput:!0,minDate:new Date},dates:{simple:new Date},locale:g["a"],moment:f.a,dateFind:[],modals:{modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1},registerExpense:{detail:"",amount:0,type:""},progress:!1,expenses:[],configHeader:{headers:{"x-database-connect":d.a.database,"x-access-token":localStorage.userToken}},dataHistoryClosedReport:{},branchName:"",branch:"",columnsHistoryExpenses:[{title:"Fecha",dataIndex:"createdAt",key:"createdAt",width:"20%"},{title:"Tipo",dataIndex:"typee",key:"typee",width:"20%"},{title:"Descripción",dataIndex:"detaill",key:"detaill",width:"40%"},{title:"Total",dataIndex:"total",key:"total",scopedSlots:{customRender:"total-slot"},sorter:function(t,e){return t.total-e.total},width:"20%"}],columnsHistory:[{title:"Fecha",dataIndex:"createdAt",key:"createdAt",scopedSlots:{customRender:"format-date"},defaultSortOrder:"descend",sorter:function(t,e){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}},{title:"Gastos",dataIndex:"expenses",key:"expenses",scopedSlots:{customRender:"expenses-slot"}},,{title:"Total",dataIndex:"totals.totalFinal",key:"totals.totalFinal"},{title:"Ver informe",dataIndex:"_id",key:"_id",scopedSlots:{customRender:"action-slot"}}],columns:[{title:"Fecha",dataIndex:"createdAt",key:"createdAt",scopedSlots:{customRender:"format-date"},defaultSortOrder:"descend",sorter:function(t,e){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}},{title:"Tipo",dataIndex:"type",key:"type"},{title:"Descripción",dataIndex:"detail",key:"detail"},{title:"Total",dataIndex:"total",key:"total",scopedSlots:{customRender:"total-slot"},sorter:function(t,e){return t.total-e.total}},{title:"Eliminar",dataIndex:"_id",key:"_id",scopedSlots:{customRender:"action-slot"}}],historyExpenses:[]},Object(s["a"])(t,"expenses",[]),Object(s["a"])(t,"typeRegister",""),Object(s["a"])(t,"employes",[]),Object(s["a"])(t,"employeSelect",{name:"",id:""}),Object(s["a"])(t,"thisMonth",{Inventario:0,Bono:0,Mensual:0,Comision:0}),Object(s["a"])(t,"beforeMonth",{Inventario:0,Bono:0,Mensual:0,Comision:0}),Object(s["a"])(t,"commissionThisMonth",0),Object(s["a"])(t,"commissionBeforeMonth",0),Object(s["a"])(t,"percentInventory",0),Object(s["a"])(t,"percentBonus",0),Object(s["a"])(t,"percentMonth",0),Object(s["a"])(t,"percentCommission",0),Object(s["a"])(t,"totalSales",0),Object(s["a"])(t,"totalFinal",0),Object(s["a"])(t,"reinvestmentTotal",0),Object(s["a"])(t,"reinvestmentValid",!1),Object(s["a"])(t,"reinvestmentId",""),Object(s["a"])(t,"totalExpenses",0),Object(s["a"])(t,"totalExpensesBefore",0),Object(s["a"])(t,"percentTotalExpenses",0),t},created:function(){this.getToken(),this.getBranch()},methods:{getToken:function(){var t=localStorage.userToken,e=p()(t);this.auth=e.access},getBranch:function(){this.branchName=localStorage.branchName,this.branch=localStorage.branch,this.getExpenses(),this.getEmployes(),this.getTotalSales(),this.getReinvestment(),this.getTotal(),this.getHistoryExpenses()},validRoute:function(t,e){for(var a=0;a<this.auth.length;a++){var n=this.auth[a];if(n.ruta==t)for(var r=0;r<n.validaciones.length;r++)if(e==n.validaciones[r])return!0}},getHistoryExpenses:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("".concat(d.a.endpointTarget,"/expenses/historyExpenses/").concat(this.branch),this.configHeader);case 3:e=t.sent,"ok"==e.data.status?this.historyExpenses=e.data.data:this.historyExpenses=[],t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getTotalSales:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("".concat(d.a.endpointTarget,"/sales/totalSales/").concat(this.branch),this.configHeader);case 3:e=t.sent,"ok"==e.data.status&&(this.totalSales=e.data.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),closeReinvestment:function(){var t=this;this.reinvestmentValid&&""!=this.reinvestmentId?l.a.post("".concat(d.a.endpointTarget,"/expenses/validclose"),{branch:this.branch},this.configHeader).then((function(e){if("bad employes"==e.data.status&&t.$swal({icon:"error",title:"Debe realizar cierre de empleados",text:"Para continuar debe hacer cierre en sección de empleados",showConfirmButton:!0}),"bad inventories"==e.data.status&&t.$swal({icon:"error",title:"Debe realizar cierre de inventario",text:"Para continuar debe hacer cierre en sección de inventario",showConfirmButton:!0}),"bad cashfound"==e.data.status&&t.$swal({icon:"error",title:"Debe realizar cierre de Caja del día",text:"Para continuar debe hacer cierre en sección de caja",showConfirmButton:!0}),"ok"==e.data.status){var a=t.thisMonth.Inventario+t.thisMonth.Bono+t.thisMonth.Mensual+t.thisMonth.Comision;t.$swal({title:"¿Desea realizar el cierre de gastos?",text:"¡Recuerda! Esta acción no se puede revertir",type:"warning",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"No, cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(e){e.value?l.a.post("".concat(d.a.endpointTarget,"/expenses/closeExpenses"),{reinvestment:t.reinvestmentTotal,sales:t.totalSales,expenses:a,totalFinal:t.totalFinal,branch:t.branch,reinvestmentId:t.reinvestmentId,bonus:t.thisMonth.Bono,monthly:t.thisMonth.Mensual,commission:t.thisMonth.Comision},t.configHeader).then((function(e){"ok"==e.data.status&&(t.$swal({icon:"success",title:"Cierre exitoso",text:"Para visualizar reporte verifique el historial",showConfirmButton:!0}),t.getBranch())})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):t.$swal({icon:"info",title:"Acción cancelada",showConfirmButton:!1,timer:2e3})})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}})):this.$swal({icon:"error",title:"Debe registrar reinversión",text:"Para continuar debe ingresar un monto de reinversión",showConfirmButton:!0})},getReinvestment:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("".concat(d.a.endpointTarget,"/expenses/findReinvestment/").concat(this.branch),this.configHeader);case 3:e=t.sent,"ok"==e.data.status?(this.reinvestmentTotal=e.data.data.amount,this.reinvestmentValid=!0,this.reinvestmentId=e.data.data._id):(this.reinvestmentTotal=0,this.reinvestmentValid=!1,this.reinvestmentId=e.data.data._id),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),registerReinvestment:function(){var t=this;l.a.put("".concat(d.a.endpointTarget,"/expenses/regReinvestment/").concat(this.reinvestmentId),{amount:this.reinvestmentTotal},this.configHeader).then((function(e){"ok"==e.data.status&&(t.reinvestmentValid?t.$swal({icon:"success",title:"Reinversión editada",showConfirmButton:!1,timer:1500}):t.$swal({icon:"success",title:"Reinversión registrada",showConfirmButton:!1,timer:1500}),t.getBranch(),t.modals.modal4=!1,t.reinvestmentValid=!0)})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},getTotal:function(){var t=this;setTimeout((function(){t.totalFinal=t.reinvestmentTotal+t.totalSales-(t.thisMonth.Comision+t.thisMonth.Inventario+t.thisMonth.Bono+t.thisMonth.Mensual)}),200)},selectDate:function(t,e){this.dateFind=t?e:[]},findExpenses:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.dateFind.length>0)){t.next=14;break}return this.progress=!0,t.prev=2,t.next=5,l.a.post("".concat(d.a.endpointTarget,"/expenses/findByDates/").concat(this.branch),{dates:this.dateFind},this.configHeader);case 5:e=t.sent,"ok"==e.data.status?(this.expenses=e.data.data,this.progress=!1):(this.expenses=[],this.progress=!1,this.$swal({icon:"error",title:"Fechas sin gastos registrados",showConfirmButton:!1,timer:1500})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 12:t.next=15;break;case 14:this.$swal({icon:"error",title:"Debe seleccionar fechas",showConfirmButton:!1,timer:1500});case 15:case"end":return t.stop()}}),t,this,[[2,9]])})));function e(){return t.apply(this,arguments)}return e}(),getExpenses:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("".concat(d.a.endpointTarget,"/expenses/").concat(this.branch),this.configHeader);case 3:e=t.sent,"ok"==e.data.status?(this.expenses=e.data.data.expenses,this.thisMonth=e.data.data.expenseTotals,this.beforeMonth=e.data.data.expenseTotalsBefore,this.totalExpenses=this.thisMonth.Comision+this.thisMonth.Inventario+this.thisMonth.Bono+this.thisMonth.Mensual,this.totalExpensesBefore=this.beforeMonth.Comision+this.beforeMonth.Inventario+this.beforeMonth.Bono+this.beforeMonth.Mensual,this.percentInventory=this.thisMonth.Inventario>0?(this.thisMonth.Inventario-this.beforeMonth.Inventario)/this.thisMonth.Inventario*100:0,this.percentBonus=this.thisMonth.Bono>0?(this.thisMonth.Bono-this.beforeMonth.Bono)/this.thisMonth.Bono*100:0,this.percentMonth=this.thisMonth.Mensual>0?(this.thisMonth.Mensual-this.beforeMonth.Mensual)/this.thisMonth.Mensual*100:0,this.percentCommission=this.thisMonth.Comision>0?(this.thisMonth.Comision-this.beforeMonth.Comision)/this.thisMonth.Comision*100:0,this.percentTotalExpenses=this.totalExpenses>0?(this.totalExpenses-this.totalExpensesBefore)/this.totalExpenses*100:0):this.expenses=[],t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),chooseEmploye:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=14;break}return t.prev=1,t.next=4,l.a.get("".concat(d.a.endpointTarget,"/employes/justonebyid/").concat(e),this.configHeader);case 4:a=t.sent,this.employeSelect.id=a.data.data._id,this.employeSelect.name=a.data.data.firstName+" "+a.data.data.lastName,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 12:t.next=16;break;case 14:this.employeSelect.id="",this.employeSelect.name="";case 16:case"end":return t.stop()}}),t,this,[[1,9]])})));function e(e){return t.apply(this,arguments)}return e}(),getEmployes:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get(d.a.endpointTarget+"/employes/employesbybranch/"+this.branch,this.configHeader);case 3:e=t.sent,"ok"==e.data.status?this.employes=e.data.data:this.employes=[],t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),deleteExpense:function(t,e,a,n){var r=this;l.a.put("".concat(d.a.endpointTarget,"/expenses/").concat(t),{type:e,idEmploye:a,total:n},this.configHeader).then((function(t){r.$swal({type:"success",icon:"success",toast:!0,position:"top-end",title:"Se elimino con éxito",showConfirmButton:!1,timer:1500}),r.getBranch()})).catch((function(t){t.response?401==t.response.status&&(r.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):r.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},registerBonusExpense:function(){var t=this,e="".concat(this.registerExpense.detail," a ").concat(this.employeSelect.name);l.a.post("".concat(d.a.endpointTarget,"/expenses/"),{branch:this.branch,detail:e,employe:this.employeSelect.id,amount:this.registerExpense.amount,type:"Bono"},this.configHeader).then((function(e){"ok"==e.data.status&&l.a.put("".concat(d.a.endpointTarget,"/employes/registerBonus/").concat(t.employeSelect.id),{amount:t.registerExpense.amount},t.configHeader).then((function(e){"ok"==e.data.status&&(t.registerExpense.detail="",t.registerExpense.amount=0,t.employeSelect.name="",t.employeSelect.id="",t.modals.modal2=!1,$(".selectEmploye .ant-select-selection__clear").click(),t.$swal({icon:"success",title:"Bono registrado",showConfirmButton:!1,timer:1500}),t.getBranch())}))})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},registerMonthExpense:function(){var t=this;l.a.post("".concat(d.a.endpointTarget,"/expenses/"),{branch:this.branch,detail:this.registerExpense.detail,employe:"none",amount:this.registerExpense.amount,type:"Mensual"},this.configHeader).then((function(e){(e.data.status="ok")&&(t.registerExpense.detail="",t.registerExpense.amount=0,t.modals.modal3=!1,t.$swal({icon:"success",title:"Gasto registrado",showConfirmButton:!1,timer:1500}),t.getBranch())})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},filterOption:function(t,e){return e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())>=0},openReport:function(){var t="scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,\nwidth=0,height=0,left=-1000,top=-1000",e=window.open(d.a.url+"/reporteGasto?branch="+this.branch,"_blank",t);e.focus()},reportHistory:function(){var t="scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,\nwidth=0,height=0,left=-1000,top=-1000",e=window.open(d.a.url+"/reporteGastoHistorial?id="+this.dataHistoryClosedReport._id,"_blank",t);e.focus()}},mounted:function(){var t=this;u["a"].$on("changeBranch",(function(e){t.getBranch()}))},computed:{getScreen:function(){return screen.width<780?{x:"calc(700px + 50%)",y:240}:{y:280}}}},C=w,k=(a("30a9"),a("2877")),S=Object(k["a"])(C,n,r,!1,null,null,null);e["default"]=S.exports},dffe:function(t,e,a){"use strict";var n=a("0694"),r=a.n(n);r.a},e25f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-4 pt-2 pt-lg-4 d-flex align-items-center",staticStyle:{"min-height":"50px","background-image":"url(img/theme/store.png)","background-size":"cover","background-position":"center 70%"}},[a("span",{staticClass:"mask  opacity-7",staticStyle:{"background-color":"#172b4d !important"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"text-absolute"},[a("p",{staticClass:"mb-0 display-2 text-white"},[t._v("Inventario")]),a("p",{staticClass:"text-white hideText"},[t._v("Sección dedicada a la administración de sus empleados. Donde podrá obtener detalle de sus ventas y comisiones correspondientes.")])]),a("base-button",{staticClass:"float-right mt-7",attrs:{disabled:!t.validRoute("inventario","cerrar"),size:"sm",type:"danger"},on:{click:function(e){t.modals.modal4=!0}}},[a("i",{staticClass:"fa fa-archive mr-2",staticStyle:{"vertical-align":"1px","font-size":"1.2em"}}),t._v("\n                  Cerrar inventario\n              ")])],1)])]),a("tabs",{staticClass:"flex-column flex-md-row inventory inventoryTabs p-2",attrs:{fill:""}},[a("card",{attrs:{shadow:""}},[a("tab-pane",[a("span",{staticClass:"w-100",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"fa fa-box-open"}),t._v("\n                  Tabla de productos\n              ")]),[a("div",{staticClass:"p-2"},[a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v("No hay ningún producto registrado")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columns,loading:t.productState,"data-source":t.products,scroll:t.getScreen},scopedSlots:t._u([{key:"filterDropdown",fn:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,s=e.clearFilters,i=e.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por "+i.title.toLowerCase(),value:r[0]},on:{change:function(t){return n(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(r,o,i.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(r,o,i.dataIndex)}}},[t._v("\n                                  Buscar\n                              ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(s)}}},[t._v("\n                                  Restablecer\n                              ")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"total",fn:function(e,n){return[parseFloat(n.quantity)+parseFloat(n.entry)-parseFloat(n.consume)<n.alertTotal?a("span",{staticClass:"text-danger"},[t._v("\n                                  "+t._s(parseFloat(n.quantity)+parseFloat(n.entry)-parseFloat(n.consume))+"\n                                  "),a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("Este producto necesita ser reabastecido.")])]),a("a-icon",{staticClass:"ml-2",staticStyle:{cursor:"pointer","vertical-align":"0.1em","font-size":"1.1em"},attrs:{type:"exclamation-circle"}})],2)],1):a("span",[t._v("\n                                  "+t._s(parseFloat(n.quantity)+parseFloat(n.entry)-parseFloat(n.consume))+"\n                                ")])]}},{key:"storeDev",fn:function(e,n){return[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Devolver cantidad a bodega")])]),"Materia prima"==n.productType?a("base-button",{staticClass:"ml-2 mr-0",attrs:{disabled:parseFloat(n.quantity)+parseFloat(n.entry)-parseFloat(n.consume)==0,size:"sm",type:"danger"},on:{click:function(e){t.lessInventory="",t.modals.modal6=!0,t.selectedProduct=n,t.totalValidLess=parseFloat(n.quantity)+parseFloat(n.entry)-parseFloat(n.consume)}}},[a("a-icon",{staticStyle:{"vertical-align":".13em","font-size":"1.1em"},attrs:{type:"export"}})],1):t._e()],2),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Editar precio")])]),a("base-button",{staticClass:"ml-2 mr-0",attrs:{size:"sm",type:"default"},on:{click:function(e){t.modals.modal7=!0,t.priceNew=n.price,t.idPriceNew=n._id}}},[a("a-icon",{staticStyle:{"vertical-align":".13em","font-size":"1.28em"},attrs:{type:"dollar"}})],1)],2)]}},{key:"typeProduct",fn:function(e,n){return[a("a-dropdown",{attrs:{disabled:!t.validRoute("inventario","cambiar_tipo")}},[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[[a("a-menu-item",{on:{click:function(e){return t.productTypeEdit("Materia prima",n._id)}}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"experiment"}}),t._v("\n                                                  Materia prima\n                                              ")],1),a("a-menu-item",{on:{click:function(e){return t.productTypeEdit("Venta",n._id)}}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"shop"}}),t._v("\n                                                  Venta\n                                              ")],1)]],2),a("a-button",{staticClass:"w-100",staticStyle:{"margin-left":"5px"}},[t._v(" "+t._s(n.productType)+" "),a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"down"}})],1)],1)]}},{key:"priceInv",fn:function(e){return[t._v("\n                                  $ "+t._s(t.formatPrice(e))+"\n                              ")]}}])})],1)],1)]],2),a("tab-pane",[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"ni ni-calendar-grid-58"}),t._v("\n                Historial\n              ")]),a("tabs",{staticClass:"flex-column flex-md-row",attrs:{fill:""}},[a("card",{attrs:{shadow:""}},[a("tab-pane",[a("span",{staticClass:"w-100",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"fa fa-money-check-alt"}),t._v("\n                              Historial de abastecimientos\n                          ")]),[a("div",{staticClass:"p-2"},[a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v("No hay ningún registro de historial")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columnsHistory,loading:t.productState,"data-source":t.dataHistory,scroll:t.getScreen},scopedSlots:t._u([{key:"filterDropdown",fn:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,s=e.clearFilters,i=e.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por "+i.title.toLowerCase(),value:r[0]},on:{change:function(t){return n(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(r,o,i.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(r,o,i.dataIndex)}}},[t._v("\n                                            Buscar\n                                        ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(s)}}},[t._v("\n                                            Restablecer\n                                        ")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"date",fn:function(e){return[t._v("\n                                            "+t._s(t.formatDate(e))+"\n                                        ")]}},{key:"priceInv",fn:function(e){return[t._v("\n                                            $ "+t._s(t.formatPrice(e))+"\n                                        ")]}}])})],1)],1)]],2),a("tab-pane",{attrs:{title:"Profile"}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"fa fa-file-contract"}),t._v("\n                              Historial de cierres\n                          ")]),[a("div",{staticClass:"p-2"},[a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v("No hay ningún registro de cierre")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columnsHistoryClosed,loading:t.productState,"data-source":t.dataHistoryClosed,scroll:t.getScreen},scopedSlots:t._u([{key:"filterDropdown",fn:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,s=e.clearFilters,i=e.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por "+i.title.toLowerCase(),value:r[0]},on:{change:function(t){return n(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(r,o,i.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(r,o,i.dataIndex)}}},[t._v("\n                                            Buscar\n                                        ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(s)}}},[t._v("\n                                            Restablecer\n                                        ")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"date",fn:function(e){return[t._v("\n                                            "+t._s(t.formatDate(e))+"\n                                        ")]}},{key:"user",fn:function(e){return[t._v("\n                                            "+t._s(e.email)+"\n                                        ")]}},{key:"report",fn:function(e,n){return[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[t._v("Ver informe")])]),a("base-button",{attrs:{size:"sm",type:"default",icon:"ni ni-bullet-list-67"},on:{click:function(e){t.modals.modal5=!0,t.validForm=2,t.dataHistoryClosedReport=n.products}}})],2)]}}])})],1)],1)]],2)],1)],1)],1)],1)],1),a("modal",{attrs:{show:t.modals.modal4,"modal-classes":"modal-dialog-centered modal-lg"},on:{"update:show":function(e){return t.$set(t.modals,"modal4",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Cierre de inventario")]),a("vue-custom-scrollbar",{staticStyle:{height:"30vh",overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"}},[a("div",{staticClass:"row m-2 ml-0"},[a("div",{staticClass:"col-6 pl-2"},[t._v("\n          Nombre del producto\n        ")]),a("div",{staticClass:"col-6 pl-2 text-left"},[t._v("\n          Total real\n        ")])]),a("hr",{staticClass:"mt-1 mb-2"}),t._l(t.products,(function(e,n){return a("div",{key:n,staticClass:"row m-1"},[a("dt",{staticClass:"col-6 mt-2"},[t._v(t._s(e.product))]),a("base-input",{staticClass:"col-6",attrs:{type:"Number",placeholder:"Ingrese cantidad en "+e.measure},model:{value:t.countProduct[n].count,callback:function(e){t.$set(t.countProduct[n],"count",e)},expression:"countProduct[index].count"}})],1)}))],2),a("template",{slot:"footer"},[a("base-button",{staticClass:"float-rigth",attrs:{type:"default"},on:{click:t.closeInventory}},[t._v("Cerrar inventario")])],1)],2),a("modal",{attrs:{"modal-classes":"modal-dialog-centered modal-xl",show:t.modals.modal5},on:{"update:show":function(e){return t.$set(t.modals,"modal5",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Informe de cierre")]),[a("div",{staticClass:"p-2"},[a("a-config-provider",{attrs:{locale:t.es_ES},scopedSlots:t._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[t._v("No hay ningún registro")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:t.columnsHistoryClosedReport,loading:t.productState,"data-source":t.dataHistoryClosedReport,scroll:t.getScreen},scopedSlots:t._u([{key:"filterDropdown",fn:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,s=e.clearFilters,i=e.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por "+i.title.toLowerCase(),value:r[0]},on:{change:function(t){return n(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(r,o,i.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(r,o,i.dataIndex)}}},[t._v("\n                          Buscar\n                      ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(s)}}},[t._v("\n                          Restablecer\n                      ")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}}])})],1)],1)],a("template",{slot:"footer"},[a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.modal5=!1}}},[t._v("Cerrar")])],1)],2),a("modal",{attrs:{show:t.modals.modal6,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-sm"},on:{"update:show":function(e){return t.$set(t.modals,"modal6",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Devolver a bodega")]),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-muted mb-3 text-center",staticStyle:{"margin-top":"-15%"}},[t._v("\n                  Ingrese cantidad\n              ")])],a("a-input-number",{staticClass:"w-100",attrs:{size:"large",placeholder:"Cantidad",min:1},model:{value:t.lessInventory,callback:function(e){t.lessInventory=e},expression:"lessInventory"}}),a("div",{staticClass:"text-center"},[a("base-button",{staticClass:"my-2",attrs:{type:"warning",disabled:!(t.lessInventory>0&&t.lessInventory<=t.totalValidLess)},on:{click:function(e){return t.returnToStore()}}},[t._v("Devolver")])],1)],2)],1),a("modal",{attrs:{show:t.modals.modal7,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-sm"},on:{"update:show":function(e){return t.$set(t.modals,"modal7",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Editar precio")]),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-muted mb-3 text-center",staticStyle:{"margin-top":"-15%"}},[t._v("\n                  Precio\n              ")])],a("currency-input",{staticClass:"form-control mb-3",staticStyle:{"margin-top":"-10px"},attrs:{locale:"de",placeholder:"Precio","addon-left-icon":"ni ni-money-coins"},model:{value:t.priceNew,callback:function(e){t.priceNew=e},expression:"priceNew"}}),a("div",{staticClass:"text-center"},[a("base-button",{staticClass:"my-2",attrs:{type:"warning",disabled:!(t.priceNew>0)},on:{click:function(e){return t.editPrice()}}},[t._v("Editar")])],1)],2)],1)],1)},r=[],o=(a("ac4d"),a("8a81"),a("ac6a"),a("a481"),a("96cf"),a("3b8d")),s=(a("6b54"),a("6762"),a("2fdb"),a("bc3a")),i=a.n(s),l=a("a5e9"),c=a.n(l),d=a("4b70"),u=a.n(d),h=a("e366"),p=a("04e1"),m=a.n(p),f=a("ef34"),g=a("bb36"),v={mixins:[f["a"],g["a"]],components:{vueCustomScrollbar:u.a},data:function(){var t=this;return{countProduct:[],dataHistoryClosed:[],dataHistory:[],modals:{modal4:!1,modal5:!1,modal6:!1,modal7:!1},priceNew:0,idPriceNew:"",lessInventory:"",totalValidLess:"",selectedProduct:"",productState:!0,products:[],searchText:"",searchInput:null,searchedColumn:"",dataHistoryClosedReport:[],dataForLess:{},columns:[{title:"Producto",dataIndex:"product",key:"product",ellipsis:!0,sorter:function(t,e){return t.product>e.product?-1:e.product>t.product?1:0},sortDirections:["descend","ascend"],scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.product.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Precio",dataIndex:"price",key:"price",ellipsis:!0,scopedSlots:{customRender:"priceInv"},sorter:function(t,e){return t.price-e.price}},{title:"Tipo de medida",dataIndex:"measure",key:"measure",ellipsis:!0,scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.measure.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Cantidad inicial",dataIndex:"quantity",key:"quantity",ellipsis:!0,scopedSlots:{customRender:"quantity"},sorter:function(t,e){return t.quantity-e.quantity}},{title:"Cantidad abastecida",dataIndex:"entry",key:"entry",ellipsis:!0,scopedSlots:{customRender:"entry"},sorter:function(t,e){return t.entry-e.entry}},{title:"Consumo",dataIndex:"consume",key:"consume",ellipsis:!0,scopedSlots:{customRender:"consume"},sorter:function(t,e){return t.consume-e.consume}},{title:"Total",key:"_id",ellipsis:!0,scopedSlots:{customRender:"total"},sorter:function(t,e){return t.quantity+t.entry-t.consume-(e.quantity+e.entry-e.consume)}},{title:"Acciones",key:"_id",width:170,scopedSlots:{customRender:"storeDev"}},{title:"Tipo de producto",key:"_id",width:170,scopedSlots:{customRender:"typeProduct"}}],columnsHistory:[{title:"Fecha",dataIndex:"date",key:"date",ellipsis:!0,defaultSortOrder:"descend",sorter:function(t,e){return new Date(t.date).getTime()-new Date(e.date).getTime()},scopedSlots:{customRender:"date"}},{title:"Producto",dataIndex:"product",key:"product",ellipsis:!0,sorter:function(t,e){return t.product>e.product?-1:e.product>t.product?1:0},sortDirections:["descend","ascend"],scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return e.product.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Anexado",dataIndex:"entry",key:"entry",ellipsis:!0},{title:"Medida",dataIndex:"measure",key:"measure",ellipsis:!0}],columnsHistoryClosed:[{title:"Fecha",dataIndex:"createdAt",key:"createdAt",ellipsis:!0,defaultSortOrder:"descend",sorter:function(t,e){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()},scopedSlots:{customRender:"date"}},{title:"Encargado del cierre",dataIndex:"user",key:"user",ellipsis:!0,sorter:function(t,e){return t.user>e.user?-1:e.user>t.user?1:0},sortDirections:["descend","ascend"],scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"user"},onFilter:function(t,e){return e.user.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Productos totales",dataIndex:"totalProduct",key:"totalProduct",ellipsis:!0},{title:"Informe",dataIndex:"_id",scopedSlots:{customRender:"report"},key:"_id",ellipsis:!0}],columnsHistoryClosedReport:[{title:"Producto",dataIndex:"product",key:"product",ellipsis:!0,sorter:function(t,e){return t.product>e.product?-1:e.product>t.product?1:0},sortDirections:["descend","ascend"],scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"product"},onFilter:function(t,e){return e.product.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Medida",dataIndex:"measure",key:"measure",ellipsis:!0,sorter:function(t,e){return t.measure>e.measure?-1:e.measure>t.measure?1:0},sortDirections:["descend","ascend"],scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"measure"},onFilter:function(t,e){return e.measure.toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){t.searchInput.focus()}),0)}},{title:"Total ideal",dataIndex:"ideal",key:"ideal",ellipsis:!0},{title:"Total real",dataIndex:"count",key:"count",ellipsis:!0},{title:"Diferencia",dataIndex:"difference",key:"difference",ellipsis:!0}],configHeader:{headers:{"x-database-connect":c.a.database,"x-access-token":localStorage.userToken}},auth:[]}},created:function(){this.getBranch(),this.getUserData(),this.getToken()},methods:{getUserData:function(){this.firstNameUser=localStorage.firstname,this.lastNameUser=localStorage.lastname,this.emailUser=localStorage.email,this.idUser=localStorage._id},validRoute:function(t,e){for(var a=0;a<this.auth.length;a++){var n=this.auth[a];if(n.ruta==t)for(var r=0;r<n.validaciones.length;r++)if(e==n.validaciones[r])return!0}},getToken:function(){var t=localStorage.userToken,e=m()(t);this.auth=e.access},editPrice:function(){var t=this;i.a.put(c.a.endpointTarget+"/stores/chagepriceinventory/"+this.idPriceNew,{id:this.idPriceNew,price:this.priceNew},this.configHeader).then((function(e){"changed"==e.data.status&&(t.$swal({icon:"success",title:"El precio fue editado",showConfirmButton:!1,timer:1500}),t.getProducts(),t.modals.modal7=!1)})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},returnToStore:function(){var t=this;i.a.get(c.a.endpointTarget+"/stores/getstorebyid/"+this.selectedProduct.storeId,this.configHeader).then((function(e){t.$swal({title:"¿Está seguro que desea eliminar "+t.lessInventory+" "+e.data.data.measure+" de este producto?",html:"¡Recuerda! se descontará de la sucursal: <b>"+t.branchName+"</b>",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"No, cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(e){e.value?i.a.post(c.a.endpointTarget+"/stores/addtobranch",{branch:t.branch,branchName:t.branchName,id:t.selectedProduct._id,storeId:t.selectedProduct.storeId,product:t.selectedProduct.product,measure:t.selectedProduct.measure,price:t.selectedProduct.price,entry:-t.lessInventory,firstNameUser:t.firstNameUser,lastNameUser:t.lastNameUser,emailUser:t.emailUser,idUser:t.idUser,inv:!0},t.configHeader).then((function(e){"added"==e.data.status&&i.a.post(c.a.endpointTarget+"/expenses/",{branch:t.branch,detail:"Se ha devuelto ".concat(t.lessInventory," ").concat(t.selectedProduct.measure," de ").concat(t.selectedProduct.product," a la bodega"),amount:-t.selectedProduct.price*t.lessInventory,type:"Inventario"},t.configHeader).then((function(e){"ok"==e.data.status&&(t.$swal({icon:"success",title:"La cantidad fue devuelta",showConfirmButton:!1,timer:1500}),t.getProducts(),t.getHistoryClosed(),t.modals.modal6=!1)})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):t.$swal({icon:"error",title:"Acción cancelada",showConfirmButton:!1,timer:1500})})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},getBranch:function(){this.branchName=localStorage.branchName,this.branch=localStorage.branch,this.getProducts(),this.getHistory(),this.getHistoryClosed()},getProducts:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.countProduct=[],this.productState=!0,t.prev=2,t.next=5,i.a.get(c.a.endpointTarget+"/stores/getinventorybybranch/"+this.branch,this.configHeader);case 5:if(e=t.sent,e){for(this.products=e.data.data,a=0;a<this.products.length;a++)n=this.products[a].quantity+this.products[a].entry-this.products[a].consume,this.countProduct.push({id:this.products[a]._id,count:"",ideal:n,measure:this.products[a].measure,product:this.products[a].product,difference:""});this.productState=!1}else this.products=[],this.productState=!1;t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));function e(){return t.apply(this,arguments)}return e}(),getHistory:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get(c.a.endpointTarget+"/stores/gethistorybybranch/"+this.branch,this.configHeader);case 3:e=t.sent,e?(this.dataHistory=e.data.data,this.productState=!1):(this.dataHistory=[],this.productState=!1),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getHistoryClosed:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get(c.a.endpointTarget+"/stores/gethistoryclosedbybranch/"+this.branch,this.configHeader);case 3:e=t.sent,e?(this.productState=!1,this.dataHistoryClosed=e.data.data):(this.dataHistoryClosed=[],this.productState=!1),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response?401==t.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),handleSearch:function(t,e,a){e(),this.searchText=t[0],this.searchedColumn=a},handleReset:function(t){t(),this.searchText=""},formatDate:function(t){var e=new Date(t);return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},closeInventory:function(){var t=this,e=!0,a=!0,n=!1,r=void 0;try{for(var o,s=this.countProduct[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;if(""==l.count||parseInt(l.count)<0){e=!1;break}}}catch(d){n=!0,r=d}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}e?i.a.post(c.a.endpointTarget+"/stores/closeinventorybybranch",{branch:this.branch,firstNameUser:this.firstNameUser,lastNameUser:this.lastNameUser,emailUser:this.emailUser,idUser:this.idUser,products:this.countProduct},this.configHeader).then((function(e){t.$swal({icon:"success",title:"Cierre realizado con éxito",showConfirmButton:!1,timer:1500}),t.getProducts(),t.getHistoryClosed(),t.modals.modal4=!1})).catch((function(e){e.response?401==e.response.status&&(t.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):this.$swal({icon:"error",title:"Complete todos los productos",showConfirmButton:!1,timer:1500})},productTypeEdit:function(t,e){var a=this;i.a.put(c.a.endpointTarget+"/stores/changetype/"+e,{productType:t},this.configHeader).then((function(t){"ok"==t.data.status&&(a.$swal({type:"success",icon:"success",title:"Cambio exitoso",showConfirmButton:!1,timer:1500}),a.getProducts(),h["a"].$emit("reloadProducts","reload"))})).catch((function(t){t.response?401==t.response.status&&(a.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):a.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}},mounted:function(){var t=this;h["a"].$on("changeBranch",(function(e){t.getBranch()}))},computed:{getScreen:function(){return screen.width<780?{x:"calc(700px + 50%)",y:240}:{y:"auto"}}}},b=v,y=(a("dffe"),a("2877")),x=Object(y["a"])(b,n,r,!1,null,null,null);e["default"]=x.exports},e5f4:function(t,e,a){},ff7d:function(t,e,a){"use strict";var n=a("e5f4"),r=a.n(n);r.a}}]);
//# sourceMappingURL=demo.e28727dc.js.map