(function(e){function t(t){for(var s,i,o=t[0],c=t[1],l=t[2],d=0,u=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);p&&p(t);while(u.length)u.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,i=1;i<a.length;i++){var o=a[i];0!==r[o]&&(s=!1)}s&&(n.splice(t--,1),e=c(c.s=a[0]))}return e}var s={},i={app:0},r={app:0},n=[];function o(e){return c.p+"js/"+({demo:"demo"}[e]||e)+"."+{"chunk-157ba924":"74fb2814","chunk-34264b1d":"50fedff6","chunk-6b932e4e":"4e44f130",demo:"7237b633"}[e]+".js"}function c(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-157ba924":1,"chunk-6b932e4e":1,demo:1};i[e]?t.push(i[e]):0!==i[e]&&a[e]&&t.push(i[e]=new Promise((function(t,a){for(var s="css/"+({demo:"demo"}[e]||e)+"."+{"chunk-157ba924":"983dcdcb","chunk-34264b1d":"31d6cfe0","chunk-6b932e4e":"d11e56b8",demo:"24df11e5"}[e]+".css",r=c.p+s,n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var l=n[o],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===s||d===r))return t()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){l=u[o],d=l.getAttribute("data-href");if(d===s||d===r)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var s=t&&t.target&&t.target.src||r,n=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=s,delete i[e],p.parentNode.removeChild(p),a(n)},p.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){i[e]=0})));var s=r[e];if(0!==s)if(s)t.push(s[2]);else{var n=new Promise((function(t,a){s=r[e]=[t,a]}));t.push(s[2]=n);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=o(e);var u=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(p);var a=r[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+i+")",u.name="ChunkLoadError",u.type=s,u.request=i,a[1](u)}r[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=s,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(a,s,function(t){return e[t]}.bind(null,s));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var p=d;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0e55":function(e,t,a){},"0e8d":function(e,t,a){},1:function(e,t){},"22d7":function(e,t,a){"use strict";var s=a("0e55"),i=a.n(s);i.a},"2474c":function(e,t,a){"use strict";var s=a("5d67"),i=a.n(s);i.a},"370a":function(e,t,a){},"41cb":function(e,t,a){"use strict";var s=a("2b0e"),i=a("8c4f"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper",class:{"nav-open":e.$sidebar.showSidebar}},[a("side-bar",{attrs:{"background-color":e.sidebarBackground,"short-title":"Syswa",title:"Syswa"}},[a("template",{slot:"links"},[e.validRoute("procesar")?a("base-button",{staticStyle:{"margin-left":"-50px"},attrs:{id:"processButton",size:"sm",type:"default",icon:"ni ni-tag"},on:{click:function(t){e.modals.modal1=!0,e.openModal()}}},[a("span",{staticStyle:{"margin-left":"15px"}},[e._v("Procesar")])]):e._e(),e.validRoute("agendamiento")?a("sidebar-item",{attrs:{link:{name:"Agendamiento",icon:"ni ni-calendar-grid-58 text-blue",path:"/Agendamiento"}}}):e._e(),e.validRoute("reportes")?a("sidebar-item",{attrs:{link:{name:"Reportes",icon:"ni ni-chart-bar-32 text-primary",path:"/dashboard"}}}):e._e(),e.validRoute("ventas")?a("sidebar-item",{attrs:{link:{name:"Ventas",icon:"ni ni-money-coins text-green",path:"/Ventas"}}}):e._e(),e.validRoute("pedidos")?a("sidebar-item",{attrs:{link:{name:"Gift Cards",icon:"ni ni-money-coins text-green",path:"/Pedidos"}}}):e._e(),e.validRoute("empleados")?a("sidebar-item",{attrs:{link:{name:"Empleados",icon:"ni ni-badge text-info",path:"/Empleados"}}}):e._e(),e.validRoute("usuarios")?a("sidebar-item",{attrs:{link:{name:"Usuarios",icon:"ni ni-key-25 text-red",path:"/Usuarios"}}}):e._e(),e.validRoute("servicios")?a("sidebar-item",{attrs:{link:{name:"Servicios",icon:"ni ni-bullet-list-67 text-orange",path:"/Servicios"}}}):e._e(),e.validRoute("clientes")?a("sidebar-item",{attrs:{link:{name:"Clientes",icon:"ni ni-circle-08 text-default",path:"/Clientes"}}}):e._e(),e.validRoute("inventario")?a("sidebar-item",{attrs:{link:{name:"Inventario",icon:"ni ni-box-2 text-orange",path:"/Inventario"}}}):e._e(),e.validRoute("gastos")?a("sidebar-item",{attrs:{link:{name:"Gastos",icon:"ni ni-tag text-green",path:"/Gastos"}}}):e._e(),e.validRoute("caja")?a("sidebar-item",{attrs:{link:{name:"Caja",icon:"ni ni-archive-2 text-green",path:"/Caja"}}}):e._e()],1)],2),a("div",{staticClass:"main-content",attrs:{data:e.sidebarBackground}},[a("dashboard-navbar"),a("div",{on:{click:e.toggleSidebar}},[a("fade-transition",{attrs:{duration:200,origin:"center top",mode:"out-in"}},[a("router-view")],1),e.$route.meta.hideFooter?e._e():a("content-footer")],1)],1),a("a-modal",{staticClass:"modal-lg px-0 pb-0 modalProcess",attrs:{size:"lg",footer:null,closable:!0},model:{value:e.modals.modal1,callback:function(t){e.$set(e.modals,"modal1",t)},expression:"modals.modal1"}},[a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white ","body-classes":"pb-0 pt-1"}},[[a("procesar")]],2)],1)],1)},n=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-nav",{staticClass:"navbar-top sticky-top navbar-dark",attrs:{id:"navbar-main","show-toggle-button":!1,expand:""}},[a("ul",{staticClass:"navbar-nav align-items-center  ml-md-auto "},[a("li",{staticClass:"nav-item"},[a("a-dropdown",{attrs:{disabled:!e.validRoute("sucursales","cambiar")}},[a("a-menu",{attrs:{slot:"overlay"},on:{click:e.selectBranch},slot:"overlay"},[e._l(e.branches,(function(t){return[t.active?a("a-menu-item",{key:t._id+"/"+t.name,staticClass:"font-weight-bold"},[a("a-icon",{staticStyle:{"vertical-align":"1px"},attrs:{type:"shop"}}),e._v(e._s(t.name)+" \n              ")],1):e._e()]}))],2),a("a-button",{staticClass:"mb-2 bg-default text-white font-weight-bold w-100",staticStyle:{border:"none"}},[e._v(" "+e._s(e.branchName)+" "),a("a-icon",{staticStyle:{"vertical-align":"1px"},attrs:{type:"down"}})],1)],1)],1),a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link",attrs:{role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(t){return e.validateNotifications()}}},[a("i",{staticClass:"ni ni-bell-55",class:e.pxSep,staticStyle:{"font-size":"18px","z-index":"1"}}),e.activeNotifications>0?a("badge",{staticClass:"notifyNumber text-white",staticStyle:{"font-size":"14px","z-index":"0"},attrs:{type:"primary"}},[e._v(e._s(e.activeNotifications))]):e._e()],1),a("div",{staticClass:"dropdown-menu dDeste  dropdown-menu-xl  dropdown-menu-right  py-0 overflow-hidden",staticStyle:{"z-index":"10000"}},[a("vue-custom-scrollbar",{staticClass:"w-100",staticStyle:{height:"50vh",overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"}},[a("div",{staticClass:"list-group list-group-flush",staticStyle:{"z-index":"10000"}},[e._l(e.notifications,(function(t){return a("a",{key:t._id,staticClass:"list-group-item list-group-item-action",attrs:{href:"#!"}},[a("div",{staticClass:"row align-items-center",on:{click:function(a){return e.pushLink(t.link)}}},[a("div",{staticClass:"col-auto"},[""==t.userImg||null==t.userImg?a("img",{staticClass:"avatar rounded-circle",attrs:{alt:"Image placeholder",src:"img/theme/profile-default.png"}}):a("img",{staticClass:"avatar rounded-circle",attrs:{alt:"Image placeholder",src:t.userImg}})]),a("div",{staticClass:"col ml--2"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("div",[a("h4",{staticClass:"mb-0 text-sm"},[e._v(e._s(t.userName))])]),a("div",{staticClass:"text-right text-muted"},[a("small",[e._v(e._s(e._f("moment")(t.createdAt,"from","now")))])])]),a("p",{staticClass:"text-sm mb-0"},[e._v(e._s(e.formatDetail(t.detail))+" "),a("br"),e._v(" "+e._s(t.detail.split("~")[1]))])])])])})),0==e.notifications.length?a("a-empty",{attrs:{image:e.simpleImage}},[a("span",{attrs:{slot:"description"},slot:"description"},[e._v(" No posees notificaciones nuevas ")])]):e._e()],2)]),e.all?a("span",{staticClass:"dropdown-item-text text-center text-primary font-weight-bold py-3",staticStyle:{cursor:"pointer"},on:{click:e.getAll}},[e._v("Ver todas")]):e._e()],1)])]),e.loader?a("div",{staticClass:"preloader"},[a("div",{staticClass:"preloader-body"},[a("div",{staticClass:"cssload-container"},[a("div",{staticClass:"cssload-speeding-wheel"}),a("h1",[e._v("Cargando sucursal")])])])]):e._e(),a("ul",{staticClass:"navbar-nav align-items-center d-none d-md-flex"},[a("li",{staticClass:"nav-item dropdown"},[a("base-dropdown",{staticClass:"nav-link pr-0"},[a("div",{staticClass:"media align-items-center",attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"avatar avatar-sm rounded-circle"},[""==e.haveImage?a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{alt:"Image placeholders",src:"img/theme/profile-default.png"}}):a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{alt:"Image placeholdesr",src:e.imgUser}})]),a("div",{staticClass:"media-body ml-2 d-none d-lg-block",staticStyle:{cursor:"pointer"}},[a("span",{staticClass:"mb-0 text-sm  font-weight-bold"},[e._v(e._s(e.nombre))])])]),[a("div",{staticClass:" dropdown-header noti-title"},[a("h6",{staticClass:"text-overflow m-0"},[e._v("¡Bienvenido!")])]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/profile"}},[a("i",{staticClass:"ni ni-single-02"}),a("span",[e._v("Mi perfil")])]),e.validRoutee("sucursales")?a("router-link",{staticClass:"dropdown-item",attrs:{to:"/sucursales"}},[a("a-icon",{staticStyle:{"vertical-align":"1px"},attrs:{type:"shop"}}),a("span",[e._v("Sucursales")])],1):e._e(),e.validRoutee("bodega")?a("router-link",{staticClass:"dropdown-item",attrs:{to:"/store"}},[a("i",{staticClass:"ni ni-box-2"}),a("span",[e._v("Bodega")])]):e._e(),a("div",{staticClass:"dropdown-divider"}),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/login"}},[a("i",{staticClass:"ni ni-user-run"}),a("span",[e._v("Cerrar sesión")])])]],2)],1)])])},c=[],l=(a("96cf"),a("3b8d")),d=(a("28a5"),a("6762"),a("2fdb"),a("7f7f"),a("ac4d"),a("8a81"),a("ac6a"),a("bc3a")),u=a.n(d),p=a("a5e9"),m=a.n(p),h=a("e366"),f=a("8055"),v=a.n(f),g=a("04e1"),b=a.n(g),y=a("fc25"),S=a("4b70"),C=a.n(S),_={components:{vueCustomScrollbar:C.a},data:function(){return{socket:v()(m.a.endpointTarget),activeNotifications:0,showMenu:!1,searchQuery:"",loader:!1,nombre:localStorage.firstname+" "+localStorage.lastname,imgUser:localStorage.imageUser,haveImage:localStorage.imageUser,idUser:localStorage._id,imgEndpoint:m.a.imgEndpoint,secondDetail:"",notifications:[],count:0,all:!0,pxSep:"",branches:[],branchName:localStorage.branchName,branch:localStorage.branch,auth:[]}},beforeCreate:function(){this.simpleImage=y["a"].PRESENTED_IMAGE_SIMPLE},created:function(){this.getNotifications(),this.getBranches()},methods:{pushLink:function(e){var t=!1;"/ventas"==pe.app._route.path.toLowerCase()&&(t=!0),pe.push(e),setTimeout((function(){h["a"].$emit("notifyLink","reload"),t&&h["a"].$emit("notifyLinkSales","reload")}),1e3)},toggleSidebar:function(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)},getToken:function(){var e=localStorage.userToken;if(e){var t=b()(e);this.auth=t.access,this.branch=localStorage.branch;var a=!0,s=!1,i=void 0;try{for(var r,n=this.branches[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var o=r.value;if(o._id==this.branch){this.branchName=o.name,localStorage.setItem("branchName",this.branchName);break}}}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}}},validRoute:function(e,t){for(var a=0;a<this.auth.length;a++){var s=this.auth[a];if(s.ruta==e)for(var i=0;i<s.validaciones.length;i++)if(t==s.validaciones[i])return!0}},validRoutee:function(e){for(var t=0;t<this.auth.length;t++){var a=this.auth[t];if(a.ruta==e)return!0}},hideSidebar:function(){this.$sidebar.displaySidebar(!1)},formatDetail:function(e,t){return e.includes("~")?e.split("~")[0]:e},selectBranch:function(e){e.key.split("/")[0]!=this.branch&&(this.loader=!0,localStorage.setItem("branch",e.key.split("/")[0]),localStorage.setItem("branchName",e.key.split("/")[1]),this.branch=e.key.split("/")[0],this.branchName=e.key.split("/")[1],h["a"].$emit("changeBranch"+pe.app._route.path.toLowerCase(),pe.app._route.path))},getBranches:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={headers:{"x-database-connect":m.a.database,"x-access-token":localStorage.userToken}},e.prev=1,e.next=4,u.a.get(m.a.endpointTarget+"/branches",t);case 4:a=e.sent,"ok"==a.data.status&&(this.branches=a.data.data,this.getToken()),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}(),toggleMenu:function(){this.showMenu=!this.showMenu},getNotifications:function(){var e=this,t={headers:{"x-database-connect":m.a.database,"x-access-token":localStorage.userToken}};u.a.get(m.a.endpointTarget+"/notifications/noviews/"+this.idUser,t).then((function(t){e.notifications=t.data.data,e.activeNotifications=t.data.data.length,e.activeNotifications<10?e.pxSep="pxSix":e.activeNotifications<100?e.pxSep="pxSixPlus":e.activeNotifications<999&&(e.pxSep="pxSixPlusTwo"),e.all=!0}))},validateNotifications:function(){var e=this,t={headers:{"x-database-connect":m.a.database,"x-access-token":localStorage.userToken}};u.a.get(m.a.endpointTarget+"/notifications/validateviews/"+this.idUser,t).then((function(t){e.notifications=t.data.data,e.activeNotifications=0,e.all=!0}))},getAll:function(){var e=this,t={headers:{"x-database-connect":m.a.database,"x-access-token":localStorage.userToken}};setTimeout((function(){$(".dDeste").dropdown("toggle")}),100),u.a.get(m.a.endpointTarget+"/notifications/getall/"+this.idUser,t).then((function(t){e.notifications=t.data.data,e.all=!1}))}},mounted:function(){var e=this;h["a"].$on("loggedin",(function(t){e.getBranches()})),h["a"].$on("dataChange",(function(t){e.nombre=t.name+" "+t.lastname,""!=t.image&&(e.imgUser=t.image)})),h["a"].$on("newBranch",(function(t){e.getBranches()})),h["a"].$on("pageLoaded",(function(t){t&&(e.loader=!1)})),this.socket.on("notify",(function(t){e.notifications.push(t),e.activeNotifications++}))}},w=_,x=(a("c6c3"),a("2877")),k=Object(x["a"])(w,o,c,!1,null,null,null),D=k.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer")},T=[],B={data:function(){return{year:(new Date).getFullYear()}}},j=B,E=Object(x["a"])(j,P,T,!1,null,null,null),N=E.exports,O=a("7c76"),I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{attrs:{size:"large",spinning:e.spinning}},[a("div",{staticClass:"row spin-content"},[a("div",{staticClass:"col-md-8 mb-3 pl-1 separatorLeft"},[a("div",{staticClass:"row p-0 rounded-lg bg-white mt-1 mr-1 pt-1",staticStyle:{"margin-left":"0.20rem"}},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"Client"}},[e._v("Cliente")]),a("br"),a("a-select",{staticClass:"mb-2 w-75 clientSelect",class:e.screenWidthInput,attrs:{"show-search":"",placeholder:"Prueba cliente","option-filter-prop":"children","filter-option":e.filterOption,allowClear:!0},on:{search:e.handleSearch,change:e.chooseClient},model:{value:e.registerClient.select,callback:function(t){e.$set(e.registerClient,"select",t)},expression:"registerClient.select"}},e._l(e.clientsRegex,(function(t){return a("a-select-option",{key:t._id,attrs:{value:t._id}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])})),1),e.ifEdit?a("a-button",{staticClass:"ml-1",attrs:{disabled:!e.validRoute("procesar","editar_cliente"),type:"primary",shape:"round"},on:{click:function(t){e.modals.modal2=!0}}},[a("i",{staticClass:"fa fa-user-edit",staticStyle:{"font-size":"1.5em"}})]):a("a-button",{staticClass:"ml-1",attrs:{disabled:!e.validRoute("procesar","nuevo_cliente"),type:"primary",shape:"round"},on:{click:function(t){e.modals.modal2=!0}}},[a("i",{staticClass:"fa fa-user-plus",staticStyle:{"font-size":"1.5em"}})])],1),a("div",{staticClass:"col-md-3"},[a("label",{staticClass:"mb-2",attrs:{for:"Client"}},[e._v("Correo cliente")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.registerClient.email,expression:"registerClient.email"}],staticClass:"ant-input w-100",attrs:{readonly:"",placeholder:"Correo"},domProps:{value:e.registerClient.email},on:{input:function(t){t.target.composing||e.$set(e.registerClient,"email",t.target.value)}}})]),a("div",{staticClass:"col-md-3"},[a("label",{staticClass:"mb-2",attrs:{for:"Client"}},[e._v("Cumpleaños cliente")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.registerClient.birthday,expression:"registerClient.birthday"}],staticClass:"ant-input w-100",attrs:{readonly:"",placeholder:"Cumpleaños"},domProps:{value:e.registerClient.birthday},on:{input:function(t){t.target.composing||e.$set(e.registerClient,"birthday",t.target.value)}}})])]),a("div",{staticClass:"card-container mt-1"},[a("a-tabs",{attrs:{type:"card"}},[a("a-tab-pane",{key:"1"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"plus-circle"}}),"display:none"!=e.hideText?a("span",[e._v("Servicios")]):e._e()],1),a("div",{staticClass:"row p-2"},[a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"mb-0",attrs:{for:"service"}},[e._v("Servicio")]),a("a-select",{staticClass:"mb-2 pt-1 w-100 thisSelect",attrs:{"show-search":"",placeholder:"Seleccione el servicio","option-filter-prop":"children","filter-option":e.filterOption,allowClear:!0,disabled:e.readyClient},on:{change:e.chooseService}},e._l(e.services,(function(t){return a("a-select-option",{key:t._id,attrs:{value:t._id}},[e._v("\n                                        "+e._s(t.name)+"\n                                    ")])})),1)],1),a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"mb-0",attrs:{for:"employe"}},[e._v("Empleado")]),a("a-select",{ref:"employeSelect",staticClass:"mb-2 pt-1 w-100 thisSelect",attrs:{"show-search":"",placeholder:"Seleccione el empleado","option-filter-prop":"children","filter-option":e.filterOption,allowClear:!0,disabled:e.readyClient},on:{change:e.chooseEmploye}},e._l(e.registerService.lenders,(function(t){return a("a-select-option",{key:t._id,attrs:{value:t._id}},[e._v("\n                                        "+e._s(t.firstName)+" "+e._s(t.lastName)+"\n                                    ")])})),1)],1),a("div",{staticClass:"col-md-6"},[a("label",{staticStyle:{"margin-bottom":"5px"},attrs:{for:"Client"}},[e._v("Precio")]),a("currency-input",{staticClass:"ant-input w-100 mb-3",staticStyle:{"margin-top":"-10px"},attrs:{locale:"de",disabled:e.readyClient},on:{keyup:e.recalculatedPrice},model:{value:e.itemData.price,callback:function(t){e.$set(e.itemData,"price",t)},expression:"itemData.price"}})],1),a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"mb-0",staticStyle:{"margin-bottom":"6px"},attrs:{for:"Client"}},[e._v("Descuento")]),e.validRoute("procesar","descuento")?[a("a-input",{staticClass:"w-100",attrs:{type:"number",placeholder:"Descuento",disabled:e.itemData.discountServiceIf},on:{keyup:e.addDiscountFunc},model:{value:e.itemData.discountService,callback:function(t){e.$set(e.itemData,"discountService",t)},expression:"itemData.discountService"}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{slot:"suffix",type:"percentage"},slot:"suffix"})],1)]:[a("a-tooltip",[a("template",{slot:"title"},[e._v("\n                                            No tiene permisos para aplicar descuento\n                                        ")]),a("a-input",{staticClass:"w-100",attrs:{type:"number",placeholder:"Descuento",disabled:""},model:{value:e.itemData.discountService,callback:function(t){e.$set(e.itemData,"discountService",t)},expression:"itemData.discountService"}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{slot:"suffix",type:"percentage"},slot:"suffix"})],1)],2)]],2),a("div",{staticClass:"col-md-6",staticStyle:{"margin-top":"-5px"}},[a("label",{staticClass:"w-50",class:e.marginAdditional,attrs:{for:"Client"}},[e._v("Adicionales")]),a("br"),a("a-select",{staticClass:"mt-1 mr-1 thisSelect",class:e.screenWidthInput,attrs:{"show-search":"",placeholder:"Seleccione un adicional","option-filter-prop":"children","filter-option":e.filterOption,disabled:e.readyClient,allowClear:!0},on:{change:e.chooseAditional},model:{value:e.microSelect.name,callback:function(t){e.$set(e.microSelect,"name",t)},expression:"microSelect.name"}},e._l(e.microservices,(function(t){return a("a-select-option",{key:t.microService,attrs:{value:t.microService+"/"+t.price}},[e._v("\n                                        "+e._s(t.microService)+"\n                                    ")])})),1),a("currency-input",{staticClass:"ant-input mt-1 mr-1 mb-3 col-8",class:e.screenWidth,attrs:{locale:"de",disabled:e.readyClient},model:{value:e.microSelect.price,callback:function(t){e.$set(e.microSelect,"price",t)},expression:"microSelect.price"}}),a("a-button",{staticClass:"ml-1 mt-1",attrs:{disabled:e.microValid,type:"primary",shape:"round"},on:{click:e.addAdditional}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"plus"}})],1)],1),a("div",{staticClass:"col-md-6",staticStyle:{"margin-top":"-5px"}},[a("label",{staticStyle:{"margin-top":"-20px"},attrs:{for:"Micros"}},[e._v("Adicionales seleccionados")]),a("br"),e.microserviceSelecteds.length>0?[e._l(e.microserviceSelecteds,(function(t,s){return[a("badge",{key:s,staticClass:"ml-2 mt-2",attrs:{type:"primary"}},[e._v(e._s(t.name))])]}))]:[a("badge",{staticClass:"mt-2",attrs:{type:"default"}},[e._v("Ninguno seleccionado")])]],2)]),a("hr",{staticClass:"mt-3 mb-2"}),a("base-button",{staticClass:"float-right mt-1",attrs:{size:"sm",type:"primary"},on:{click:function(t){return e.addItem("service")}}},[e._v("Agregar item")])],1),a("a-tab-pane",{key:"2"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"shopping"}}),"display:none"!=e.hideText?a("span",[e._v("Productos")]):e._e()],1),a("div",{staticClass:"row p-2"},[a("div",{staticClass:"col-md-6"},[a("label",{staticStyle:{"margin-bottom":"0px"},attrs:{for:"service"}},[e._v("Producto")]),a("a-select",{ref:"serviceSelect",staticClass:"mb-2 pt-1 w-100 thisSelect",attrs:{"show-search":"",placeholder:"Seleccione el producto","option-filter-prop":"children","filter-option":e.filterOption,allowClear:!0,disabled:e.readyClient},on:{change:e.chooseProduct}},e._l(e.products,(function(t){return a("a-select-option",{key:t._id,attrs:{value:t._id}},[e._v("\n                                        "+e._s(t.product)+"\n                                    ")])})),1)],1),a("div",{staticClass:"col-md-6"},[a("label",{staticStyle:{"margin-bottom":"3px"},attrs:{for:"quantity"}},[e._v("Cantidad")]),a("a-input",{staticClass:"w-100",attrs:{disabled:e.readyClient,type:"number",placeholder:"Cantidad"},on:{keyup:e.calculatedQuantity},model:{value:e.itemData.quantityProduct,callback:function(t){e.$set(e.itemData,"quantityProduct",t)},expression:"itemData.quantityProduct"}})],1),a("div",{staticClass:"col-md-6"},[a("label",{staticStyle:{"margin-bottom":"12px"},attrs:{for:"Client"}},[e._v("Precio")]),a("currency-input",{staticClass:"ant-input w-100 mb-3",staticStyle:{"margin-top":"-10px"},attrs:{locale:"de",disabled:e.readyClient},on:{keyup:e.recalculatedPrice},model:{value:e.itemData.price,callback:function(t){e.$set(e.itemData,"price",t)},expression:"itemData.price"}})],1),a("div",{staticClass:"col-md-6"},[a("label",{staticStyle:{"margin-bottom":"6px"},attrs:{for:"Client"}},[e._v("Descuento")]),e.validRoute("procesar","descuento")?[a("a-input",{staticClass:"w-100",attrs:{type:"number",placeholder:"Descuento",disabled:e.itemData.discountServiceIf},on:{keyup:e.addDiscountFuncProduct},model:{value:e.itemData.discountService,callback:function(t){e.$set(e.itemData,"discountService",t)},expression:"itemData.discountService"}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{slot:"suffix",type:"percentage"},slot:"suffix"})],1)]:[a("a-tooltip",[a("template",{slot:"title"},[e._v("\n                                            No tiene permisos para aplicar descuento\n                                        ")]),a("a-input",{staticClass:"w-100",attrs:{type:"number",placeholder:"Descuento",disabled:""},model:{value:e.itemData.discountService,callback:function(t){e.$set(e.itemData,"discountService",t)},expression:"itemData.discountService"}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{slot:"suffix",type:"percentage"},slot:"suffix"})],1)],2)]],2)]),a("base-button",{staticClass:"float-right mt-1",attrs:{size:"sm",type:"primary"},on:{click:function(t){return e.addItem("product")}}},[e._v("Agregar item")])],1),a("a-tab-pane",{key:"3"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"schedule"}}),"display:none"!=e.hideText?a("span",[e._v("Citas finalizadas")]):e._e()],1),a("a-config-provider",{scopedSlots:e._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[e._v("No ha ingresado items")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:e.columnDates,loading:e.progress,"data-source":e.datesFinally,scroll:e.getScreen},scopedSlots:e._u([{key:"date-slot",fn:function(t,a){return[e._v("\n                                    "+e._s(e._f("formatDate")(a.createdAt))+"\n                                ")]}},{key:"service-slot",fn:function(t,a){return[e._v("\n                                    Cantidad: "+e._s(a.services.length)+"\n                                ")]}},{key:"employe-slot",fn:function(t,a){return[e._v("\n                                    "+e._s(a.employe.name)+"\n                                ")]}},{key:"total-slot",fn:function(t,a){return[e._v("\n                                    "+e._s(e._f("formatPrice")(a.total))+"\n                                ")]}},{key:"actionInsert",fn:function(t,s){return[a("base-button",{attrs:{disabled:e.readyClient,size:"sm",type:"success"},on:{click:function(t){return e.addItem("date",s)}}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"plus-circle"}})],1)]}}])})],1)],1)],1)],1),a("a-config-provider",{scopedSlots:e._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[e._v("No ha ingresado items")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:e.columns,pagination:{pageSize:3,defaultPageSize:3},loading:e.progress,"data-source":e.serviceSelecteds,scroll:e.getScreen},scopedSlots:e._u([{key:"price-slot",fn:function(t,a){return[e._v("\n                        "+e._s(e._f("formatPrice")(a.price))+"\n                        ")]}},{key:"item-slot",fn:function(t,a){return[e._v("\n                        "+e._s(a.item.name)+"\n                    ")]}},{key:"discount-slot",fn:function(t,s,i){return[e.validRoute("procesar","descuento")?["service"==s.tag?a("a-input",{attrs:{disabled:s.ifDiscount},on:{keyup:function(a){return e.addDiscountTable(t,i)}},model:{value:s.discount,callback:function(t){e.$set(s,"discount",t)},expression:"column.discount"}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{slot:"suffix",type:"percentage"},slot:"suffix"})],1):a("a-input",{attrs:{disabled:s.ifDiscount},on:{keyup:function(a){return e.addDiscountTableProduct(t,i)}},model:{value:s.discount,callback:function(t){e.$set(s,"discount",t)},expression:"column.discount"}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{slot:"suffix",type:"percentage"},slot:"suffix"})],1)]:[a("a-tooltip",[a("template",{slot:"title"},[e._v("\n                                    No tiene permisos para aplicar descuento\n                                ")]),a("a-input",{staticClass:"w-100",attrs:{type:"number",placeholder:"Descuento",disabled:""},model:{value:s.discount,callback:function(t){e.$set(s,"discount",t)},expression:"column.discount"}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{slot:"suffix",type:"percentage"},slot:"suffix"})],1)],2)]]}},{key:"additional-slot",fn:function(t,a){return["service"==a.tag?[e._v("\n                            "+e._s(e.formatPrice(a.additionalTotal))+"\n                        ")]:[e._v("\n                            Cantidad: "+e._s(a.quantityProduct)+"\n                        ")]]}},{key:"total-slot",fn:function(t,a){return[e._v("\n                        "+e._s(e._f("formatPrice")(a.total))+"\n                    ")]}},{key:"actionRemove",fn:function(t,s,i){return[a("base-button",{attrs:{size:"sm",type:"danger"},on:{click:function(t){return e.removeItem(i)}}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"minus-circle"}})],1)]}},{key:"expandedRowRender",fn:function(t){return[a("p",[e._v(e._s(t.description))])]}}])},[a("span",{attrs:{slot:"customTitle"},slot:"customTitle"},[a("a-icon",{attrs:{type:"smile-o"}}),e._v(" Name")],1)])],1)],1),a("div",{staticClass:"col-md-4"},[a("h3",[e._v("Métodos de pago")]),a("div",{staticClass:"row"},[e.typesPay.length>0?[e._l(e.typesPay,(function(t,s){return a("div",{key:t.type,staticClass:"col-md-6 mt-2"},[a("a-button",{staticClass:"w-100",attrs:{disabled:!(e.serviceSelecteds.length>0),type:"primary",ghost:t.click},on:{click:function(t){return e.selectPay(s)}}},[a("a-icon",{staticClass:"ml-2",staticStyle:{"vertical-align":"1.5px"},attrs:{type:"plus-square"}}),e._v("\n                            "+e._s(t.type)+"\n                        ")],1)],1)})),a("div",{staticClass:"col-md-6 mt-2"},[a("a-button",{staticClass:"w-100",attrs:{disabled:!(e.serviceSelecteds.length>0),type:"primary",ghost:!0},on:{click:function(t){e.modals.modal5=!0,e.orderNumber=""}}},[a("a-icon",{staticClass:"ml-2",staticStyle:{"vertical-align":"1.5px"},attrs:{type:"plus-square"}}),e._v("\n                            Gift Card\n                        ")],1)],1)]:e._e()],2),a("label",{staticClass:"mt-2",attrs:{for:"type"}},[a("b",[e._v("Tipo")])]),a("a-input",{staticClass:"w-100 mb-2",attrs:{placeholder:"Método de pago",disabled:!(e.serviceSelecteds.length>0)},model:{value:e.payment.type,callback:function(t){e.$set(e.payment,"type",t)},expression:"payment.type"}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{slot:"preffix",type:"credit-card"},slot:"preffix"})],1),a("label",{attrs:{for:"type"}},[a("b",[e._v("Total")])]),a("currency-input",{staticClass:"ant-input w-100 mb-3",attrs:{disabled:!(e.serviceSelecteds.length>0||"Gift Card"==e.payment.type),locale:"de"},model:{value:e.payment.total,callback:function(t){e.$set(e.payment,"total",t)},expression:"payment.total"}}),a("a-button",{staticClass:"float-right w-50",attrs:{disabled:!(e.serviceSelecteds.length>0&&""!=e.payment.type&&e.payment.total>0),type:"primary"},on:{click:function(t){return e.addPayment()}}},[e._v("\n                Agregar pago\n            ")]),a("hr",{staticClass:"mt-5 mb-2"}),a("a-config-provider",{scopedSlots:e._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[e._v("No ha ingresado métodos de pago")])],1)]},proxy:!0}])},[a("a-list",{attrs:{bordered:"","data-source":e.paysSelecteds},scopedSlots:e._u([{key:"renderItem",fn:function(t,s){return a("a-list-item",{},[e._v("\n                        "+e._s(t.type)+": "+e._s(e._f("formatPrice")(t.total))+" \n                        "),a("a-button",{staticClass:"float-right",staticStyle:{"margin-top":"-6px"},attrs:{type:"danger"},on:{click:function(t){return e.removePay(s)}}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"close-circle"}})],1)],1)}}])})],1),a("hr",{staticClass:"mt-2 mb-2"}),a("h3",[e._v("Pagado: "+e._s(e._f("formatPrice")(e.totalPay)))]),a("h3",[e._v("Total: "+e._s(e._f("formatPrice")(e.totalSale)))]),a("p",[a("b",[e._v("Por pagar: ")]),e._v(e._s(e._f("formatPrice")(e.showPerPay(e.perPay)))+" | "),a("b",[e._v("Vuelto: "+e._s(e._f("formatPrice")(e.restPay)))])]),a("a-button",{staticClass:"float-right",staticStyle:{"margin-top":"-6px"},attrs:{disabled:!(e.serviceSelecteds.length>0),loading:e.ifProccess,type:"primary"},on:{click:e.proccessSale}},[e._v("\n                Procesar\n                "),a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"shopping"}})],1)],1),a("modal",{attrs:{show:e.modals.modal1,gradient:e.modals.type,"modal-classes":"modal-danger modal-dialog-centered"},on:{"update:show":function(t){return e.$set(e.modals,"modal1",t)}}},[a("div",{staticClass:"py-3 text-center"},[a("i",{class:e.modals.icon}),a("h1",{staticClass:"heading mt-5"},[e._v(e._s(e.modals.message))])])]),a("modal",{attrs:{show:e.modals.modal2,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(t){return e.$set(e.modals,"modal2",t)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5"}},[[a("div",{staticClass:"text-muted text-center mb-3"},[a("h1",[e._v("Datos del cliente")])])],[a("form",{attrs:{role:"form"}},[a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Nombre","addon-left-icon":"ni ni-single-02"},on:{keyup:function(t){return e.validRegister(2)}},model:{value:e.registerClient.firstName,callback:function(t){e.$set(e.registerClient,"firstName",t)},expression:"registerClient.firstName"}}),a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Apellido","addon-left-icon":"ni ni-single-02"},on:{keyup:function(t){return e.validRegister(2)}},model:{value:e.registerClient.lastName,callback:function(t){e.$set(e.registerClient,"lastName",t)},expression:"registerClient.lastName"}}),a("base-input",{attrs:{alternative:"",type:"text",placeholder:"Correo","addon-left-icon":"fa fa-address-card"},on:{keyup:function(t){return e.validRegister(2)}},model:{value:e.registerClient.email,callback:function(t){e.$set(e.registerClient,"email",t)},expression:"registerClient.email"}}),a("div",{staticClass:"col-12 mb-4 p-0"},[a("VuePhoneNumberInput",{attrs:{"default-phoner-number":e.registerClient.phone.nationalNumber,"default-country-code":e.registerClient.phone.countryCode,translations:{countrySelectorLabel:"Código de país",countrySelectorError:"Elije un país",phoneNumberLabel:"Número de teléfono",example:"Ejemplo :"}},on:{update:function(t){e.phoneData=t,e.registerClient.phone=t,e.validRegister(2)}},model:{value:e.registerClient.phone.formatNational,callback:function(t){e.$set(e.registerClient.phone,"formatNational",t)},expression:"registerClient.phone.formatNational"}})],1),a("base-input",{attrs:{"addon-left-icon":"ni ni-calendar-grid-58"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.focus,i=t.blur;return a("flat-picker",{staticClass:"form-control datepicker",attrs:{config:e.configDate,placeholder:"Seleccione una fecha"},on:{"on-open":s,"on-close":i,"on-change":function(t){return e.validRegister(2)}},model:{value:e.registerClient.birthday,callback:function(t){e.$set(e.registerClient,"birthday",t)},expression:"registerClient.birthday"}})}}])}),a("base-input",{attrs:{alternative:"",type:"text",placeholder:"Instagram","addon-left-icon":"fa fa-address-card"},model:{value:e.registerClient.instagram,callback:function(t){e.$set(e.registerClient,"instagram",t)},expression:"registerClient.instagram"}}),e.ifEdit?e._e():a("base-checkbox",{staticClass:"mb-3",model:{value:e.registerClient.discount,callback:function(t){e.$set(e.registerClient,"discount",t)},expression:"registerClient.discount"}},[e._v("\n                            Descuento de nuevo cliente\n                        ")]),e.ifEdit?e._e():a("vue-single-select",{attrs:{options:e.clientNames,placeholder:"Recomendador"},model:{value:e.registerClient.recommender,callback:function(t){e.$set(e.registerClient,"recommender",t)},expression:"registerClient.recommender"}}),a("div",{staticClass:"text-center"},[e.ifEdit?e._e():a("base-button",{staticClass:"my-4",attrs:{type:"default",disabled:!e.registerClient.valid},on:{click:function(t){return e.registerClients()}}},[e._v("Registrar")]),e.ifEdit?a("base-button",{staticClass:"my-4",attrs:{type:"default",disabled:!e.registerClient.valid},on:{click:function(t){return e.editClient()}}},[e._v("Editar")]):e._e()],1)],1)]],2)],1),a("modal",{attrs:{show:e.modals.modal3,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(t){return e.$set(e.modals,"modal3",t)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5"}},[[a("div",{staticClass:"text-muted text-center mb-3",staticStyle:{"margin-top":"-15%"}},[a("h1",[e._v("Nuevo servicio")])])],[a("form",{attrs:{role:"form"}},[a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Nombre","addon-left-icon":"ni ni-single-copy-04"},on:{change:function(t){return e.validRegister(1)}},model:{value:e.registerService.serviceRegister,callback:function(t){e.$set(e.registerService,"serviceRegister",t)},expression:"registerService.serviceRegister"}}),a("base-input",{attrs:{alternative:"",type:"number","max-count":"100",placeholder:"comisión (%)","addon-left-icon":"ni ni-money-coins"},on:{change:function(t){return e.validRegister(1)}},model:{value:e.registerService.comissionRegister,callback:function(t){e.$set(e.registerService,"comissionRegister",t)},expression:"registerService.comissionRegister"}}),a("currency-input",{staticClass:"form-control mb-3",staticStyle:{"margin-top":"-10px"},attrs:{locale:"de",placeholder:"Costo"},on:{change:function(t){return e.validRegister(1)}},model:{value:e.registerService.priceRegister,callback:function(t){e.$set(e.registerService,"priceRegister",t)},expression:"registerService.priceRegister"}}),a("select",{directives:[{name:"model",rawName:"v-model",value:e.registerService.timeRegister,expression:"registerService.timeRegister"}],staticClass:"form-control mb-3",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.registerService,"timeRegister",t.target.multiple?a:a[0])},function(t){return e.validRegister(1)}]}},[a("option",{staticStyle:{color:"black"},attrs:{selected:"",value:"Seleccione el tiempo"}},[e._v("Seleccione el tiempo")]),a("option",{staticStyle:{color:"black"},attrs:{value:"15"}},[e._v("15 Minutos")]),a("option",{staticStyle:{color:"black"},attrs:{value:"30"}},[e._v("30 Minutos")]),a("option",{staticStyle:{color:"black"},attrs:{value:"45"}},[e._v("45 Minutos")]),a("option",{staticStyle:{color:"black"},attrs:{value:"60"}},[e._v("60 Minutos (1 Hr)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"90"}},[e._v("90 Minutos (1:30 Hr)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"120"}},[e._v("120 Minutos (2 Hr)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"150"}},[e._v("150 Minutos (2:30 Hr)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"180"}},[e._v("180 Minutos (3 Hr)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"210"}},[e._v("210 Minutos (3:30 Hr)")]),a("option",{staticStyle:{color:"black"},attrs:{value:"240"}},[e._v("240 Minutos (4 Hr)")])]),a("div",{staticClass:"row mx-auto mt-2"},[a("h3",{staticClass:"w-100 text-center"},[e._v("¿Aplica descuento?")]),a("base-radio",{staticClass:"mb-3 mx-auto",attrs:{name:"false",inline:""},model:{value:e.registerService.addDiscount,callback:function(t){e.$set(e.registerService,"addDiscount",t)},expression:"registerService.addDiscount"}},[a("b",[e._v("Si")])]),a("base-radio",{staticClass:"mb-3 mx-auto",attrs:{name:"true",inline:""},model:{value:e.registerService.addDiscount,callback:function(t){e.$set(e.registerService,"addDiscount",t)},expression:"registerService.addDiscount"}},[a("b",[e._v("No")])])],1),a("vue-custom-scrollbar",{staticClass:"maxHeight"},[a("vue-bootstrap4-table",{attrs:{rows:e.registerService.lenders,columns:e.columnsLender,classes:e.classes,config:e.configLender},on:{"on-select-row":e.selected,"on-all-select-rows":e.selectedAll,"on-unselect-row":e.unSelected,"on-all-unselect-rows":e.unSelectedAll}})],1),a("div",{staticClass:"text-center"},[e.registerService.valid?a("base-button",{staticClass:"my-4",attrs:{type:"default"},on:{click:function(t){return e.registerServiceProcess()}}},[e._v("Registrar")]):a("base-button",{staticClass:"my-4",attrs:{type:"default",disabled:""},on:{click:function(t){return e.registerServiceProcess()}}},[e._v("Registrar")])],1)],1)]],2)],1),a("modal",{attrs:{show:e.modals.modal4,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(t){return e.$set(e.modals,"modal4",t)}}},[a("h4",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[e._v("Registrar monto de apertura")]),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white","body-classes":"px-lg-2 py-lg-2"}},[[a("form",{attrs:{role:"form"}},[a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Nombre el cajero","addon-left-icon":"ni ni-circle-08"},on:{keyup:function(t){return e.validRegister(3)}},model:{value:e.cashFunds.cashName,callback:function(t){e.$set(e.cashFunds,"cashName",t)},expression:"cashFunds.cashName"}}),a("currency-input",{staticClass:"form-control mb-3",staticStyle:{"margin-top":"-10px"},attrs:{locale:"de","addon-left-icon":"ni ni-money-coins"},on:{keyup:function(t){return e.validRegister(3)}},model:{value:e.cashFunds.cashAmount,callback:function(t){e.$set(e.cashFunds,"cashAmount",t)},expression:"cashFunds.cashAmount"}}),e.cashFunds.valid?a("base-button",{staticClass:"float-right",attrs:{type:"default"},on:{click:e.registerFund}},[e._v("\n                            Ingresar fondo\n                        ")]):a("base-button",{staticClass:"float-right",attrs:{type:"default",disabled:""}},[e._v("\n                            Ingresar fondo\n                        ")])],1)]],2)],1),a("modal",{attrs:{show:e.modals.modal5,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(t){return e.$set(e.modals,"modal5",t)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 "}},[[a("div",{staticClass:"text-muted text-center mb-3",staticStyle:{"margin-top":"-10%"}},[a("h3",[e._v("Validación de Gift card")]),a("p",[e._v("Consulta al cliente para obtener el estado")])])],[a("form",{attrs:{role:"form"}},[a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Número de orden","addon-left-icon":"ni ni-key-25"},model:{value:e.orderNumber,callback:function(t){e.orderNumber=t},expression:"orderNumber"}}),a("base-button",{attrs:{type:"default"},on:{click:function(t){return e.validCode()}}},[e._v("\n                            Verificar\n                        ")])],1)]],2)],1),a("modal",{attrs:{show:e.modals.modal6,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(t){return e.$set(e.modals,"modal6",t)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 py-lg-5"}},[[a("div",{staticClass:"text-muted text-center mb-3",staticStyle:{"margin-top":"-10%"}},[a("h3",[e._v("Información Gift card")])])],[a("div",{staticClass:"col-sm-12"},[a("base-button",{staticClass:"col-12  p-2 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"text-center"},[e._v(" Comprador "),a("br")]),a("badge",{staticClass:"text-default mt-2",staticStyle:{"font-size":"0.8em !important"},attrs:{type:"success"}},[e._v(e._s(e.orderClient.name))])],1),a("base-button",{staticClass:"col-12  p-2 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"text-center"},[e._v(" Medio de pago "),a("br")]),a("badge",{staticClass:"text-default mt-2",staticStyle:{"font-size":"0.8em !important"},attrs:{type:"success"}},[e._v(e._s(e.orderTypePay))])],1),a("base-button",{staticClass:"col-12  p-2 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"text-center"},[e._v(" Servicios "),a("br")]),e._l(e.orderProducts,(function(t){return a("badge",{key:t,staticClass:"text-default mt-2",staticStyle:{"font-size":"0.8em !important"},attrs:{type:"success"}},[e._v(e._s(t.name))])}))],2),a("base-button",{staticClass:"col-12  p-2 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"text-center"},[e._v(" Monto del pedido "),a("br")]),a("badge",{staticClass:"text-default mt-2",staticStyle:{"font-size":"0.8em !important"},attrs:{type:"success"}},[e._v(e._s(e._f("formatPrice")(e.totalOrder)))])],1),a("base-button",{staticClass:"col-12  p-2 mt-1",attrs:{type:"secondary"}},[a("span",{staticClass:"text-center"},[e._v(" Estado "),a("br")]),"nConfirmed"==e.orderStatus?a("badge",{staticClass:"text-default mt-2",staticStyle:{"font-size":"0.8em !important"},attrs:{type:"danger"}},[e._v("Sin confirmar")]):"confirmed"==e.orderStatus?a("badge",{staticClass:"text-default mt-2",staticStyle:{"font-size":"0.8em !important"},attrs:{type:"success"}},[e._v("confirmado")]):a("badge",{staticClass:"text-default mt-2",staticStyle:{"font-size":"0.8em !important"},attrs:{type:"default"}},[e._v("Usado")])],1)],1),a("center",["confirmed"==e.orderStatus?a("base-button",{staticClass:"mt-5",attrs:{type:"success"},on:{click:function(t){e.modals.modal7=!0,e.orderCode=""}}},[e._v("\n                            Usar\n                        ")]):a("base-button",{staticClass:"mt-5",attrs:{type:"default",disabled:""}},[e._v("\n                            Usar\n                        ")])],1)]],2)],1),a("modal",{attrs:{show:e.modals.modal7,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-md"},on:{"update:show":function(t){return e.$set(e.modals,"modal7",t)}}},[a("h6",{staticClass:"modal-title p-0 m-0",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-5 "}},[[a("div",{staticClass:"text-muted text-center mb-3",staticStyle:{"margin-top":"-10%"}},[a("h3",[e._v("Código de Gift card")]),a("p",[e._v("Solicitar al cliente para agregar como método de pago")])])],[a("form",{attrs:{role:"form"}},[a("base-input",{staticClass:"mb-3",attrs:{alternative:"",placeholder:"Código","addon-left-icon":"ni ni-key-25"},model:{value:e.orderCode,callback:function(t){e.orderCode=t},expression:"orderCode"}}),a("base-button",{attrs:{type:"success"},on:{click:function(t){return e.verifyCode()}}},[e._v("\n                            Usar\n                        ")])],1)]],2)],1)],1)])},R=[],F=(a("6b54"),a("a481"),a("bd86")),A=a("12f9"),z=a("c38f"),H=a.n(z),G=(a("0952"),a("7bec")),U=a.n(G),L=(a("4413"),a("4336")),M={mixins:[L["a"]],components:{vueCustomScrollbar:C.a,VueBootstrap4Table:A["a"],flatPicker:H.a,VuePhoneNumberInput:U.a},data:function(){var e;return{socket:v()(m.a.endpointTarget),auth:[],validator:!0,validatorBtn:!0,spinning:!1,modals:{modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!1,modal7:!1,message:"",icon:"",type:""},clientsRegex:[],priceService:0,priceServiceReal:0,discountService:"",discountServiceIf:!1,typesPay:[],payment:{type:"",total:0},configHeader:{headers:{"x-database-connect":m.a.database,"x-access-token":localStorage.userToken}},configDate:{allowInput:!0,dateFormat:"d-m-Y"},registerClient:{firstName:"",lastName:"",email:"",phone:{countryCode:"CL",isValid:!1,phoneNumber:"",countryCallingCode:"",formattedNumber:"",nationalNumber:"",formatInternational:"",formatNational:"",uri:"",e164:""},instagram:"",birthday:"",discount:!1,recommender:"",select:"Seleccione",valid:!1},orderProducts:"",orderNumber:"",orderClient:"",orderTypePay:"",orderStatus:"",orderId:"",orderCode:"",totalOrder:"",cashFunds:{cashName:"",cashAmount:0,valid:!1},registerService:{serviceRegister:"",comissionRegister:"",priceRegister:0,timeRegister:"Seleccione el tiempo",addDiscount:!1,lenderSelecteds:[],lenders:[],valid:!1},columnsLender:[{label:"Nombre",name:"firstName",sort:!0}],progress:!1,columnDates:[{title:"Fecha",dataIndex:"createdAT",key:"createdAT",ellipsis:!0,scopedSlots:{customRender:"date-slot"}},{title:"Cliente",dataIndex:"client.name",key:"client",ellipsis:!0,scopedSlots:{customRender:"client-slot"}},{title:"Servicios",dataIndex:"service",key:"service",ellipsis:!0,scopedSlots:{customRender:"service-slot"}},{title:"Empleados",dataIndex:"employe",key:"employe",ellipsis:!0,scopedSlots:{customRender:"employe-slot"}},{title:"Total",dataIndex:"total",key:"total",ellipsis:!0,scopedSlots:{customRender:"total-slot"}},{title:"",dataIndex:"_id",key:"_id",ellipsis:!0,scopedSlots:{customRender:"actionInsert"}}],columns:[{title:"Item",dataIndex:"item",key:"item",width:"20%",ellipsis:!0,scopedSlots:{customRender:"item-slot"}},{title:"Precio",dataIndex:"price",key:"price",width:"15%",ellipsis:!1,scopedSlots:{customRender:"price-slot"}},{title:"Descuento",dataIndex:"discount",key:"discount",width:"15%",ellipsis:!1,scopedSlots:{customRender:"discount-slot"}},{title:"Adicional",dataIndex:"additionalTotal",key:"additionalTotal",width:"20%",ellipsis:!1,scopedSlots:{customRender:"additional-slot"}},{title:"Total",dataIndex:"total",key:"total",width:"20%",ellipsis:!0,scopedSlots:{customRender:"total-slot"}},{title:"",dataIndex:"id",key:"id",width:"10%",ellipsis:!1,scopedSlots:{customRender:"actionRemove"}}],configLender:(e={checkbox_rows:!0,rows_selectable:!0,highlight_row_hover_color:"rgba(238, 238, 238, 0.623)"},Object(F["a"])(e,"rows_selectable",!0),Object(F["a"])(e,"per_page_options",[5,10,20,30,40,50,80,100]),Object(F["a"])(e,"show_refresh_button",!1),Object(F["a"])(e,"show_reset_button",!1),Object(F["a"])(e,"selected_rows_info",!1),Object(F["a"])(e,"preservePageOnDataChange",!0),Object(F["a"])(e,"pagination_info",!1),Object(F["a"])(e,"pagination",!1),Object(F["a"])(e,"global_search",{placeholder:"Busque el prestador",visibility:!0,case_sensitive:!1,showClearButton:!0,searchOnPressEnter:!1,searchDebounceRate:200}),e),classes:{table:"table-bordered table-striped"},readyClient:!0,clientNames:[],clientIds:[],clients:[],clientSelect:null,lenderNames:[],lenderSelect:null,services:[],inspector:!1,countServices:[],price:0,discount:"",design:0,payOrder:0,haveCode:!1,subTotal:0,total:0,discountSelect:"Descuento",totalSinFormato:0,serviciosSelecionados:[],resto:0,dates:{dateSale:new Date},idProcess:"",docLender:"",newClient:{valid:!1,text:"Nuevo cliente"},newService:{valid:!1,text:"Nuevo servicio"},reloadSales:{valid:!1,text:"Reiniciar datos"},ifEdit:!1,inspectorDate:!1,editClientId:"",ifrecomend:!1,branchName:"",branch:"",microservices:[],microSelect:{name:"",price:0},ifProccess:!1,quantityMicro:1,microserviceSelecteds:[],serviceSelecteds:[],datesFinally:[],itemData:{item:{},price:0,realPrice:0,discountServiceIf:!1,discountService:"",employe:{id:"",name:"",document:""},quantityProduct:"",commission:0},totalSale:0,products:[],perPay:0,restPay:0,totalPay:0,paysSelecteds:[],microValid:!0}},created:function(){this.getToken(),this.getBranch()},methods:{getToken:function(){var e=localStorage.userToken,t=b()(e);this.auth=t.access},changeDate:function(){this.inspectorDate=!0},selected:function(e){this.registerService.lenderSelecteds.push(e.selected_item._id),this.validRegister(1)},handleSearch:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""==t){e.next=14;break}return this.clientsRegex=[],e.prev=2,e.next=5,u.a.get(m.a.endpointTarget+"/clients/regex/"+t,this.configHeader);case 5:a=e.sent,"ok"==a.data.status&&(this.clientsRegex=a.data.data),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:e.next=15;break;case 14:this.clientsRegex=[];case 15:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(t){return e.apply(this,arguments)}return t}(),getTypesPay:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a,s,i,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get(m.a.endpointTarget+"/configurations/"+this.branch,this.configHeader);case 3:if(t=e.sent,"ok"!=t.data.status){e.next=25;break}for(this.typesPay=[],a=!0,s=!1,i=void 0,e.prev=9,r=t.data.data.typesPay[Symbol.iterator]();!(a=(n=r.next()).done);a=!0)o=n.value,this.typesPay.push({type:o,total:0,click:!0});e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](9),s=!0,i=e.t0;case 17:e.prev=17,e.prev=18,a||null==r.return||r.return();case 20:if(e.prev=20,!s){e.next=23;break}throw i;case 23:return e.finish(20);case 24:return e.finish(17);case 25:e.next=30;break;case 27:e.prev=27,e.t1=e["catch"](0),e.t1.response?401==e.t1.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 30:case"end":return e.stop()}}),e,this,[[0,27],[9,13,17,25],[18,,20,24]])})));function t(){return e.apply(this,arguments)}return t}(),getBranch:function(){this.branchName=localStorage.branchName,this.branch=localStorage.branch,this.getLenders(),this.getServices(),this.getTypesPay(),this.getMicroservices(),this.getProducts(),this.getFinallyDates()},getFinallyDates:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a,s,i,r,n,o,c,l,d,p,h,f,v,g,b,y,S,C,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("".concat(m.a.endpointTarget,"/dates/deleteEndingDates/").concat(this.branch),this.configHeader);case 3:return e.sent,e.prev=4,e.next=7,u.a.get(m.a.endpointTarget+"/dates/getEndingDates/"+this.branch,this.configHeader);case 7:if(t=e.sent,"ok"!=t.data.status){e.next=82;break}a=!0,s=!1,i=void 0,e.prev=12,r=t.data.data[Symbol.iterator]();case 14:if(a=(n=r.next()).done){e.next=65;break}o=n.value,o.total=0,c=!0,l=!1,d=void 0,e.prev=20,p=o.services[Symbol.iterator]();case 22:if(c=(h=p.next()).done){e.next=48;break}for(f=h.value,v=0,g=!0,b=!1,y=void 0,e.prev=28,S=f.microServiceSelect[Symbol.iterator]();!(g=(C=S.next()).done);g=!0)_=C.value,v+=_.price;e.next=36;break;case 32:e.prev=32,e.t0=e["catch"](28),b=!0,y=e.t0;case 36:e.prev=36,e.prev=37,g||null==S.return||S.return();case 39:if(e.prev=39,!b){e.next=42;break}throw y;case 42:return e.finish(39);case 43:return e.finish(36);case 44:o.total=o.total+v+f.price;case 45:c=!0,e.next=22;break;case 48:e.next=54;break;case 50:e.prev=50,e.t1=e["catch"](20),l=!0,d=e.t1;case 54:e.prev=54,e.prev=55,c||null==p.return||p.return();case 57:if(e.prev=57,!l){e.next=60;break}throw d;case 60:return e.finish(57);case 61:return e.finish(54);case 62:a=!0,e.next=14;break;case 65:e.next=71;break;case 67:e.prev=67,e.t2=e["catch"](12),s=!0,i=e.t2;case 71:e.prev=71,e.prev=72,a||null==r.return||r.return();case 74:if(e.prev=74,!s){e.next=77;break}throw i;case 77:return e.finish(74);case 78:return e.finish(71);case 79:this.datesFinally=t.data.data,e.next=83;break;case 82:this.datesFinally=[];case 83:e.next=88;break;case 85:e.prev=85,e.t3=e["catch"](4),e.t3.response?401==e.t3.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 88:e.next=93;break;case 90:e.prev=90,e.t4=e["catch"](0),e.t4.response?401==e.t4.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 93:case"end":return e.stop()}}),e,this,[[0,90],[4,85],[12,67,71,79],[20,50,54,62],[28,32,36,44],[37,,39,43],[55,,57,61],[72,,74,78]])})));function t(){return e.apply(this,arguments)}return t}(),unSelected:function(e){for(var t=0;t<this.registerService.lenderSelecteds.length;t++)if(this.registerService.lenderSelecteds[t]==e.unselected_item._id){this.registerService.lenderSelecteds.splice(t,1);break}this.validRegister(1)},selectedAll:function(e){for(var t=0;t<e.selected_items.length;t++)this.registerService.lenderSelecteds.push(e.selected_items[t]._id);this.validRegister(1)},unSelectedAll:function(e){this.registerService.lenderSelecteds=[],this.validRegister(1)},validRegister:function(e){var t=this;1==e?this.registerService.valid=this.registerService.lenderSelecteds.length>0&&""!=this.registerService.serviceRegister&&this.registerService.priceRegister>0&&"Seleccione el tiempo"!=this.registerService.timeRegister&&""!=this.registerService.comissionRegister:2==e?(1==this.registerClient.firstName.length&&(this.registerClient.firstName=this.registerClient.firstName.toUpperCase()),1==this.registerClient.lastName.length&&(this.registerClient.lastName=this.registerClient.lastName.toUpperCase()),setTimeout((function(){""!=t.registerClient.firstName&&""!=t.registerClient.lastName&&""!=t.registerClient.email&&t.registerClient.phone.isValid&&""!=t.registerClient.birthday&&2==t.registerClient.email.split("@").length&&t.registerClient.email.split("@")[1].split(".").length>=2?t.registerClient.valid=!0:t.registerClient.valid=!1}),200)):this.cashFunds.valid=""!=this.cashFunds.cashName},registerFund:function(){var e=this;u.a.post(m.a.endpointTarget+"/sales/registerFund",{userRegister:this.cashFunds.cashName,amount:this.cashFunds.cashAmount,branch:this.branch},this.configHeader).then((function(t){"ok"==t.data.status&&(e.$swal({icon:"success",title:"Monto de caja registrado.",showConfirmButton:!1,timer:1500}),e.modals.modal4=!1,e.cashFunds.cashName="",e.cashFunds.cashAmount="",e.cashFunds.valid=!1)})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},editClient:function(){var e=this;u.a.put(m.a.endpointTarget+"/clients/"+this.editClientId,{firstName:this.registerClient.firstName,lastName:this.registerClient.lastName,email:this.registerClient.email,phone:this.registerClient.phone,instagram:this.registerClient.instagram,birthday:this.registerClient.birthday},this.configHeader).then((function(t){"update client"==t.data.status?(e.$swal({icon:"success",title:"El cliente se editó con éxito.",showConfirmButton:!1,timer:1500}),e.modals.modal2=!1):e.$swal({icon:"error",title:"El cliente ya existe.",showConfirmButton:!1,timer:1500})})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},registerClients:function(){var e=this,t=this.registerClient.birthday;if(this.registerClient.birthday.split("-")[1]){var a=this.registerClient.birthday.split("-");t=a[1]+"-"+a[0]+"-"+a[2]}var s="";if(""!=this.registerClient.recommender)for(var i=0;i<this.clientIds.length;i++){var r=this.clientIds[i].split("-");r[0]==this.registerClient.recommender&&(s=r[1])}var n=this.registerClient.discount?0:1;u.a.post(m.a.endpointTarget+"/clients",{firstName:this.registerClient.firstName,lastName:this.registerClient.lastName,email:this.registerClient.email,recommender:this.registerClient.recommender,idRecommender:s,phone:this.registerClient.phone.isValid?this.registerClient.phone:"",birthday:t,instagram:this.registerClient.instagram,ifCheck:n},this.configHeader).then((function(t){"client create"==t.data.status?(e.$swal({icon:"success",title:"Cliente registrado.",showConfirmButton:!1,timer:1500}),e.editClientId=t.data.data._id,e.registerClient.select=e.registerClient.firstName+" "+e.registerClient.lastName,e.readyClient=!1,e.ifEdit=!0,e.modals.modal2=!1):e.$swal({icon:"error",title:"El cliente ya existe.",showConfirmButton:!1,timer:1500})})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},mouseOverVenta:function(e){setTimeout((function(){e.valid=!0}),500)},mouseLeaveVenta:function(e){e.valid=!1},registerServiceProcess:function(){var e=this,t=!this.registerService.addDiscount;u.a.post(m.a.endpointTarget+"/services",{branch:this.branch,name:this.registerService.serviceRegister,price:this.registerService.priceRegister,commission:this.registerService.comissionRegister,duration:this.registerService.timeRegister,employes:this.registerService.lenderSelecteds,descuento:t,products:[]},this.configHeader).then((function(t){"ok"==t.data.status?(e.$swal({icon:"success",title:"Servicio registrado.",showConfirmButton:!1,timer:1500}),e.registerService={serviceRegister:"",comissionRegister:"",priceRegister:0,timeRegister:"Seleccione el tiempo",addDiscount:!1,lenderSelecteds:[],lenders:[],valid:!1},e.getServices()):e.$swal({icon:"error",title:"El servicio ya existe.",showConfirmButton:!1,timer:1500})})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},getLenders:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get(m.a.endpointTarget+"/employes/employesbybranch/"+this.branch,this.configHeader);case 3:t=e.sent,"ok"==t.data.status&&(this.registerService.lenders=t.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?401==e.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),getServices:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get(m.a.endpointTarget+"/services/"+this.branch,this.configHeader);case 3:t=e.sent,"ok"==t.data.status?this.services=t.data.data:this.services=[],e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?401==e.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),getProducts:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get(m.a.endpointTarget+"/stores/getproductsales/"+this.branch,this.configHeader);case 3:t=e.sent,"ok"==t.data.status?this.products=t.data.data:this.products=[],e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?401==e.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),addItem:function(e,t){""==this.itemData.quantityProduct&&(this.itemData.quantityProduct=0);var a="none";if("date"==e){var s=(new Date).getTime(),i=!0,r=!1,n=void 0;try{for(var o,c=t.services[Symbol.iterator]();!(i=(o=c.next()).done);i=!0){var l=o.value,d=!0,u=!1,p=void 0;try{for(var m,h=l.microServiceSelect[Symbol.iterator]();!(d=(m=h.next()).done);d=!0){var f=m.value;this.microserviceSelecteds.push({id:(new Date).getTime(),name:f.name,price:f.price})}}catch(F){u=!0,p=F}finally{try{d||null==h.return||h.return()}finally{if(u)throw p}}this.itemData.item=l,this.itemData.tag="service",this.itemData.employe=t.employe,this.itemData.realPrice=l.price,this.itemData.price=l.price,this.itemData.commission=l.commission,this.itemData.discountServiceIf=l.discount,this.itemData.discountService=0,a=t;var v=0,g="",b=!0,y=!1,S=void 0;try{for(var C,_=this.microserviceSelecteds[Symbol.iterator]();!(b=(C=_.next()).done);b=!0){var w=C.value;v+=parseFloat(w.price),g=""==g?w.name:g+", "+w.name}}catch(F){y=!0,S=F}finally{try{b||null==_.return||_.return()}finally{if(y)throw S}}var x="service"==this.itemData.tag?"Servicio: ".concat(this.itemData.item.name," | Empleado: ").concat(this.itemData.employe.name," | Adicionales: ").concat(g):"".concat(0==this.itemData.quantityProduct||""==this.itemData.quantityProduct?1:this.itemData.quantityProduct,") ").concat(this.itemData.item.measure),k="service"==this.itemData.tag?this.itemData.price*parseFloat("0."+this.itemData.commission)+.5*v:"none";this.serviceSelecteds.push({item:this.itemData.item,price:this.itemData.realPrice,discount:""==this.itemData.discountService?0:this.itemData.discountService,additionalTotal:v,additionals:this.microserviceSelecteds,ifDiscount:this.itemData.discountServiceIf,total:this.itemData.price+v,commission:this.itemData.commission,commissionEmploye:k,totalLocal:"service"==this.itemData.tag?this.itemData.price-k+.5*v:.5*this.itemData.price,quantityProduct:"service"!=this.itemData.tag?0==this.itemData.quantityProduct||""==this.itemData.quantityProduct?1:this.itemData.quantityProduct:"none",productsService:this.itemData.item.products?this.itemData.item.products:[],tag:this.itemData.tag,employe:"service"==this.itemData.tag?this.itemData.employe:"none",description:x,datesItem:a,id:s}),this.itemData={item:{},price:0,realPrice:0,discountServiceIf:!1,discountService:"",employe:{id:"",name:"",document:""},quantityProduct:"",commission:0,tag:""},this.calculatedTotal(),this.microserviceSelecteds=[]}}catch(F){r=!0,n=F}finally{try{i||null==c.return||c.return()}finally{if(r)throw n}}for(var D in this.datesFinally){var P=this.datesFinally[D];P._id==t._id&&this.datesFinally.splice(D,1)}}else{v=0,g="";var T=!0,B=!1,j=void 0;try{for(var E,N=this.microserviceSelecteds[Symbol.iterator]();!(T=(E=N.next()).done);T=!0){var O=E.value;v+=parseFloat(O.price),g=""==g?O.name:g+", "+O.name}}catch(F){B=!0,j=F}finally{try{T||null==N.return||N.return()}finally{if(B)throw j}}x="service"==this.itemData.tag?"Servicio: ".concat(this.itemData.item.name," | Empleado: ").concat(this.itemData.employe.name," | Adicionales: ").concat(g):"".concat(0==this.itemData.quantityProduct||""==this.itemData.quantityProduct?1:this.itemData.quantityProduct,") ").concat(this.itemData.item.measure);var I="service"==this.itemData.tag?this.itemData.price*parseFloat("0."+this.itemData.commission)+.5*v:"none";if(this.itemData.item.name&&this.itemData.realPrice>0&&this.itemData.price>0&&""!=this.itemData.tag){var R=!1;R="service"!=this.itemData.tag||""!=this.itemData.employe.name,R?(this.serviceSelecteds.push({item:this.itemData.item,price:this.itemData.realPrice,discount:""==this.itemData.discountService?0:this.itemData.discountService,additionalTotal:v,additionals:this.microserviceSelecteds,ifDiscount:this.itemData.discountServiceIf,total:this.itemData.price+v,commission:this.itemData.commission,commissionEmploye:I,totalLocal:"service"==this.itemData.tag?this.itemData.price-I+.5*v:.5*this.itemData.price,quantityProduct:"service"!=this.itemData.tag?0==this.itemData.quantityProduct||""==this.itemData.quantityProduct?1:this.itemData.quantityProduct:"none",productsService:this.itemData.item.products?this.itemData.item.products:[],tag:this.itemData.tag,employe:"service"==this.itemData.tag?this.itemData.employe:"none",description:x,datesItem:"none",id:"none"}),this.itemData={item:{},price:0,realPrice:0,discountServiceIf:!1,discountService:"",employe:{id:"",name:"",document:""},quantityProduct:"",commission:0,tag:""},this.calculatedTotal(),this.microserviceSelecteds=[],$(".thisSelect .ant-select-selection__clear").click()):this.$swal({icon:"error",title:"Debe llenar todos los campos",showConfirmButton:!1,timer:1500})}else this.$swal({icon:"error",title:"Debe llenar todos los campos",showConfirmButton:!1,timer:1500})}},calculatedTotal:function(){var e=0,t=!0,a=!1,s=void 0;try{for(var i,r=this.serviceSelecteds[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var n=i.value;e+=n.total}}catch(o){a=!0,s=o}finally{try{t||null==r.return||r.return()}finally{if(a)throw s}}this.totalSale=e,this.perPay=this.totalSale-this.totalPay,this.restPay=this.perPay<0?Math.abs(this.perPay):0},removeItem:function(e){var t=this.serviceSelecteds[e].id;if("none"!=this.serviceSelecteds[e].datesItem){var a=new Array;for(var s in this.datesFinally.push(this.serviceSelecteds[e].datesItem),this.serviceSelecteds){var i=this.serviceSelecteds[s];t==i.id&&a.push(s)}this.serviceSelecteds.splice(a[0],a.length)}else this.serviceSelecteds.splice(e,1);this.calculatedTotal(),0==this.serviceSelecteds.length&&(this.paysSelecteds=[],this.perPay=0,this.totalPay=0,this.restPay=0)},showPerPay:function(e){return e<0?0:e},selectPay:function(e){var t=!0,a=!1,s=void 0;try{for(var i,r=this.typesPay[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var n=i.value;n.click=!0}}catch(o){a=!0,s=o}finally{try{t||null==r.return||r.return()}finally{if(a)throw s}}this.typesPay[e].click=!1,this.payment.type=this.typesPay[e].type,this.payment.total=this.perPay},usePayGift:function(){this.payment.type="Gift Card",this.totalOrder>=this.perPay?this.payment.total=this.perPay:this.payment.total=this.totalOrder},addPayment:function(){var e=!0,t=!1,a=void 0;try{for(var s,i=this.typesPay[Symbol.iterator]();!(e=(s=i.next()).done);e=!0){var r=s.value;r.click=!0}}catch(S){t=!0,a=S}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}var n=!0,o=!0,c=!1,l=void 0;try{for(var d,u=this.paysSelecteds[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){var p=d.value;if(p.type==this.payment.type){p.total=p.total+this.payment.total,n=!1;break}}}catch(S){c=!0,l=S}finally{try{o||null==u.return||u.return()}finally{if(c)throw l}}if(n)if("Gift Card"==this.payment.type){if(this.payment.total>this.totalOrder)return this.$swal({icon:"error",title:"El monto ingresado supera el monto total de la Gift Card",showConfirmButton:!1,timer:1500}),!1;this.paysSelecteds.push({type:this.payment.type,total:this.payment.total,code:this.orderCode,order:this.orderNumber,totalG:this.totalOrder})}else this.paysSelecteds.push({type:this.payment.type,total:this.payment.total});console.log(this.paysSelecteds);var m=0,h=!0,f=!1,v=void 0;try{for(var g,b=this.paysSelecteds[Symbol.iterator]();!(h=(g=b.next()).done);h=!0){var y=g.value;m+=y.total}}catch(S){f=!0,v=S}finally{try{h||null==b.return||b.return()}finally{if(f)throw v}}this.totalPay=m,this.calculatedTotal(),this.payment.type="",this.payment.total=0},removePay:function(e){this.totalPay=this.totalPay-this.paysSelecteds[e].total,this.paysSelecteds.splice(e,1),this.calculatedTotal()},formatPrice:function(e){var t=(e/1).toFixed(2).replace(".",",");return"$ "+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},hundredPercent:function(e){this.typesPay.forEach((function(e){e.total=0})),this.typesPay[e].total=parseFloat(this.totalSinFormato)-parseFloat(this.payOrder)},addDiscountFunc:function(){var e=this.itemData.discountService<10?"0"+this.itemData.discountService:this.itemData.discountService;""!=this.itemData.discountService?this.itemData.price=this.itemData.realPrice-this.itemData.realPrice*parseFloat("0."+e):this.itemData.price=this.itemData.realPrice},addDiscountFuncProduct:function(){var e=0==this.itemData.quantityProduct||""==this.itemData.quantityProduct?1:this.itemData.quantityProduct,t=this.itemData.discountService<10?"0"+this.itemData.discountService:this.itemData.discountService;""!=this.itemData.discountService?this.itemData.price=this.itemData.realPrice*e-this.itemData.realPrice*e*parseFloat("0."+t):this.itemData.price=this.itemData.realPrice*e},calculatedQuantity:function(){""!=this.itemData.quantityProduct?0==this.itemData.quantityProduct?this.itemData.price=this.itemData.realPrice:this.itemData.price=this.itemData.realPrice*this.itemData.quantityProduct:this.itemData.price=this.itemData.realPrice},recalculatedPrice:function(){this.itemData.quantityProduct="",this.itemData.realPrice=this.itemData.price},addDiscountTable:function(e,t){var a=e<10?"0"+e:e;for(var s in this.serviceSelecteds[t].discount>0?this.serviceSelecteds[t].total=this.serviceSelecteds[t].price-this.serviceSelecteds[t].price*parseFloat("0."+a)+this.serviceSelecteds[t].additionalTotal:this.serviceSelecteds[t].total=this.serviceSelecteds[t].price+this.serviceSelecteds[t].additionalTotal,this.totalPay=0,this.paysSelecteds)this.paysSelecteds.splice(s,1);this.calculatedTotal()},addDiscountTableProduct:function(e,t){var a=e<10?"0"+e:e;for(var s in this.serviceSelecteds[t].discount>0?this.serviceSelecteds[t].total=this.serviceSelecteds[t].price*this.serviceSelecteds[t].quantityProduct-this.serviceSelecteds[t].price*this.serviceSelecteds[t].quantityProduct*parseFloat("0."+a):this.serviceSelecteds[t].total=this.serviceSelecteds[t].price*this.serviceSelecteds[t].quantityProduct,this.totalPay=0,this.paysSelecteds)this.paysSelecteds.splice(s,1);this.calculatedTotal()},chooseAditional:function(e){e?(this.microSelect={name:e.split("/")[0],price:parseFloat(e.split("/")[1])},this.microValid=!1):this.microValid=!0},addAdditional:function(){this.microValid=!0,this.microserviceSelecteds.push({id:(new Date).getTime(),name:this.microSelect.name,price:this.microSelect.price}),this.microSelect.price=0,this.microSelect.name="Seleccione"},removeMicro:function(e){this.itemData.price=this.itemData.price-this.microserviceSelecteds[e].price,this.itemData.realPrice=this.itemData.realPrice-this.microserviceSelecteds[e].price,this.microserviceSelecteds.splice(e,1)},chooseEmploye:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}return e.prev=1,e.next=4,u.a.get("".concat(m.a.endpointTarget,"/employes/justonebyid/").concat(t),this.configHeader);case 4:a=e.sent,this.itemData.employe.id=a.data.data._id,this.itemData.employe.name=a.data.data.firstName+" "+a.data.data.lastName,this.itemData.employe.document=a.data.data.document,this.itemData.employe.closed=!1,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),e.t0.response?401==e.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 14:e.next=19;break;case 16:this.itemData.employe.id="",this.itemData.employe.name="",this.itemData.employe.document="";case 19:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(t){return e.apply(this,arguments)}return t}(),getMicroservices:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("".concat(m.a.endpointTarget,"/configurations/getMicroservice/").concat(this.branch),this.configHeader);case 3:t=e.sent,this.microservices=t.data.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?401==e.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),chooseProduct:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}return e.prev=1,e.next=4,u.a.get("".concat(m.a.endpointTarget,"/stores/getinventorybyid/").concat(t),this.configHeader);case 4:a=e.sent,a.data.data.name=a.data.data.product,this.itemData.item=a.data.data,this.itemData.price=a.data.data.price,this.itemData.realPrice=a.data.data.price,this.itemData.discountServiceIf=!1,this.itemData.commission=0,this.itemData.tag="product",a.data.data.entry-a.data.data.consume<=0&&this.$swal({icon:"info",title:"Producto sin stock",text:"El producto se encuentra sin stock disponible en inventario. En caso de continuar con venta, revise su stock actual",showConfirmButton:!0}),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](1),e.t0.response?401==e.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 18:e.next=28;break;case 20:this.itemData.item={},this.itemData.price=0,this.itemData.realPrice=0,this.itemData.commission=0,this.itemData.discountServiceIf=!1,this.itemData.discountService="",this.microserviceSelecteds=[],this.itemData.tag="";case 28:case"end":return e.stop()}}),e,this,[[1,15]])})));function t(t){return e.apply(this,arguments)}return t}(),chooseService:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}return e.prev=1,e.next=4,u.a.get("".concat(m.a.endpointTarget,"/services/getServiceInfo/").concat(t),this.configHeader);case 4:a=e.sent,this.itemData.item=a.data.data,this.itemData.price=a.data.data.price,this.itemData.realPrice=a.data.data.price,this.itemData.discountServiceIf=a.data.data.discount,this.itemData.commission=a.data.data.commission,this.itemData.tag="service",e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),e.t0.response?401==e.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 16:e.next=26;break;case 18:this.itemData.item={},this.itemData.price=0,this.itemData.realPrice=0,this.itemData.commission=0,this.itemData.discountServiceIf=!1,this.itemData.discountService="",this.microserviceSelecteds=[],this.itemData.tag="";case 26:case"end":return e.stop()}}),e,this,[[1,13]])})));function t(t){return e.apply(this,arguments)}return t}(),proccessSale:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ifProccess=!0,!(this.perPay<=0)){e.next=15;break}return e.prev=2,e.next=5,u.a.post("".concat(m.a.endpointTarget,"/sales/process"),{items:this.serviceSelecteds,total:this.totalSale,totalPay:this.totalPay,typesPay:this.paysSelecteds,client:this.registerClient,clientId:this.editClientId,branch:this.branch,date:new Date,restPay:this.restPay},this.configHeader);case 5:t=e.sent,"ok"==t.data.status?(this.paysSelecteds.forEach((function(e){"Gift Card"==e.type&&u.a.put(m.a.endpointTarget+"/orders/usecode/"+e.code,{orderNumber:e.order,total:e.total},a.configHeader).then((function(e){}))})),this.$swal({icon:"success",title:"Venta procesada",showConfirmButton:!1,timer:1e3}),h["a"].$emit("reloadSales","reload"),this.initialState(),this.ifProccess=!1):(this.$swal({icon:"error",title:"Registre fondo de caja",showConfirmButton:!1,timer:1500}),this.modals.modal4=!0,this.ifProccess=!1),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log("🚀 ~ file: Process.vue ~ line 2136 ~ proccessSale ~ err",e.t0),e.t0.response?401==e.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 13:e.next=17;break;case 15:this.$swal({icon:"warning",title:"Debe completar los pagos",showConfirmButton:!1,timer:1500}),this.ifProccess=!1;case 17:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}(),chooseClient:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ifrecomend=!1,this.clientSelect=t,!this.clientSelect){e.next=31;break}return e.prev=3,e.next=6,u.a.get("".concat(m.a.endpointTarget,"/clients/findOne/").concat(t),this.configHeader);case 6:return a=e.sent,this.newClient.text="Editar cliente",this.ifEdit=!0,this.editClientId=a.data.data._id,this.registerClient.firstName=a.data.data.firstName,this.registerClient.lastName=a.data.data.lastName,this.registerClient.email=a.data.data.email,this.registerClient.phone=a.data.data.phone,this.registerClient.instagram=a.data.data.instagram,this.readyClient=!1,this.registerClient.select=a.data.data.firstName+" "+a.data.data.lastName,this.validRegister(2),this.registerClient.birthday="",e.next=21,u.a.get("".concat(m.a.endpointTarget,"/configurations/").concat(this.branch),this.configHeader);case 21:s=e.sent,s.data.data.notificationDiscount&&(a.data.data.birthday?(this.registerClient.birthday=this.$options.filters.formatDate(a.data.data.birthday),i=new Date(a.data.data.birthday).getMonth(),r=(new Date).getMonth(),a.data.data.recommendations>0?this.$swal({icon:"info",title:"Descuento reconocido",text:"El cliente tiene descuento por recomendación.",showConfirmButton:!0}):i==r?this.$swal({icon:"info",title:"Descuento reconocido",text:"El cliente tiene descuento por mes de nacimiento.",showConfirmButton:!0}):0==a.data.data.attends&&this.$swal({icon:"info",title:"Descuento reconocido",text:"El cliente tiene descuento de primera atención",showConfirmButton:!0})):a.data.data.recommendations>0?this.$swal({icon:"info",title:"Descuento reconocido",text:"El cliente tiene descuento por mes de nacimiento.",showConfirmButton:!0}):0==a.data.data.attends&&this.$swal({icon:"info",title:"Descuento reconocido",text:"El cliente tiene descuento de primera atención",showConfirmButton:!0})),this.clientSelect={name:a.data.data.firstName,email:a.data.data.email},e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](3),e.t0.response?401==e.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 29:e.next=42;break;case 31:this.newClient.text="Nuevo cliente",this.ifEdit=!1,this.registerClient.firstName="",this.registerClient.select="Seleccione",this.registerClient.lastName="",this.registerClient.email="",this.registerClient.birthday="",this.registerClient.phone={countryCode:"CL",isValid:!1,phoneNumber:"",countryCallingCode:"",formattedNumber:"",nationalNumber:"",formatInternational:"",formatNational:"",uri:"",e164:""},this.registerClient.instagram="",this.readyClient=!0,this.validRegister(2);case 42:case"end":return e.stop()}}),e,this,[[3,26]])})));function t(t){return e.apply(this,arguments)}return t}(),initialState:function(){this.itemData={item:{},price:0,realPrice:0,discountServiceIf:!1,discountService:"",employe:{id:"",name:"",document:""},quantityProduct:"",commission:0,tag:""},this.payment.type="",this.payment.total=0,this.serviceSelecteds=[],this.totalSale=0,this.paysSelecteds=[],this.perPay=0,this.restPay=0,this.totalPay=0,this.ifEdit=!1,$(".thisSelect .ant-select-selection__clear").click(),$(".clientSelect .ant-select-selection__clear").click()},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},alertProducts:function(){var e=this;u.a.get(m.a.endpointTarget+"/inventario/alertProducts").then((function(t){if(t.data.status){var a="";a=1==t.data.productsToAlert.length?"Hace falta reintegrar el producto: ":"Hace falta reintegrar los productos: ";for(var s=0;s<t.data.productsToAlert.length;s++){var i=t.data.productsToAlert[s];0==s?a+=i.nameProduct:a=a+", "+i.nameProduct}u.a.post(m.a.endpointTarget+"/notifications",{branch:e.branch,userName:e.firstNameUser+" "+e.lastNameUser,userImage:localStorage.imageUser,detail:a,link:"Inventario"},e.configHeader).then((function(t){e.socket.emit("sendNotification",t.data.data)}))}})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},validRoute:function(e,t){for(var a=0;a<this.auth.length;a++){var s=this.auth[a];if(s.ruta==e)for(var i=0;i<s.validaciones.length;i++)if(t==s.validaciones[i])return!0}},validCode:function(){var e=this;u.a.get(m.a.endpointTarget+"/orders/validCode/"+this.orderNumber,this.configHeader).then((function(t){"ok"==t.data.status&&(e.orderProducts=t.data.data.products,e.orderStatus=t.data.data.status,e.orderId=t.data.data._id,e.orderClient=t.data.data.client,e.orderTypePay=t.data.data.payType,e.totalOrder=t.data.data.total,e.modals.modal6=!0),"nothing"==t.data.status&&e.$swal({icon:"error",title:"Orden no existe",showConfirmButton:!1,timer:1500})})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},verifyCode:function(){var e=this;this.$swal({icon:"warning",title:"¿Seguro que desea usar el código?",text:"Al realizar esta acción esta Gift Card se agregara como metodo de pago",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#2dce89",cancelButtonColor:"#f5365c",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.value&&(u.a.put(m.a.endpointTarget+"/orders/usecodef/"+e.orderCode,{orderNumber:e.orderNumber},e.configHeader).then((function(t){"ok"==t.data.status&&(e.$swal({icon:"success",title:"Gift Card agregada con exito",showConfirmButton:!1,timer:1500}),e.modals.modal6=!1,e.modals.modal7=!1,e.usePayGift()),"nothing"==t.data.status&&e.$swal({icon:"error",title:"La Gift Card no existe o no coincide con el número de orden",showConfirmButton:!1,timer:2500})})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){pe.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})),e.modals.modal5=!1,e.modals.modal6=!1)}))}},computed:{getScreen:function(){return screen.width<780?{x:"calc(700px + 50%)",y:240}:{}},screenWidth:function(){return screen.width<780?"w-100":"w-25"},screenWidthInput:function(){return screen.width<780?"w-100":"w-50"},marginAdditional:function(){return screen.width<780?"mt-3":"mt-0"}},mounted:function(){var e=this;h["a"].$on("reloadServices",(function(t){e.getServices()})),h["a"].$on("reloadLenders",(function(t){e.getLenders()})),h["a"].$on("reloadFinallyDates",(function(t){e.getFinallyDates()})),this.socket.on("notify",(function(t){setTimeout((function(){e.getFinallyDates()}),1500)})),h["a"].$on("openModal",(function(t){e.initialState()})),h["a"].$on("changeBranch"+pe.app._route.path.toLowerCase(),(function(t){e.getBranch()})),h["a"].$on("reloadProducts",(function(t){e.getProducts()})),h["a"].$on("reloadMicroservices",(function(t){e.getMicroservices()})),h["a"].$on("loggedin-user",(function(t){e.auth=t}))}},q=M,W=(a("c42a"),Object(x["a"])(q,I,R,!1,null,null,null)),V=W.exports,Y={components:{DashboardNavbar:D,ContentFooter:N,FadeTransition:O["a"],Procesar:V},data:function(){return{sidebarBackground:"vue",auth:[],modals:{modal1:!1}}},created:function(){this.getToken()},methods:{getToken:function(){var e=localStorage.userToken;if(e){var t=b()(e);this.auth=t.access}},openModal:function(){this.toggleSidebar(),h["a"].$emit("openModal","reload")},changeAccess:function(e){this.auth=e},toggleSidebar:function(){this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)},validRoute:function(e){for(var t=0;t<this.auth.length;t++){var a=this.auth[t];if(a.ruta==e)return!0}}},mounted:function(){var e=this;h["a"].$on("loggedin",(function(t){e.getToken()})),h["a"].$on("loggedin-user",(function(t){e.changeAccess(t)}))}},K=Y,J=(a("d43f"),Object(x["a"])(K,r,n,!1,null,null,null)),Q=J.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-content bg-default"},[a("base-nav",{staticClass:"navbar-top navbar-horizontal navbar-dark",attrs:{containerClasses:"px-4 container",expand:""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.closeMenu;return[a("div",{staticClass:"navbar-collapse-header d-md-none"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 collapse-brand"},[a("router-link",{attrs:{to:"/"}},[a("img",{attrs:{src:"img/brand/green.png"}})])],1),a("div",{staticClass:"col-6 collapse-close"},[a("button",{staticClass:"navbar-toggler",attrs:{type:"button","aria-label":"Toggle sidenav"},on:{click:s}},[a("span"),a("span")])])])]),a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link nav-link-icon",attrs:{href:"https://kkprettynails.cl",target:"_blank"}},[a("i",{staticClass:"ni ni-planet"}),a("span",{staticClass:"nav-link-inner--text"},[e._v("Web")])])])])]}}])}),a("div",{staticClass:"header bg-gradient-success py-7 py-lg-7"},[a("div",{staticClass:"separator separator-bottom separator-skew zindex-100"},[a("svg",{attrs:{x:"0",y:"0",viewBox:"0 0 2560 100",preserveAspectRatio:"none",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[a("polygon",{staticClass:"fill-default",attrs:{points:"2560 0 2560 100 0 100"}})])])]),a("div",{staticClass:"container mt--8 pb-5",staticStyle:{height:"100vh"}},[a("router-view")],1),a("footer",{staticClass:"py-5 bg-default"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row align-items-center justify-content-xl-between"},[a("div",{staticClass:"col-xl-3"},[a("div",{staticClass:"copyright text-center text-xl-left text-muted"},[e._v("\n                        © "+e._s(e.year)+" "),a("a",{staticClass:"font-weight-bold ml-1",attrs:{href:"http://syswa.net/",target:"_blank"}},[e._v("SYSWA")])])])])])])],1)},Z=[],ee={name:"auth-layout",components:{SlideYUpTransition:O["b"]},data:function(){return{year:(new Date).getFullYear(),showMenu:!1}}},te=ee,ae=Object(x["a"])(te,X,Z,!1,null,null,null),se=ae.exports,ie=a("b72f"),re=a("e219"),ne=a("aabf"),oe=a("c2ab"),ce=a("f162"),le=a("cf97"),de=a("f695"),ue=a("a60b");s["default"].use(i["a"]);var pe=t["a"]=new i["a"]({linkExactActiveClass:"active",routes:[{path:"/Sectionclient",redirect:"AgendaCliente",component:ie["default"],children:[{path:"/Agendamientocliente",name:"",component:function(){return Promise.resolve().then(a.bind(null,"b72f"))}}]},{path:"/confirmacioncita",redirect:"confirmCliente",component:re["default"],children:[{path:"/confirmacioncita",name:"",component:function(){return Promise.resolve().then(a.bind(null,"e219"))}}]},{path:"/cancelarcita",redirect:"cancelClient",component:ne["default"],children:[{path:"/cancelarcita",name:"",component:function(){return Promise.resolve().then(a.bind(null,"aabf"))}}]},{path:"/pdfReport",redirect:"reportPdf",component:oe["default"],children:[{path:"/reportPdf",name:"",component:function(){return Promise.resolve().then(a.bind(null,"c2ab"))}}]},{path:"/reporteGasto",redirect:"reportExpense",component:le["default"],children:[{path:"/reportExpense",name:"",component:function(){return Promise.resolve().then(a.bind(null,"cf97"))}}]},{path:"/reporteGastoHistorial",redirect:"reportHistoryExpense",component:de["default"],children:[{path:"/reportHistoryExpense",name:"",component:function(){return Promise.resolve().then(a.bind(null,"f695"))}}]},{path:"/pdfReportEmploye",redirect:"reportPdfEmploye",component:ce["default"],children:[{path:"/reportPdfEmploye",name:"",component:function(){return Promise.resolve().then(a.bind(null,"f162"))}}]},{path:"/pdfCierreEmpleado",redirect:"pdfEmploye",component:ue["default"],children:[{path:"/pdfEmploye",name:"",component:function(){return Promise.resolve().then(a.bind(null,"a60b"))}}]},{path:"/dashboard",redirect:"dashboard",component:Q,children:[{path:"/dashboard",name:"",component:function(){return Promise.all([a.e("chunk-34264b1d"),a.e("demo")]).then(a.bind(null,"7277"))}},{path:"/Pedidos",name:"",component:function(){return a.e("chunk-6b932e4e").then(a.bind(null,"159d"))}},{path:"/icons",name:"",component:function(){return a.e("chunk-6b932e4e").then(a.bind(null,"9cc6"))}},{path:"/perfilesAcceso",name:"",component:function(){return a.e("chunk-6b932e4e").then(a.bind(null,"fd5d"))}},{path:"/profile",name:"",component:function(){return a.e("demo").then(a.bind(null,"4a39"))}},{path:"/configuration",name:"",component:function(){return a.e("chunk-157ba924").then(a.bind(null,"829a"))}},{path:"/reporteCierre",name:"",component:function(){return a.e("demo").then(a.bind(null,"0407"))}},{path:"/store",name:"",component:function(){return Promise.all([a.e("chunk-34264b1d"),a.e("demo")]).then(a.bind(null,"2c25"))}},{path:"/sucursales",name:"",component:function(){return a.e("demo").then(a.bind(null,"172e"))}},{path:"/tables",name:"",component:function(){return a.e("demo").then(a.bind(null,"8840d"))}},{path:"/Empleados",name:"",component:function(){return a.e("chunk-6b932e4e").then(a.bind(null,"ff3e"))}},{path:"/Usuarios",name:"",component:function(){return a.e("chunk-6b932e4e").then(a.bind(null,"ed81"))}},{path:"/Ventas",name:"",component:function(){return Promise.all([a.e("chunk-34264b1d"),a.e("chunk-6b932e4e")]).then(a.bind(null,"af7c"))}},{path:"/Logs",name:"",component:function(){return Promise.all([a.e("chunk-34264b1d"),a.e("demo")]).then(a.bind(null,"61a9"))}},{path:"/Servicios",name:"",component:function(){return a.e("chunk-6b932e4e").then(a.bind(null,"f23e"))}},{path:"/Clientes",name:"",component:function(){return Promise.all([a.e("chunk-34264b1d"),a.e("chunk-6b932e4e")]).then(a.bind(null,"58f3"))}},{path:"/Inventario",name:"",component:function(){return a.e("demo").then(a.bind(null,"e25f"))}},{path:"/Correo",name:"",component:function(){return Promise.all([a.e("chunk-34264b1d"),a.e("chunk-6b932e4e")]).then(a.bind(null,"d9e7"))}},{path:"/Gastos",name:"",component:function(){return a.e("demo").then(a.bind(null,"b9fa"))}},{path:"/Caja",name:"",component:function(){return a.e("demo").then(a.bind(null,"9dc9"))}},{path:"/reporteEmpleado",name:"",component:function(){return a.e("chunk-6b932e4e").then(a.bind(null,"d636"))}},{path:"/Agendamiento",name:"",component:function(){return a.e("chunk-6b932e4e").then(a.bind(null,"f6c9"))}}]},{path:"/",redirect:"login",component:se,children:[{path:"/login",name:"login",component:function(){return a.e("demo").then(a.bind(null,"a55b"))}},{path:"/register",name:"register",component:function(){return a.e("demo").then(a.bind(null,"73cf"))}},{path:"/Prueba",name:"",component:function(){return Promise.all([a.e("chunk-34264b1d"),a.e("chunk-6b932e4e")]).then(a.bind(null,"d097"))}}]}]})},4336:function(e,t,a){"use strict";var s={computed:{hideText:function(){return screen.width<780?"display:none":""}}};t["a"]=s},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id="4678"},4711:function(e,t,a){},"4d1c":function(e,t,a){},"4fb9":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("notifications"),a("router-view")],1)},r=[],n=a("2877"),o={},c=Object(n["a"])(o,i,r,!1,null,null,null),l=c.exports,d=a("41cb"),u=a("9483");Object(u["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("4d1c"),a("a4d4"),a("7f7f");var p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.tag,{tag:"component",staticClass:"badge",class:["badge-"+e.type,e.rounded?"badge-pill":"",e.circle&&"badge-circle"]},[e._t("default",[e.icon?a("i",{class:e.icon}):e._e()])],2)},m=[],h={name:"badge",props:{tag:{type:String,default:"span",description:"Html tag to use for the badge."},rounded:{type:Boolean,default:!1,description:"Whether badge is of pill type"},circle:{type:Boolean,default:!1,description:"Whether badge is circle"},icon:{type:String,default:"",description:"Icon name. Will be overwritten by slot if slot is used"},type:{type:String,default:"default",description:"Badge type (primary|info|danger|default|warning|success)"}}},f=h,v=Object(n["a"])(f,p,m,!1,null,null,null),g=v.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("fade-transition",[e.visible?a("div",{staticClass:"alert",class:["alert-"+e.type,{"alert-dismissible":e.dismissible}],attrs:{role:"alert"}},[e.dismissible?[e._t("default",[e.icon?a("span",{staticClass:"alert-inner--icon"},[a("i",{class:e.icon})]):e._e(),e.$slots.text?a("span",{staticClass:"alert-inner--text"},[e._t("text")],2):e._e()]),e._t("dismiss-icon",[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:e.dismissAlert}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])]:e._t("default",[e.icon?a("span",{staticClass:"alert-inner--icon"},[a("i",{class:e.icon})]):e._e(),e.$slots.text?a("span",{staticClass:"alert-inner--text"},[e._t("text")],2):e._e()])],2):e._e()])},y=[],S=a("7c76"),C={name:"base-alert",components:{FadeTransition:S["a"]},props:{type:{type:String,default:"default",description:"Alert type"},icon:{type:String,default:"",description:"Alert icon. Will be overwritten by default slot"},dismissible:{type:Boolean,default:!1,description:"Whether alert is closes when clicking"}},data:function(){return{visible:!0}},methods:{dismissAlert:function(){this.visible=!1}}},_=C,w=Object(n["a"])(_,b,y,!1,null,null,null),x=w.exports,k=a("82ea"),D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-control custom-checkbox",class:{disabled:e.disabled,"form-check-inline":e.inline}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"custom-control-input",attrs:{id:e.cbId,type:"checkbox",disabled:e.disabled},domProps:{checked:Array.isArray(e.model)?e._i(e.model,null)>-1:e.model},on:{change:function(t){var a=e.model,s=t.target,i=!!s.checked;if(Array.isArray(a)){var r=null,n=e._i(a,r);s.checked?n<0&&(e.model=a.concat([r])):n>-1&&(e.model=a.slice(0,n).concat(a.slice(n+1)))}else e.model=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:e.cbId}},[e._t("default",[e.inline?a("span",[e._v(" ")]):e._e()])],2)])},P=[];function T(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a="",s=0;s<e;s++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}var B={name:"base-checkbox",model:{prop:"checked"},props:{checked:{type:[Array,Boolean],description:"Whether checkbox is checked"},disabled:{type:Boolean,description:"Whether checkbox is disabled"},inline:{type:Boolean,description:"Whether checkbox is inline"}},data:function(){return{cbId:"",touched:!1}},computed:{model:{get:function(){return this.checked},set:function(e){this.touched||(this.touched=!0),this.$emit("input",e)}}},mounted:function(){this.cbId=T()}},j=B,E=Object(n["a"])(j,D,P,!1,null,null,null),N=E.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group",class:[{"input-group":e.hasIcon},{"has-danger":e.error},{focused:e.focused},{"has-label":e.label||e.$slots.label},{"has-success":!0===e.valid},{"has-danger":!1===e.valid}]},[e._t("label",[e.label?a("label",{staticClass:"form-control-label",class:e.labelClasses},[e._v("\n            "+e._s(e.label)+"\n            "),e.required?a("span",[e._v("*")]):e._e()]):e._e()]),e.addonLeftIcon||e.$slots.addonLeft?a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[e._t("addonLeft",[a("i",{class:e.addonLeftIcon})])],2)]):e._e(),e._t("default",[a("input",e._g(e._b({staticClass:"form-control",class:[{"is-valid":!0===e.valid},{"is-invalid":!1===e.valid},e.inputClasses],attrs:{"aria-describedby":"addon-right addon-left"},domProps:{value:e.value}},"input",e.$attrs,!1),e.listeners))],null,e.slotData),e.addonRightIcon||e.$slots.addonRight?a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[e._t("addonRight",[a("i",{class:e.addonRightIcon})])],2)]):e._e(),e._t("infoBlock"),e._t("helpBlock",[e.error?a("div",{staticClass:"text-danger invalid-feedback",class:{"mt-2":e.hasIcon},staticStyle:{display:"block"}},[e._v("\n            "+e._s(e.error)+"\n        ")]):e._e()])],2)},I=[],R=(a("8e6e"),a("ac6a"),a("456d"),a("bd86"));a("c5f6");function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){Object(R["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z={inheritAttrs:!1,name:"base-input",props:{required:{type:Boolean,description:"Whether input is required (adds an asterix *)"},valid:{type:Boolean,description:"Whether is valid",default:void 0},label:{type:String,description:"Input label (text before input)"},error:{type:String,description:"Input error (below input)"},labelClasses:{type:String,description:"Input label css classes"},inputClasses:{type:String,description:"Input css classes"},value:{type:[String,Number],description:"Input value"},addonRightIcon:{type:String,description:"Addon right icon"},addonLeftIcon:{type:String,description:"Addont left icon"}},data:function(){return{focused:!1}},computed:{listeners:function(){return A({},this.$listeners,{input:this.updateValue,focus:this.onFocus,blur:this.onBlur})},slotData:function(){return A({focused:this.focused},this.listeners)},hasIcon:function(){var e=this.$slots,t=e.addonRight,a=e.addonLeft;return void 0!==t||void 0!==a||void 0!==this.addonRightIcon||void 0!==this.addonLeftIcon}},methods:{updateValue:function(e){var t=e.target.value;this.$emit("input",t)},onFocus:function(e){this.focused=!0,this.$emit("focus",e)},onBlur:function(e){this.focused=!1,this.$emit("blur",e)}}},H=z,G=Object(n["a"])(H,O,I,!1,null,null,null),U=G.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.tag,{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeDropDown,expression:"closeDropDown"}],tag:"component",staticClass:"dropdown",class:[{show:e.isOpen},{dropdown:"down"===e.direction},{dropup:"up"===e.direction}],attrs:{"aria-haspopup":"true","aria-expanded":e.isOpen},on:{click:e.toggleDropDown}},[e._t("title",[a("a",{staticClass:"dropdown-toggle nav-link",class:{"no-caret":e.hideArrow},attrs:{"data-toggle":"dropdown"}},[a("i",{class:e.icon}),a("span",{staticClass:"no-icon"},[e._v(e._s(e.title))])])]),a("ul",{ref:"menu",staticClass:"dropdown-menu",class:[{"dropdown-menu-right":"right"===e.position},{show:e.isOpen},e.menuClasses]},[e._t("default")],2)],2)},M=[],q={name:"base-dropdown",props:{direction:{type:String,default:"down"},title:{type:String,description:"Dropdown title"},icon:{type:String,description:"Icon for dropdown title"},position:{type:String,description:"Position of dropdown menu (e.g right|left)"},menuClasses:{type:[String,Object],description:"Dropdown menu classes"},hideArrow:{type:Boolean,description:"Whether dropdown arrow should be hidden"},appendToBody:{type:Boolean,default:!0,description:"Whether dropdown should be appended to document body"},tag:{type:String,default:"li",description:"Dropdown html tag (e.g div, li etc)"}},data:function(){return{isOpen:!1}},methods:{toggleDropDown:function(){this.isOpen=!this.isOpen,this.$emit("change",this.isOpen)},closeDropDown:function(){this.isOpen=!1,this.$emit("change",this.isOpen)}}},W=q,V=(a("f364"),Object(n["a"])(W,L,M,!1,null,null,null)),Y=V.exports,K=function(){var e,t=this,a=t.$createElement,s=t._self._c||a;return s("nav",{staticClass:"navbar",class:[{"navbar-expand-md":t.expand},{"navbar-transparent":t.transparent},(e={},e["bg-"+t.type]=t.type,e)]},[s("div",{class:t.containerClasses},[t._t("brand",[s("router-link",{staticClass:"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block",attrs:{to:t.$route.path}},[t._v("\n                "+t._s(t.$route.name)+"\n            ")])]),t.showToggleButton?s("navbar-toggle-button",{attrs:{toggled:t.toggled,target:t.contentId},nativeOn:{click:function(e){e.stopPropagation(),t.toggled=!t.toggled}}},[s("span",{staticClass:"navbar-toggler-icon"})]):t._e(),s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeMenu,expression:"closeMenu"}],staticClass:"collapse navbar-collapse",class:{show:t.toggled},attrs:{id:t.contentId}},[t._t("default",null,{closeMenu:t.closeMenu})],2)],2)])},J=[],Q=(a("6b54"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":e.target,"aria-controls":e.target,"aria-expanded":e.toggled,"aria-label":"Toggle navigation"}},[e._t("default",[a("span"),a("span")])],2)}),X=[],Z={props:{target:{type:[String,Number],description:"Button target element"},toggled:{type:Boolean,default:!1,description:"Whether button is toggled"}}},ee=Z,te=Object(n["a"])(ee,Q,X,!1,null,null,null),ae=te.exports,se={name:"base-nav",components:{NavbarToggleButton:ae},props:{type:{type:String,default:"",description:"Navbar type (e.g default, primary etc)"},title:{type:String,default:"",description:"Title of navbar"},contentId:{type:[String,Number],default:Math.random().toString(),description:"Explicit id for the menu. By default it's a generated random number"},containerClasses:{type:[String,Object,Array],default:"container-fluid"},transparent:{type:Boolean,default:!1,description:"Whether navbar is transparent"},expand:{type:Boolean,default:!1,description:"Whether navbar should contain `navbar-expand-lg` class"},showToggleButton:{type:Boolean,default:!0}},data:function(){return{toggled:!1}},methods:{closeMenu:function(){this.toggled=!1}}},ie=se,re=Object(n["a"])(ie,K,J,!1,null,null,null),ne=re.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"pagination",class:[e.size&&"pagination-"+e.size,e.align&&"justify-content-"+e.align]},[a("li",{staticClass:"page-item prev-page",class:{disabled:1===e.value}},[a("a",{staticClass:"page-link",attrs:{"aria-label":"Previous"},on:{click:e.prevPage}},[e._m(0)])]),e._l(e.range(e.minPage,e.maxPage),(function(t){return a("li",{key:t,staticClass:"page-item",class:{active:e.value===t}},[a("a",{staticClass:"page-link",on:{click:function(a){return e.changePage(t)}}},[e._v(e._s(t))])])})),a("li",{staticClass:"page-item next-page",class:{disabled:e.value===e.totalPages}},[a("a",{staticClass:"page-link",attrs:{"aria-label":"Next"},on:{click:e.nextPage}},[e._m(1)])])],2)},ce=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fa fa-angle-left",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fa fa-angle-right",attrs:{"aria-hidden":"true"}})])}],le={name:"base-pagination",props:{pageCount:{type:Number,default:0,description:"Pagination page count. This should be specified in combination with perPage"},perPage:{type:Number,default:10,description:"Pagination per page. Should be specified with total or pageCount"},total:{type:Number,default:0,description:"Can be specified instead of pageCount. The page count in this case will be total/perPage"},value:{type:Number,default:1,description:"Pagination value"},size:{type:String,default:"",description:"Pagination size"},align:{type:String,default:"",description:"Pagination alignment (e.g center|start|end)"}},computed:{totalPages:function(){return this.pageCount>0?this.pageCount:this.total>0?Math.ceil(this.total/this.perPage):1},pagesToDisplay:function(){return this.totalPages>0&&this.totalPages<this.defaultPagesToDisplay?this.totalPages:this.defaultPagesToDisplay},minPage:function(){if(this.value>=this.pagesToDisplay){var e=Math.floor(this.pagesToDisplay/2),t=e+this.value;return t>this.totalPages?this.totalPages-this.pagesToDisplay+1:this.value-e}return 1},maxPage:function(){if(this.value>=this.pagesToDisplay){var e=Math.floor(this.pagesToDisplay/2),t=e+this.value;return t<this.totalPages?t:this.totalPages}return this.pagesToDisplay}},data:function(){return{defaultPagesToDisplay:5}},methods:{range:function(e,t){for(var a=[],s=e;s<=t;s++)a.push(s);return a},changePage:function(e){this.$emit("input",e)},nextPage:function(){this.value<this.totalPages&&this.$emit("input",this.value+1)},prevPage:function(){this.value>1&&this.$emit("input",this.value-1)}},watch:{perPage:function(){this.$emit("input",1)},total:function(){this.$emit("input",1)}}},de=le,ue=Object(n["a"])(de,oe,ce,!1,null,null,null),pe=ue.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"progress-wrapper"},[e.$slots.label||e.label||e.$slots.percentage||e.showPercentage?a("div",{staticClass:"progress-info"},[e.$slots.label||e.label?a("div",{staticClass:"progress-label"},[a("span",[e._t("label",[e._v("\n                "+e._s(e.label)+"\n            ")])],2)]):e._e(),e.$slots.percentage||e.showPercentage?a("div",{staticClass:"progress-percentage"},[e._t("percentage",[e._v("\n                "+e._s(e.value)+" %\n            ")])],2):e._e()]):e._e(),a("div",{staticClass:"progress",style:"height: "+e.height+"px"},[a("div",{staticClass:"progress-bar",class:e.computedClasses,style:"width: "+e.value+"%;",attrs:{role:"progressbar","aria-valuenow":e.value,"aria-valuemin":"0","aria-valuemax":"100"}})])])},he=[],fe={name:"base-progress",props:{striped:{type:Boolean,description:"Whether progress is striped"},animated:{type:Boolean,description:"Whether progress is animated (works only with `striped` prop together)"},showPercentage:{type:Boolean,default:!0,description:"Whether progress bar should show percentage value"},height:{type:Number,default:3,description:"Progress line height"},label:{type:String,default:"",description:"Progress label"},type:{type:String,default:"default",description:"Progress type (e.g danger, primary etc)"},value:{type:Number,default:0,validator:function(e){return e>=0&&e<=100},description:"Progress value"}},computed:{computedClasses:function(){return[{"progress-bar-striped":this.striped},{"progress-bar-animated":this.animated},Object(R["a"])({},"bg-".concat(this.type),this.type)]}}},ve=fe,ge=Object(n["a"])(ve,me,he,!1,null,null,null),be=ge.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-control custom-radio",class:[e.inlineClass,{disabled:e.disabled}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"custom-control-input",attrs:{id:e.cbId,type:"radio",disabled:e.disabled},domProps:{value:e.name,checked:e._q(e.model,e.name)},on:{change:function(t){e.model=e.name}}}),a("label",{staticClass:"custom-control-label",attrs:{for:e.cbId}},[e._t("default")],2)])},Se=[],Ce={name:"base-radio",props:{name:{type:[String,Number],description:"Radio label"},disabled:{type:Boolean,description:"Whether radio is disabled"},value:{type:[String,Boolean],description:"Radio value"},inline:{type:Boolean,description:"Whether radio is inline"}},data:function(){return{cbId:""}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},inlineClass:function(){return this.inline?"form-check-inline":""}},mounted:function(){this.cbId=T()}},_e=Ce,we=Object(n["a"])(_e,ye,Se,!1,null,null,null),xe=we.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-slider-container"},[a("div",{ref:"slider",staticClass:"input-slider",class:["slider-"+e.type],attrs:{disabled:e.disabled}})])},De=[],Pe=a("e9fa"),Te=a.n(Pe);function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(a),!0).forEach((function(t){Object(R["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var je,Ee={name:"base-slider",props:{value:{type:[String,Array,Number],description:"Slider value"},disabled:{type:Boolean,description:"Whether slider is disabled"},range:{type:Object,default:function(){return{min:0,max:100}},description:"Slider range (defaults to 0-100)"},type:{type:String,default:"",description:"Slider type (e.g primary, danger etc)"},options:{type:Object,default:function(){return{}},description:"noUiSlider options"}},computed:{connect:function(){return Array.isArray(this.value)||[!0,!1]}},data:function(){return{slider:null}},methods:{createSlider:function(){var e=this;Te.a.create(this.$refs.slider,Be({start:this.value,connect:this.connect,range:this.range},this.options));var t=this.$refs.slider.noUiSlider;t.on("slide",(function(){var a=t.get();a!==e.value&&e.$emit("input",a)}))}},mounted:function(){this.createSlider()},watch:{value:function(e,t){var a=this.$refs.slider.noUiSlider,s=a.get();e!==t&&s!==e&&(Array.isArray(s)&&Array.isArray(e)?t.length===e.length&&t.every((function(t,a){return t===e[a]}))&&a.set(e):a.set(e))}}},Ne=Ee,Oe=Object(n["a"])(Ne,ke,De,!1,null,null,null),Ie=Oe.exports,Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"custom-toggle"},[a("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.model)?e._i(e.model,null)>-1:e.model},on:{change:function(t){var a=e.model,s=t.target,i=!!s.checked;if(Array.isArray(a)){var r=null,n=e._i(a,r);s.checked?n<0&&(e.model=a.concat([r])):n>-1&&(e.model=a.slice(0,n).concat(a.slice(n+1)))}else e.model=i}}},"input",e.$attrs,!1),e.$listeners)),a("span",{staticClass:"custom-toggle-slider rounded-circle"})])},Fe=[],Ae={name:"base-switch",inheritAttrs:!1,props:{value:{type:Boolean,default:!1,description:"Switch value"}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},ze=Ae,He=Object(n["a"])(ze,Re,Fe,!1,null,null,null),Ge=He.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",{staticClass:"table tablesorter",class:e.tableClass},[a("thead",{class:e.theadClasses},[a("tr",[e._t("columns",e._l(e.columns,(function(t){return a("th",{key:t},[e._v(e._s(t))])})),{columns:e.columns})],2)]),a("tbody",{class:e.tbodyClasses},e._l(e.data,(function(t,s){return a("tr",{key:s},[e._t("default",e._l(e.colsWithValue(t),(function(s,i){return a("td",{key:i},[e._v("\n          "+e._s(e.itemValue(t,s))+"\n        ")])})),{row:t,index:s})],2)})),0)])},Le=[],Me={name:"base-table",props:{columns:{type:Array,default:function(){return[]},description:"Table columns"},data:{type:Array,default:function(){return[]},description:"Table data"},type:{type:String,default:"",description:"Whether table is striped or hover type"},theadClasses:{type:String,default:"",description:"<thead> css classes"},tbodyClasses:{type:String,default:"",description:"<tbody> css classes"}},computed:{tableClass:function(){return this.type&&"table-".concat(this.type)},colsWithValue:function(){var e=this;return function(t){return e.columns.filter((function(a){return e.hasValue(t,a)}))}}},methods:{hasValue:function(e,t){return"undefined"!==e[t.toLowerCase()]},itemValue:function(e,t){return e[t.toLowerCase()]}}},qe=Me,We=Object(n["a"])(qe,Ue,Le,!1,null,null,null),Ve=We.exports,Ye=function(){var e,t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"header",class:(e={},e["bg-"+t.type]=t.type,e)},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"header-body"},[t._t("default")],2)])])},Ke=[],Je={name:"base-header",props:{type:{type:String,default:"primary",description:"Header background type"}}},Qe=Je,Xe=Object(n["a"])(Qe,Ye,Ke,!1,null,null,null),Ze=Xe.exports,et=function(){var e,t,a,s=this,i=s.$createElement,r=s._self._c||i;return r("div",{staticClass:"card",class:[{"card-lift--hover":s.hover},{shadow:s.shadow},(e={},e["shadow-"+s.shadowSize]=s.shadowSize,e),(t={},t["bg-gradient-"+s.gradient]=s.gradient,t),(a={},a["bg-"+s.type]=s.type,a)]},[s.$slots.header?r("div",{staticClass:"card-header",class:s.headerClasses},[s._t("header")],2):s._e(),s.noBody?s._e():r("div",{staticClass:"card-body",class:s.bodyClasses},[s._t("default")],2),s.noBody?s._t("default"):s._e(),s.$slots.footer?r("div",{staticClass:"card-footer",class:s.footerClasses},[s._t("footer")],2):s._e()],2)},tt=[],at={name:"card",props:{type:{type:String,description:"Card type"},gradient:{type:String,description:"Card background gradient type (warning,danger etc)"},hover:{type:Boolean,description:"Whether card should move on hover"},shadow:{type:Boolean,description:"Whether card has shadow"},shadowSize:{type:String,description:"Card shadow size"},noBody:{type:Boolean,default:!1,description:"Whether card should have wrapper body class"},bodyClasses:{type:[String,Object,Array],description:"Card body css classes"},headerClasses:{type:[String,Object,Array],description:"Card header css classes"},footerClasses:{type:[String,Object,Array],description:"Card footer css classes"}}},st=at,it=Object(n["a"])(st,et,tt,!1,null,null,null),rt=it.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("card",{staticClass:"card-stats",attrs:{"show-footer-line":!0}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[e._t("default",[e.title?a("h6",{staticClass:"card-title text-uppercase text-muted mb-0"},[e._v(e._s(e.title))]):e._e(),e.subTitle?a("span",{staticClass:"h5 font-weight-bold mb-0"},[e._v(e._s(e.subTitle))]):e._e()])],2),e.$slots.icon||e.icon?a("div",{staticClass:"col-auto"},[e._t("icon",[a("div",{staticClass:"icon-sm icon-shape text-white rounded-circle shadow",class:["bg-"+e.type,e.iconClasses]},[a("i",{class:e.icon})])])],2):e._e()]),a("p",{staticClass:"mt-3 mb-0 text-sm"},[e._t("footer")],2)])],1)},ot=[],ct={name:"stats-card",components:{Card:rt},props:{type:{type:String,default:"primary"},icon:String,title:String,subTitle:String,iconClasses:[String,Array]}},lt=ct,dt=(a("d5f8"),Object(n["a"])(lt,nt,ot,!1,null,null,null)),ut=dt.exports,pt=a("714b"),mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"tab-pane fade",class:{"active show":e.active},attrs:{id:e.id||e.label,"aria-expanded":e.active}},[e._t("default")],2)},ht=[],ft={name:"tab-pane",props:["label","id","title"],inject:["addTab","removeTab"],data:function(){return{active:!1}},mounted:function(){this.addTab(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeTab(this)}},vt=ft,gt=Object(n["a"])(vt,mt,ht,!1,null,null,null),bt=gt.exports,yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.layoutComponent,{tag:"component"},[a("template",{slot:"nav"},[a("div",{staticClass:"nav-wrapper"},[a("ul",{staticClass:"nav",class:[e.type?"nav-pills-"+e.type:"",e.pills?"nav-pills":"nav-tabs",{"nav-pills-icons":e.icons},{"nav-fill":e.fill},{"nav-pills-circle":e.circle},{"justify-content-center":e.centered},e.tabNavClasses],attrs:{role:"tablist"}},e._l(e.tabs,(function(t){return a("li",{key:t.id||t.title,staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:t.active},attrs:{"data-toggle":"tab",role:"tab",href:"#"+(t.id||t.title),"aria-selected":t.active},on:{click:function(a){return a.preventDefault(),e.activateTab(t)}}},[a("tab-item-content",{attrs:{tab:t}})],1)])})),0)])]),a("div",{staticClass:"tab-content",class:[e.tabContentClasses],attrs:{slot:"content"},slot:"content"},[e._t("default",null,null,e.slotData)],2)],2)},St=[],Ct=(a("20d6"),a("7514"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._t("nav"),e._t("content")],2)}),_t=[],wt={},xt=Object(n["a"])(wt,Ct,_t,!1,null,null,null),kt=xt.exports,Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"nav-tabs-navigation"},[a("div",{staticClass:"nav-tabs-wrapper"},[e._t("nav")],2)]),a("div",[e._t("content")],2)])},Pt=[],Tt={name:"tabs-layout"},$t=Tt,Bt=Object(n["a"])($t,Dt,Pt,!1,null,null,null),jt=Bt.exports,Et={name:"tabs",components:{TabsLayout:jt,PillsLayout:kt,TabItemContent:{props:["tab"],render:function(e){return e("div",[this.tab.$slots.title||this.tab.title])}}},props:{type:{type:String,default:"",validator:function(e){var t=["","primary","info","success","warning","danger"];return-1!==t.indexOf(e)},description:"Tabs type (primary|info|danger|default|warning|success)"},pills:{type:Boolean,default:!0,description:"Whether tabs are pills"},circle:{type:Boolean,default:!1,description:"Whether tabs are circle"},fill:{type:Boolean,default:!0,description:"Whether to fill each tab"},activeTab:{type:String,default:"",description:"Default active tab name"},tabNavWrapperClasses:{type:[String,Object],default:"",description:"Tab Nav wrapper (div) css classes"},tabNavClasses:{type:[String,Object],default:"",description:"Tab Nav (ul) css classes"},tabContentClasses:{type:[String,Object],default:"",description:"Tab content css classes"},icons:{type:Boolean,description:"Whether tabs should be of icon type (small no text)"},centered:{type:Boolean,description:"Whether tabs are centered"},value:{type:String,description:"Initial value (active tab)"}},provide:function(){return{addTab:this.addTab,removeTab:this.removeTab}},data:function(){return{tabs:[],activeTabIndex:0}},computed:{layoutComponent:function(){return this.pills?"pills-layout":"tabs-layout"},slotData:function(){return{activeTabIndex:this.activeTabIndex,tabs:this.tabs}}},methods:{findAndActivateTab:function(e){var t=this.tabs.find((function(t){return t.title===e}));t&&this.activateTab(t)},activateTab:function(e){this.handleClick&&this.handleClick(e),this.deactivateTabs(),e.active=!0,this.activeTabIndex=this.tabs.findIndex((function(e){return e.active}))},deactivateTabs:function(){this.tabs.forEach((function(e){e.active=!1}))},addTab:function(e){this.activeTab===e.name&&(e.active=!0),this.tabs.push(e)},removeTab:function(e){var t=this.tabs,a=t.indexOf(e);a>-1&&t.splice(a,1)}},mounted:function(){var e=this;this.$nextTick((function(){e.value?e.findAndActivateTab(e.value):e.tabs.length>0&&e.activateTab(e.tabs[0])}))},watch:{value:function(e){this.findAndActivateTab(e)}}},Nt=Et,Ot=Object(n["a"])(Nt,yt,St,!1,null,null,null),It=Ot.exports,Rt={install:function(e){e.component(g.name,g),e.component(x.name,x),e.component(k["a"].name,k["a"]),e.component(U.name,U),e.component(ne.name,ne),e.component(Y.name,Y),e.component(N.name,N),e.component(pe.name,pe),e.component(be.name,be),e.component(xe.name,xe),e.component(Ie.name,Ie),e.component(Ge.name,Ge),e.component(Ve.name,Ve),e.component(Ze.name,Ze),e.component(rt.name,rt),e.component(ut.name,ut),e.component(pt["a"].name,pt["a"]),e.component(bt.name,bt),e.component(It.name,It)}},Ft={bind:function(e,t,a){e.clickOutsideEvent=function(s){e==s.target||e.contains(s.target)||a.context[t.expression](s)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}},At={install:function(e){e.directive("click-outside",Ft)}},zt=At,Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-vertical fixed-left navbar-expand-md navbar-light bg-white",style:e.screen<768?"padding:0%":"padding:2%",attrs:{id:"sidenav-main"}},[a("div",{staticClass:"container-fluid"},[e.screen<768?a("navbar-toggle-button",{staticStyle:{"margin-bottom":"3%"},nativeOn:{click:function(t){return e.showSidebar(t)}}},[a("span",{staticClass:"navbar-toggler-icon"})]):a("navbar-toggle-button",{nativeOn:{click:function(t){return e.showSidebar(t)}}},[a("span",{staticClass:"navbar-toggler-icon"})]),e.screen<768?a("img",{staticStyle:{width:"0%","margin-left":"40px","margin-bottom":"3%"},attrs:{src:e.logo,alt:"..."}}):a("img",{staticStyle:{width:"100%"},attrs:{src:e.logoB,alt:"..."}}),e._t("mobile-right",[a("ul",{staticClass:"nav align-items-center d-md-none"},[a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link",attrs:{role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(t){return e.validateNotifications()}}},[a("i",{staticClass:"ni ni-bell-55",class:e.pxSep,staticStyle:{"font-size":"18px","z-index":"1",border:"1px solid #172b4d","border-radius":"50%",padding:"6px","vertical-align":"7px"}}),e.activeNotifications>0?a("badge",{staticClass:"notifyNumber text-white",staticStyle:{"font-size":"14px","z-index":"2","background-color":"rgba(61, 141, 242, 1)"},attrs:{type:"primary"}},[e._v(e._s(e.activeNotifications))]):e._e()],1),a("div",{staticClass:"dropdown-menu dDesteM  dropdown-menu-xl  dropdown-menu-right  py-0 overflow-hidden",staticStyle:{"z-index":"10000","min-width":"350px",right:"-100px"}},[a("vue-custom-scrollbar",{staticClass:"w-100",staticStyle:{height:"50vh",overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"}},[a("div",{staticClass:"list-group list-group-flush",staticStyle:{"z-index":"10000"}},[e._l(e.notifications,(function(t){return a("a",{key:t._id,staticClass:"list-group-item list-group-item-action",attrs:{href:"#!"}},[a("div",{staticClass:"row align-items-center",on:{click:function(a){return e.pushLink(t.link)}}},[a("div",{staticClass:"col-auto"},[""==t.userImg||null==t.userImg?a("img",{staticClass:"avatar rounded-circle",attrs:{alt:"Image placeholder",src:"img/theme/profile-default.png"}}):a("img",{staticClass:"avatar rounded-circle",attrs:{alt:"Image placeholder",src:t.userImg}})]),a("div",{staticClass:"col ml--2"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("div",[a("h4",{staticClass:"mb-0 text-sm"},[e._v(e._s(t.userName))])]),a("div",{staticClass:"text-right text-muted"},[a("small",[e._v(e._s(e._f("moment")(t.createdAt,"from","now")))])])]),a("p",{staticClass:"text-sm mb-0"},[e._v(e._s(e.formatDetail(t.detail))+" "),a("br"),e._v(" "+e._s(t.detail.split("~")[1]))])])])])})),0==e.notifications.length?a("a-empty",{attrs:{image:e.simpleImage}},[a("span",{attrs:{slot:"description"},slot:"description"},[e._v(" No posees notificaciones nuevas ")])]):e._e()],2)]),e.all?a("span",{staticClass:"dropdown-item-text text-center text-primary font-weight-bold py-3",staticStyle:{cursor:"pointer"},on:{click:e.getAll}},[e._v("Ver todas")]):e._e()],1)]),a("li",{staticClass:"nav-item",attrs:{disabled:!e.validRoute("sucursales","cambiar")}},[a("base-dropdown",{attrs:{position:"right"}},[a("a",{staticClass:"nav-link",attrs:{slot:"title",href:"#",role:"button"},slot:"title"},[a("div",{staticClass:"media align-items-center"},[a("a-button",{attrs:{type:"primary",shape:"circle"}},[e._v("\n                          "+e._s(e.branchName[0])+" \n                        ")])],1)]),e._l(e.branches,(function(t){return[t.active?a("a-button",{key:t._id+"/"+t.name,staticClass:"dropdown-item",attrs:{type:"link"},on:{click:function(a){return e.selectBranch(t._id+"/"+t.name)}}},[e._v(e._s(t.name)+" ")]):e._e()]}))],2)],1),a("li",{staticClass:"nav-item"},[a("base-dropdown",{attrs:{position:"right"}},[a("a",{staticClass:"nav-link",attrs:{slot:"title",href:"#",role:"button"},slot:"title"},[a("div",{staticClass:"media align-items-center"},[a("span",{staticClass:"avatar avatar-sm rounded-circle"},[""==e.haveImage?a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{alt:"Image placeholders",src:"img/theme/profile-default.png"}}):a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{alt:"Image placeholdesr",src:e.imgUser}})])])]),a("div",{staticClass:" dropdown-header noti-title"},[a("h6",{staticClass:"text-overflow m-0"},[e._v("Bienvenido!")])]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/profile"}},[a("i",{staticClass:"ni ni-single-02"}),a("span",[e._v("Mi perfil")])]),e.validRoutee("sucursales")?a("router-link",{staticClass:"dropdown-item",attrs:{to:"/sucursales"}},[a("a-icon",{staticStyle:{"vertical-align":"1px"},attrs:{type:"shop"}}),a("span",[e._v("Sucursales")])],1):e._e(),e.validRoutee("bodega")?a("router-link",{staticClass:"dropdown-item",attrs:{to:"/store"}},[a("i",{staticClass:"ni ni-box-2"}),a("span",[e._v("Bodega")])]):e._e(),a("div",{staticClass:"dropdown-divider"}),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/login"}},[a("i",{staticClass:"ni ni-user-run"}),a("span",[e._v("Cerrar sesión")])])],1)],1)])]),e._t("default"),e.loader?a("div",{staticClass:"preloader"},[e._m(0)]):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$sidebar.showSidebar,expression:"$sidebar.showSidebar"}],staticClass:"navbar-collapse collapse show pt-0",attrs:{id:"sidenav-collapse-main"}},[a("div",{staticClass:"navbar-collapse-header d-md-none"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 collapse-brand"},[a("router-link",{attrs:{to:"/"}},[a("img",{staticStyle:{width:"100%",height:"auto"},attrs:{src:e.logo}})])],1),a("div",{staticClass:"col-6 collapse-close"},[a("navbar-toggle-button",{nativeOn:{click:function(t){return e.closeSidebar(t)}}})],1)])]),a("ul",{staticClass:"navbar-nav"},[e._t("links")],2)])],2)])},Gt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"preloader-body"},[a("div",{staticClass:"cssload-container"},[a("div",{staticClass:"cssload-speeding-wheel"}),a("h1",[e._v("Cargando sucursal")])])])}],Ut=(a("96cf"),a("3b8d")),Lt=(a("ac4d"),a("8a81"),a("28a5"),a("6762"),a("2fdb"),a("a5e9")),Mt=a.n(Lt),qt=a("e366"),Wt=a("8055"),Vt=a.n(Wt),Yt=a("fc25"),Kt=a("bc3a"),Jt=a.n(Kt),Qt=a("04e1"),Xt=a.n(Qt),Zt=a("4b70"),ea=a.n(Zt),ta={name:"sidebar",components:{NavbarToggleButton:ae,vueCustomScrollbar:ea.a},data:function(){return{socket:Vt()(Mt.a.endpointTarget),haveImage:localStorage.imageUser,activeNotifications:0,imgUser:localStorage.imageUser,idUser:localStorage._id,screen:screen.width,auth:[],loader:!1,notifications:[],all:!0,pxSep:"",branches:[],branchName:localStorage.branchName,branch:localStorage.branch}},props:{logo:{type:String,default:"img/brand/syswa-gestion2.png",description:"Sidebar app logo"},logoB:{type:String,default:"img/brand/syswa-gestion2.png",description:"Sidebar app logo"},autoClose:{type:Boolean,default:!0,description:"Whether sidebar should autoclose on mobile when clicking an item"}},provide:function(){return{autoClose:this.autoClose}},beforeCreate:function(){this.simpleImage=Yt["a"].PRESENTED_IMAGE_SIMPLE},created:function(){this.getToken(),this.getBranches(),this.getNotifications()},methods:(je={pushLink:function(e){var t=!1;"/ventas"==d["a"].app._route.path.toLowerCase()&&(t=!0),d["a"].push(e),setTimeout((function(){qt["a"].$emit("notifyLink","reload"),t&&qt["a"].$emit("notifyLinkSales","reload")}),1e3)},getNotifications:function(){var e=this,t={headers:{"x-database-connect":Mt.a.database,"x-access-token":localStorage.userToken}};Jt.a.get(Mt.a.endpointTarget+"/notifications/noviews/"+this.idUser,t).then((function(t){e.notifications=t.data.data,e.activeNotifications=t.data.data.length,e.activeNotifications<10?e.pxSep="pxSix":e.activeNotifications<100?e.pxSep="pxSixPlus":e.activeNotifications<999&&(e.pxSep="pxSixPlusTwo"),e.all=!0}))},getAll:function(){var e=this,t={headers:{"x-database-connect":Mt.a.database,"x-access-token":localStorage.userToken}};setTimeout((function(){$(".dDesteM").dropdown("toggle")}),100),Jt.a.get(Mt.a.endpointTarget+"/notifications/getall/"+this.idUser,t).then((function(t){e.notifications=t.data.data,e.all=!1}))}},Object(R["a"])(je,"pushLink",(function(e){var t=!1,a=!1;"/agendamiento"==d["a"].app._route.path&&(t=!0),"/Ventas"==d["a"].app._route.path&&(a=!0),d["a"].push(e),setTimeout((function(){t&&qt["a"].$emit("notifyLink","reload"),a&&qt["a"].$emit("notifyLinkSales","reload")}),1e3)})),Object(R["a"])(je,"formatDetail",(function(e,t){return e.includes("~")?e.split("~")[0]:e})),Object(R["a"])(je,"validateNotifications",(function(){var e=this,t={headers:{"x-database-connect":Mt.a.database,"x-access-token":localStorage.userToken}};Jt.a.get(Mt.a.endpointTarget+"/notifications/validateviews/"+this.idUser,t).then((function(t){e.notifications=t.data.data,e.activeNotifications=0,e.all=!0}))})),Object(R["a"])(je,"closeSidebar",(function(){this.$sidebar.displaySidebar(!1)})),Object(R["a"])(je,"showSidebar",(function(){this.$sidebar.displaySidebar(!0)})),Object(R["a"])(je,"validRoutee",(function(e){for(var t=0;t<this.auth.length;t++){var a=this.auth[t];if(a.ruta==e)return!0}})),Object(R["a"])(je,"validRoute",(function(e,t){for(var a=0;a<this.auth.length;a++){var s=this.auth[a];if(s.ruta==e)for(var i=0;i<s.validaciones.length;i++)if(t==s.validaciones[i])return!0}})),Object(R["a"])(je,"selectBranch",(function(e){e.split("/")[0]!=this.branch&&(this.loader=!0,localStorage.setItem("branch",e.split("/")[0]),localStorage.setItem("branchName",e.split("/")[1]),this.branch=e.split("/")[0],this.branchName=e.split("/")[1],qt["a"].$emit("changeBranch"+d["a"].app._route.path.toLowerCase(),d["a"].app._route.path))})),Object(R["a"])(je,"getToken",(function(){var e=localStorage.userToken;if(e){var t=Xt()(e);this.auth=t.access,this.branch=localStorage.branch;var a=!0,s=!1,i=void 0;try{for(var r,n=this.branches[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var o=r.value;if(o._id==this.branch){this.branchName=o.name,localStorage.setItem("branchName",this.branchName);break}}}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}}})),Object(R["a"])(je,"getBranches",function(){var e=Object(Ut["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={headers:{"x-database-connect":Mt.a.database,"x-access-token":localStorage.userToken}},e.prev=1,e.next=4,Jt.a.get(Mt.a.endpointTarget+"/branches",t);case 4:a=e.sent,"ok"==a.data.status&&(this.branches=a.data.data,this.getToken()),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()),je),mounted:function(){var e=this;qt["a"].$on("pageLoaded",(function(t){t&&(e.loader=!1)})),qt["a"].$on("loggedin",(function(t){e.getToken()})),this.socket.on("notify",(function(t){e.notifications.push(t),e.activeNotifications++}))},beforeDestroy:function(){this.$sidebar.showSidebar&&(this.$sidebar.showSidebar=!1)}},aa=ta,sa=Object(n["a"])(aa,Ht,Gt,!1,null,null,null),ia=sa.exports,ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:e.link.path,target:e.link.target,href:e.link.path},nativeOn:{click:function(t){return e.linkClick(t)}}},[[a("i",{class:e.link.icon}),a("span",{staticClass:"nav-link-text"},[e._v(e._s(e.link.name))])]],2)],1)},na=[],oa={name:"sidebar-item",props:{link:{type:Object,default:function(){return{name:"",path:"",children:[]}},description:"Sidebar link. Can contain name, path, icon and other attributes. See examples for more info"}},inject:{autoClose:{default:!0}},data:function(){return{children:[],collapsed:!0}},methods:{linkClick:function(){this.autoClose&&this.$sidebar&&!0===this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)}}},ca=oa,la=Object(n["a"])(ca,ra,na,!1,null,null,null),da=la.exports,ua={showSidebar:!1,sidebarLinks:[],isMinimized:!1,displaySidebar:function(e){this.showSidebar=e},toggleMinimize:function(){document.body.classList.toggle("sidebar-mini");var e=setInterval((function(){window.dispatchEvent(new Event("resize"))}),180);setTimeout((function(){clearInterval(e)}),1e3),this.isMinimized=!this.isMinimized}},pa={install:function(e,t){t&&t.sidebarLinks&&(ua.sidebarLinks=t.sidebarLinks);var a=new e({data:{sidebarStore:ua}});e.prototype.$sidebar=a.sidebarStore,e.component("side-bar",ia),e.component("sidebar-item",da)}},ma=pa,ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"notifications"},[a("slide-y-up-transition",{attrs:{duration:e.transitionDuration,group:"",mode:"out-in"}},e._l(e.notifications,(function(t){return a("notification",e._b({key:t.timestamp.getTime(),attrs:{clickHandler:t.onClick},on:{close:e.removeNotification}},"notification",t,!1))})),1)],1)},fa=[],va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"alert alert-notify alert-dismissible",class:[{"alert-with-icon":e.icon},e.verticalAlign,e.horizontalAlign,e.alertType],style:e.customPosition,attrs:{"data-notify":"container",role:"alert","data-notify-position":"top-center"},on:{click:e.tryClose}},[e.icon||e.$slots.icon?[e._t("icon",[a("span",{staticClass:"alert-icon",attrs:{"data-notify":"icon"}},[a("i",{class:e.icon})])])]:e._e(),a("span",{staticClass:"alert-text"},[e.title?a("span",{staticClass:"title"},[a("b",[e._v(e._s(e.title)),a("br")])]):e._e(),e.message?a("span",{domProps:{innerHTML:e._s(e.message)}}):e._e(),!e.message&&e.component?a("content-render",{attrs:{component:e.component}}):e._e()],1),e._t("dismiss-icon",[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:e.close}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])],2)},ga=[],ba=void 0,ya={name:"notification",components:{contentRender:{props:["component"],render:function(e){return e(ba.component)}}},props:{message:String,title:String,icon:String,verticalAlign:{type:String,default:"top",validator:function(e){var t=["top","bottom"];return-1!==t.indexOf(e)}},horizontalAlign:{type:String,default:"right",validator:function(e){var t=["left","center","right"];return-1!==t.indexOf(e)}},type:{type:String,default:"info",validator:function(e){var t=["default","info","primary","danger","warning","success"];return-1!==t.indexOf(e)}},timeout:{type:Number,default:5e3,validator:function(e){return e>=0}},timestamp:{type:Date,default:function(){return new Date}},component:{type:[Object,Function]},showClose:{type:Boolean,default:!0},closeOnClick:{type:Boolean,default:!0},clickHandler:Function},data:function(){return{elmHeight:0}},computed:{hasIcon:function(){return this.icon&&this.icon.length>0},alertType:function(){return"alert-".concat(this.type)},customPosition:function(){var e=this,t=20,a=this.elmHeight+10,s=this.$notifications.state.filter((function(t){return t.horizontalAlign===e.horizontalAlign&&t.verticalAlign===e.verticalAlign&&t.timestamp<=e.timestamp})).length;this.$notifications.settings.overlap&&(s=1);var i=(s-1)*a+t,r={};return"top"===this.verticalAlign?r.top="".concat(i,"px"):r.bottom="".concat(i,"px"),r}},methods:{close:function(){this.$emit("close",this.timestamp)},tryClose:function(e){this.clickHandler&&this.clickHandler(e,this),this.closeOnClick&&this.close()}},mounted:function(){this.elmHeight=this.$el.clientHeight,this.timeout&&setTimeout(this.close,this.timeout)}},Sa=ya,Ca=(a("f0fa"),Object(n["a"])(Sa,va,ga,!1,null,null,null)),_a=Ca.exports,wa={components:{SlideYUpTransition:S["b"],Notification:_a},props:{transitionDuration:{type:Number,default:200},overlap:{type:Boolean,default:!1}},data:function(){return{notifications:this.$notifications.state}},methods:{removeNotification:function(e){this.$notifications.removeNotification(e)}},created:function(){this.$notifications.settings.overlap=this.overlap},watch:{overlap:function(e){this.$notifications.settings.overlap=e}}},xa=wa,ka=Object(n["a"])(xa,ha,fa,!1,null,null,null),Da=ka.exports,Pa={state:[],settings:{overlap:!1,verticalAlign:"top",horizontalAlign:"right",type:"info",timeout:5e3,closeOnClick:!0,showClose:!0},setOptions:function(e){this.settings=Object.assign(this.settings,e)},removeNotification:function(e){var t=this.state.findIndex((function(t){return t.timestamp===e}));-1!==t&&this.state.splice(t,1)},addNotification:function(e){("string"===typeof e||e instanceof String)&&(e={message:e}),e.timestamp=new Date,e.timestamp.setMilliseconds(e.timestamp.getMilliseconds()+this.state.length),e=Object.assign({},this.settings,e),this.state.push(e)},notify:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){t.addNotification(e)})):this.addNotification(e)}},Ta={install:function(e,t){var a=new e({data:{notificationStore:Pa},methods:{notify:function(e){this.notificationStore.notify(e)}}});e.prototype.$notify=a.notify,e.prototype.$notifications=a.notificationStore,e.component("Notifications",Da),t&&Pa.setOptions(t)}},$a=Ta,Ba={install:function(e){e.use(Rt),e.use(zt),e.use(ma),e.use($a)}},ja=a("5886"),Ea=a("1321"),Na=a.n(Ea),Oa=a("526e"),Ia=a.n(Oa),Ra=a("5350"),Fa=a("d413"),Aa=a("4ae6"),za=a.n(Aa),Ha=a("ecee"),Ga=a("ad3d"),Ua=a("c074"),La=a("5132"),Ma=a.n(La),qa=a("3730"),Wa=a.n(qa),Va=(a("3c32"),a("c143")),Ya=a("0a63"),Ka=a.n(Ya),Ja=a("f23d"),Qa=(a("a481"),{install:function(e){e.filter("formatPrice",(function(e){var t=(e/1).toFixed(2).replace(".",",");return"$ "+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}))}}),Xa=Qa,Za=(a("202f"),a("c1df")),es=a.n(Za);a("898b");es.a.locale("es");var ts={install:function(e){e.filter("formatDate",(function(e){var t=new Date(e);return es()(t).format("DD-MM-YYYY")})),e.filter("formatDateEdit",(function(e){var t=new Date(e);return es()(t).format("MM-DD-YYYY")})),e.filter("fromNow",(function(e){var t=new Date(e);return es()(t,"YYYYMMDD").fromNow()}))}},as=ts,ss=a("77a0"),is=a.n(ss),rs=a("7bec"),ns=a.n(rs),os=a("94b3"),cs=a("7898"),ls=a.n(cs),ds=a("574d"),us=a.n(ds),ps=(a("04f2"),a("2ee4")),ms=a.n(ps),hs=(a("da93"),a("a101"),a("44132"),a("4413"),a("c1df"));a("898b"),s["default"].use(is.a),s["default"].use(a("2ead"),{moment:hs}),s["default"].config.productionTip=!1;var fs={globalOptions:{currency:{prefix:"$ "},precision:0,distractionFree:!1,autoDecimalMode:!1}},vs={name:"_blank",specs:["fullscreen=yes","titlebar=yes","scrollbars=yes"],styles:["https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css","https://unpkg.com/kidlat-css/css/kidlat.css"],timeout:1e3,autoClose:!0,windowTitle:window.document.title};s["default"].use(Ja["a"]),s["default"].component("vue-phone-number-input",ns.a),s["default"].component("vue-single-select",Ra["a"]),s["default"].component("kinesis-container",os["a"]),s["default"].component("kinesis-element",os["b"]),s["default"].use(Fa["a"],fs),s["default"].use(Ba),s["default"].use(ja["a"]),s["default"].use(Na.a),s["default"].use(Ia.a),s["default"].use(us.a),s["default"].use(za.a),s["default"].use(as),s["default"].use(ls.a,vs),s["default"].use(Xa),s["default"].use(Wa.a),s["default"].component("font-awesome-icon",Ga["a"]),s["default"].use(ms.a),s["default"].component("apexchart",Na.a),s["default"].use(new Ma.a({debug:!0,connection:Mt.a.endpointTarget})),s["default"].use(Va["a"]),s["default"].use(Ka.a),Ha["c"].add(Ua["r"],Ua["b"],Ua["k"],Ua["n"],Ua["m"],Ua["i"],Ua["f"],Ua["g"],Ua["e"],Ua["q"],Ua["d"],Ua["j"],Ua["p"],Ua["h"],Ua["c"],Ua["o"],Ua["a"],Ua["l"]),new s["default"]({router:d["a"],render:function(e){return e(l)}}).$mount("#app")},"5d67":function(e,t,a){},"714b":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("SlideYUpTransition",{attrs:{duration:e.animationDuration}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"modal fade",class:[{"show d-block":e.show},{"d-none":!e.show},{"modal-mini":"mini"===e.type}],attrs:{tabindex:"-1",role:"dialog","aria-hidden":!e.show},on:{click:function(t){return t.target!==t.currentTarget?null:e.closeModal(t)}}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",class:[{"modal-notice":"notice"===e.type},e.modalClasses]},[a("div",{staticClass:"modal-content",class:[e.gradient?"bg-gradient-"+e.gradient:"",e.modalContentClasses]},[e.$slots.header?a("div",{staticClass:"modal-header",class:[e.headerClasses]},[e._t("header"),e._t("close-button",[e.showClose?a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:e.closeModal}},[a("span",{attrs:{"aria-hidden":!e.show}},[e._v("×")])]):e._e()])],2):e._e(),a("div",{staticClass:"modal-body",class:e.bodyClasses},[e._t("default")],2),e.$slots.footer?a("div",{staticClass:"modal-footer",class:e.footerClasses},[e._t("footer")],2):e._e()])])])])},i=[],r=(a("c5f6"),a("7c76")),n={name:"modal",components:{SlideYUpTransition:r["b"]},props:{show:Boolean,showClose:{type:Boolean,default:!0},type:{type:String,default:"",validator:function(e){var t=["","notice","mini"];return-1!==t.indexOf(e)},description:'Modal type (notice|mini|"") '},modalClasses:{type:[Object,String],description:"Modal dialog css classes"},modalContentClasses:{type:[Object,String],description:"Modal dialog content css classes"},gradient:{type:String,description:"Modal gradient type (danger, primary etc)"},headerClasses:{type:[Object,String],description:"Modal Header css classes"},bodyClasses:{type:[Object,String],description:"Modal Body css classes"},footerClasses:{type:[Object,String],description:"Modal Footer css classes"},animationDuration:{type:Number,default:500,description:"Modal transition duration"}},methods:{closeModal:function(){this.$emit("update:show",!1),this.$emit("close")}},watch:{show:function(e){var t=document.body.classList;e?t.add("modal-open"):t.remove("modal-open")}}},o=n,c=(a("22d7"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,null,null);t["a"]=l.exports},"7fbb":function(e,t,a){},"82ea":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.tag,{tag:"component",staticClass:"btn",class:e.classes,attrs:{type:"button"===e.tag?e.nativeType:""},on:{click:e.handleClick}},[e.$slots.icon||e.icon&&e.$slots.default?a("span",{staticClass:"btn-inner--icon"},[e._t("icon",[a("i",{class:e.icon})])],2):e._e(),e.$slots.default?e._e():a("i",{class:e.icon}),e.$slots.icon||e.icon&&e.$slots.default?a("span",{staticClass:"btn-inner--text"},[e._t("default",[e._v("\n        "+e._s(e.text)+"\n      ")])],2):e._e(),e.$slots.icon||e.icon?e._e():e._t("default")],2)},i=[],r=a("bd86"),n={name:"base-button",props:{tag:{type:String,default:"button",description:"Button tag (default -> button)"},type:{type:String,default:"default",description:"Button type (e,g primary, danger etc)"},size:{type:String,default:"",description:"Button size lg|sm"},textColor:{type:String,default:"",description:"Button text color (e.g primary, danger etc)"},nativeType:{type:String,default:"button",description:"Button native type (e.g submit,button etc)"},icon:{type:String,default:"",description:"Button icon"},text:{type:String,default:"",description:"Button text in case not provided via default slot"},outline:{type:Boolean,default:!1,description:"Whether button style is outline"},rounded:{type:Boolean,default:!1,description:"Whether button style is rounded"},iconOnly:{type:Boolean,default:!1,description:"Whether button contains only an icon"},block:{type:Boolean,default:!1,description:"Whether button is of block type"}},computed:{classes:function(){var e=[{"btn-block":this.block},{"rounded-circle":this.rounded},{"btn-icon-only":this.iconOnly},Object(r["a"])({},"text-".concat(this.textColor),this.textColor),{"btn-icon":this.icon||this.$slots.icon},this.type&&!this.outline?"btn-".concat(this.type):"",this.outline?"btn-outline-".concat(this.type):""];return this.size&&e.push("btn-".concat(this.size)),e}},methods:{handleClick:function(e){this.$emit("click",e)}}},o=n,c=a("2877"),l=Object(c["a"])(o,s,i,!1,null,null,null);t["a"]=l.exports},"97a7":function(e,t,a){"use strict";var s=a("f039"),i=a.n(s);i.a},a4d4:function(e,t,a){},a5e9:function(e,t){var a="18.228.199.97:4200",s="3389",i="http://".concat(a),r="".concat(i,"/static/users/"),n={imgEndpoint:r,portClient:s,database:"syswa-gestion-qa",siteRedirect:"",endpointTarget:i,url:"http://syswagestionqa.syswa.net/#",server:a},o=n;e.exports=o},a60b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-2"},[[a("center",[a("h1",{staticClass:"display-2 pb-3 mb-3 hide text-center text-white"},[e._v("Reporte de cierre "+e._s(e._f("formatDate")(e.initDate)))])]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Nombre de la empleada:")]),e._v(" "+e._s(e.nameLender)+"\n            ")]),a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Comisión total:")]),e._v(" "+e._s(e._f("formatPrice")(e.totalComission))+"\n            ")]),a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Total de adelantos:")]),e._v(" "+e._s(e._f("formatPrice")(e.advancement))+"\n            ")]),a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Total de bonos:")]),e._v(" "+e._s(e._f("formatPrice")(e.lenderBonus))+"\n            ")]),a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Total servicios:")]),e._v(" "+e._s(e.sales.length)+"\n            ")]),a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Total a recibir:")]),e._v(" "+e._s(e._f("formatPrice")(e.totalSales))+"\n            ")])]),a("hr",{staticClass:"mt-2 mb-2"}),a("h1",{staticClass:"text-center"},[e._v("Servicios realizados")]),a("a-config-provider",{attrs:{locale:e.es_ES},scopedSlots:e._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[e._v("Empleado no posee ventas registradas")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:e.columns,"data-source":e.sales,pagination:!1},scopedSlots:e._u([{key:"filterDropdown",fn:function(t){var s=t.setSelectedKeys,i=t.selectedKeys,r=t.confirm,n=t.clearFilters,o=t.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(t){return e.searchInput=t},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por nombre",value:i[0]},on:{change:function(e){return s(e.target.value?[e.target.value]:[])},pressEnter:function(){return e.handleSearch(i,r,o.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return e.handleSearch(i,r,o.dataIndex)}}},[e._v("\n                        Buscar\n                    ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return e.handleReset(n)}}},[e._v("\n                        resetear\n                    ")])],1)}},{key:"filterIcon",fn:function(e){return a("a-icon",{style:{color:e?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"customRender",fn:function(t,s,i,r){return[e.searchText&&e.searchedColumn===r.dataIndex?a("span",[e._l(t.toString().split(new RegExp("(?<="+e.searchText+")|(?="+e.searchText+")","i")),(function(t,s){return[t.toLowerCase()===e.searchText.toLowerCase()?a("mark",{key:s,staticClass:"highlight"},[e._v(e._s(t))]):[e._v(e._s(t))]]}))],2):[e._v("\n                        "+e._s(t)+"\n                    ")]]}},{key:"date-format",fn:function(t,a){return[e._v("\n                    "+e._s(e._f("formatDate")(a.createdAt))+"\n                ")]}},{key:"commission",fn:function(t,a){return[e._v("\n                    "+e._s(e._f("formatPrice")(a.commission))+"\n                ")]}},{key:"total",fn:function(t,a){return[e._v("\n                    "+e._s(e._f("formatPrice")(a.total))+"\n                ")]}}])})],1)]],2)},i=[],r=(a("7f7f"),a("bc3a")),n=a.n(r),o=a("a5e9"),c=a.n(o),l=a("ef34"),d=a("bb36"),u={mixins:[l["a"],d["a"]],data:function(){return{auth:[],id:this.$route.query.id,sales:[],salesTotal:[],initDate:"",closeDate:"",lenderBonuses:[],code:"",dataDetail:[],nameLender:"",totalComission:0,lenderBonus:0,advancement:"",totalSale:0,configDate:{allowInput:!0,minDate:new Date},dates:{simple:new Date},dataExpense:{reason:"",amount:0,valid:!1},bonus:!1,lendeAdvancements:[],columnsLender:[{label:"Razón",name:"reason",sort:!0},{label:"Total",name:"total",slot_name:"format-total",sort:!1},{label:"Fecha",name:"date",slot_name:"format-date",sort:!1}],columnsBonuses:[{label:"Razón",name:"expense",slot_name:"format-reason",sort:!0},{label:"Total",name:"Figure",slot_name:"format-total",sort:!1},{label:"Fecha",name:"date",slot_name:"format-date",sort:!1}],configBonuses:{card_title:"Bonos",checkbox_rows:!1,rows_selectable:!1,highlight_row_hover_color:"rgba(238, 238, 238, 0.623)",per_page_options:[5,10,20,30,40,50,80,100],show_refresh_button:!1,show_reset_button:!1,selected_rows_info:!1,preservePageOnDataChange:!0,pagination_info:!1,pagination:!1,global_search:{placeholder:"Busque el prestador",visibility:!1,case_sensitive:!1,showClearButton:!0,searchOnPressEnter:!1,searchDebounceRate:200}},configHeader:{headers:{"x-database-connect":c.a.database,"x-access-token":localStorage.userToken}},configLender:{card_title:"Adelantos",checkbox_rows:!1,rows_selectable:!1,highlight_row_hover_color:"rgba(238, 238, 238, 0.623)",per_page_options:[5,10,20,30,40,50,80,100],show_refresh_button:!1,show_reset_button:!1,selected_rows_info:!1,preservePageOnDataChange:!0,pagination_info:!1,pagination:!1,global_search:{placeholder:"Busque el prestador",visibility:!1,case_sensitive:!1,showClearButton:!0,searchOnPressEnter:!1,searchDebounceRate:200}},columns:[{title:"Fecha",dataIndex:"createdAt",key:"createdAt",scopedSlots:{customRender:"date-format"},defaultSortOrder:"descend",sorter:function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()},ellipsis:!0},{title:"UUID de venta",dataIndex:"saleData.uuid",key:"saleData.uuid",scopedSlots:{customRender:"uuid-format"}},{title:"Cliente",dataIndex:"client",key:"client",ellipsis:!0},{title:"Servicio",dataIndex:"service",key:"service",ellipsis:!0},{title:"Comisión",dataIndex:"commission",key:"commission",ellipsis:!0,scopedSlots:{customRender:"commission"},defaultSortOrder:"descend",sorter:function(e,t){return e.commission-t.commission}},{title:"Total",dataIndex:"total",key:"total",ellipsis:!0,scopedSlots:{customRender:"total"},defaultSortOrder:"descend",sorter:function(e,t){return e.total-t.total}}],totalSales:0}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.closeDate=new Date,n.a.get(c.a.endpointTarget+"/employes/getHistoryEmploye/"+this.id,this.configHeader).then((function(t){e.nameLender=t.data.data.employe.name,e.totalComission=t.data.data.commission,e.lenderBonus=t.data.data.bonus,e.advancement=t.data.data.advancement,e.sales=t.data.data.sales,e.initDate=t.data.data.createdAt,e.totalSales=e.lenderBonus+e.totalComission-e.advancement,setTimeout((function(){print(),setTimeout((function(){window.close()}),200)}),200)})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}}},p=u,m=a("2877"),h=Object(m["a"])(p,s,i,!1,null,null,null);t["default"]=h.exports},a7c4:function(e,t,a){"use strict";var s=a("4fb9"),i=a.n(s);i.a},aabf:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("center",[a("div",{staticClass:"mt-9 hidden divShow"},[a("i",{staticClass:"fa fa-info-circle mb-4",staticStyle:{"font-size":"15em",color:"#238ae6"}}),a("h1",[e._v("Su cita fue cancelada satifactoriamente")])])])],1)},i=[],r=(a("28a5"),a("7f7f"),a("ac6a"),a("bc3a")),n=a.n(r),o=a("a5e9"),c=a.n(o),l=(a("41cb"),a("8055")),d=a.n(l),u=a("c1df");a("898b");u["locale"]("es");var p={data:function(){return{id:this.$route.query.id,socket:d()(c.a.endpointTarget),configHeader:{headers:{"x-database-connect":c.a.database}}}},created:function(){this.confirmDate()},methods:{confirmDate:function(){var e=this;n.a.delete(c.a.endpointTarget+"/dates/"+this.id,this.configHeader).then((function(t){if("deleted"==t.data.status&&($(".divShow").show("slow"),t.data.data)){var a="";t.data.data.microServices.forEach((function(e,s){t.data.data.microServices[s+1]?a=a+e.name+" - ":a+=e.name})),n.a.post(c.a.endpointTarget+"/notifications",{userName:"Cliente: "+t.data.data.client.name,userImage:"",employeId:t.data.data.employe.id,detail:"Canceló su cita para el día "+e.formatDateTwo(t.data.data.createdAt),branch:t.data.data.branch,link:"agendamiento"},e.configHeader).then((function(t){e.socket.emit("sendNotification",t.data.data)})),n.a.post(c.a.endpointTarget+"/mails/responseDate",{client:t.data.data.content,clientMail:t.data.data.client.email,email:t.data.branchEmail,branchName:t.data.branchName,start:t.data.data.start.split(" ")[1],end:t.data.data.end.split(" ")[1],date:t.data.data.start.split(" ")[0],employe:t.data.data.employe.name,service:t.data.data.title,micro:a,logo:t.data.logo,confirmed:!1,system:!1},e.configHeader).then((function(e){})).catch((function(e){console.log(e)}))}}))},formatDateTwo:function(e){var t=new Date(e);return u(t).format("DD-MM-YYYY")}}},m=p,h=(a("2474c"),a("2877")),f=Object(h["a"])(m,s,i,!1,null,null,null);t["default"]=f.exports},b72f:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"font"},[a("nav",{staticClass:"headerStyles",attrs:{id:"upView"}},[a("div",{staticClass:"borderImageBrand"},[a("img",{staticClass:"imageBrand",attrs:{src:e.logoBranch,alt:""}})])]),a("div",{staticClass:"container-fluid",staticStyle:{"margin-top":"8rem"}},[a("a-tooltip",[a("template",{slot:"title"},[e._v("\n                Citas por asistir\n            ")]),a("base-button",{staticClass:"float-right mt-1",staticStyle:{"z-index":"100","border-radius":"50%",height:"50px",width:"50px",right:"3%",top:"88%",position:"fixed"},attrs:{type:"default"},on:{click:e.getDatesClient}},[a("i",{staticClass:"fa fa-address-card",staticStyle:{"vertical-align":"1px","font-size":"1.6em",left:"12px",top:"13px",position:"absolute"}})])],2),""!=e.branch&&e.configurationsBranch.giftCard&&e.configurationsBranch.giftCard.online?a("a-tooltip",[a("template",{slot:"title"},[e._v("\n                Gift Cards\n            ")]),a("base-button",{staticClass:"float-right mt-1",staticStyle:{"z-index":"100","border-radius":"50%",height:"50px",width:"50px",right:"7rem",top:"88%",position:"fixed"},attrs:{type:"default"},on:{click:function(t){e.modals.modal8=!0}}},[a("i",{staticClass:"fa fa-gift",staticStyle:{"vertical-align":"1px","font-size":"1.6em",left:"12px",top:"13px",position:"absolute"}})])],2):e._e(),a("card",{attrs:{shadow:""}},[a("a-spin",{attrs:{spinning:e.spinningDate}},[a("form-wizard",{ref:"wizard",attrs:{color:"#174c8e","back-button-text":"Atrás","next-button-text":"Siguiente","finish-button-text":"¡Agendar!"},on:{"on-complete":e.finalFunction}},[e.validWizard?a("h2",{attrs:{slot:"title"},slot:"title"},[e._v("Datos de agendamiento ")]):a("h2",{staticClass:"text-danger",attrs:{slot:"title"},slot:"title"},[e._v("¡Debe completar los datos!")]),a("tab-content",{staticClass:"mt-4",attrs:{title:"Servicios",icon:"fa fa-layer-group","before-change":e.validateFirstStep}},[e.desactive?a("div",[a("center",[a("h1",{staticClass:"text-center w-50 mt-4"},[e._v("\n                                    Por motivos de fuerza mayor, no estamos atendiendo en nuestro loca. Una vez se levante la cuarentena retomaremos los agendamientos.\n                                ")])])],1):a("div",{staticClass:"row"},[a("div",{staticClass:"showDevice col-md-12 row"},[a("div",{staticClass:"col-12 ml-3",staticStyle:{width:"auto"}},[a("ul",{staticClass:"nav nav-pills mb-3",attrs:{id:"pills-tab",role:"tablist"}},e._l(e.categories,(function(t,s){return a("li",{key:t.name,staticClass:"nav-item responsiveItem",attrs:{role:"presentation"}},[a("button",{staticClass:"categoryButton text-uppercase responsiveItem",attrs:{id:"cat"+s,"data-toggle":"pill",href:"#v-pills-"+t._id,role:"tab","aria-controls":"v-pills-home","aria-selected":"true"},on:{click:function(t){return e.selectCat("cat"+s)}}},[e._v(e._s(t.name))])])})),0)]),a("div",{staticClass:"separateService col-md-8"},[a("div",{staticClass:"tab-content",attrs:{id:"pills-tabContent"}},e._l(e.categories,(function(t){return a("div",{key:t.name,staticClass:"tab-pane fade ",attrs:{id:"v-pills-"+t._id,role:"tabpanel","aria-labelledby":"v-pills-home-tab"}},[a("div",{staticClass:"row mt-2"},[e._l(e.services,(function(s,i){return[s.category==t.name&&1==s.active?a("div",{key:s.name,staticClass:"col-md-4 px-2"},[a("div",{staticClass:"card-service row mt-2",attrs:{id:"cardS"+i}},[a("h3",{staticClass:"name-service w-100"},[e._v(" "+e._s(s.name))]),a("div",{staticClass:"col-12 pl-0"},[a("img",{attrs:{src:"img/brand/calendar.png",alt:""}})]),a("p",{staticClass:"ml-1 mb-0 w-100",staticStyle:{"margin-top":"-15px"}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"clock-circle"}}),e._v(" "+e._s(e.fixedHours(s.duration))+"\n                                                            ")],1),a("p",{staticClass:"ml-1 w-100"},[e._v(e._s(s.additionalName))]),a("div",{staticClass:"col-md-6 col-sm-12 mt-1",staticStyle:{padding:"0px !important","padding-top":"5px !important"}},[a("div",{staticClass:"price-service "},[e._v("$ "+e._s(e.formatPrice(s.price)))])]),a("div",{staticClass:"col-md-6 col-sm-12 mt-1",staticStyle:{padding:"0px !important","margin-top":"-5px"}},[a("div",{staticClass:"button-service-group"},[a("button",{staticClass:"button-service-left"},[a("i",{staticClass:"fa fa-minus",on:{click:function(t){return e.lessService(i,s.name,s.duration,"cardS"+i,s.price,e.serviceCount[i].count)}}})]),a("span",{staticClass:"span-button-service"},[e._v(e._s(e.serviceCount[i].count))]),a("button",{staticClass:"button-service-right",on:{click:function(t){return e.plusService(i,s.name,s._id,s.duration,s.commission,s.price,s.employes,"cardS"+i,s.discount)}}},[a("i",{staticClass:"fa fa-plus"})])])])])]):e._e()]}))],2)])})),0)]),a("div",{staticClass:"col-md-4"},[a("h2",{staticStyle:{"margin-top":"-50px"}},[e._v("Servicios seleccionados")]),e.registerDate.serviceSelectds[0]?e._l(e.registerDate.serviceSelectds,(function(t,s){return a("div",{key:t._id+"asda"+s,staticClass:"w-100 px-4"},[a("div",{staticClass:"card-service row mt-4",staticStyle:{"border-bottom":"solid 8px #174c8e"}},[a("h3",{staticClass:"name-service"},[e._v(" "+e._s(t.name))]),a("div",{staticClass:"col-12 pl-0"},[e.ifMicro?[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[e._v('Marque el adicional deseado, en caso de no aplicar marcar opción "NINGUNO" para poder avanzar.')])]),a("span",{staticClass:"ml-1 mb-0 font-weight-bold",staticStyle:{"font-size":"1.2em"}},[e._v("Adicionales: ")]),e._l(t.microServices,(function(t,i){return a("div",{key:t.microService,staticStyle:{display:"inline-block",cursor:"pointer","margin-left":"4px","margin-top":"2px"},on:{click:function(a){return e.SelectMicro(s,i,t)}}},[a("badge",{staticClass:"text-default",attrs:{type:t.checked?"primary":"secondary"}},[a("p",{staticClass:"fs-5 mb-0",staticStyle:{"font-size":"1.2em","font-weight":"bold"}},[e._v(e._s(t.microService))])])],1)}))],2)]:e._e(),a("img",{attrs:{src:"img/brand/calendar.png",alt:""}})],2),a("div",{staticClass:"col-md-6 col-sm-12 mt-2",staticStyle:{padding:"0px !important","padding-top":"5px !important"}},[a("div",{staticClass:"price-service "},[e._v("$ "+e._s(e.formatPrice(t.price)))])])])])})):a("div",[a("h2",{staticClass:"text-center"},[e._v("No ha seleccionado ningún servicio.")])])],2)]),a("div",{staticClass:"showPhone col-md-12 p-0 pb-2"},[a("base-dropdown",{staticClass:"w-100 mx-auto mb-3 styleDropdown"},[a("base-button",{staticClass:"dropdown-toggle w-100",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{slot:"title",type:"default"},slot:"title"},[e._v("\n                                        "+e._s(e.CatSelected)+"\n                                    ")]),e._l(e.categories,(function(t){return a("b",{key:t.name,staticClass:"dropdown-item w-100",staticStyle:{color:"#fff"},on:{click:function(a){return e.selectCategoryPhone(t.name)}}},[e._v(" "+e._s(t.name)+" ")])}))],2),e.servicesPhoneShow?a("base-dropdown",{staticClass:"w-100 mx-auto styleDropdown"},[a("base-button",{staticClass:"dropdown-toggle w-100",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{slot:"title",type:"default"},slot:"title"},[e._v("\n                                        Servicios \n                                    ")]),e._l(e.servicesCat,(function(t){return[1==t.active?a("b",{key:t.name,staticClass:"dropdown-item w-100",staticStyle:{color:"#fff"},on:{click:function(a){return e.selectServicePhone(t._id)}}},[e._v(" "+e._s(t.name)+" ")]):e._e()]}))],2):e._e(),e.registerDate.serviceSelectds[0]?[a("h2",{staticClass:"mt-3 text-center"},[e._v("Servicios seleccionados")]),a("hr"),e._l(e.registerDate.serviceSelectds,(function(t,s){return a("div",{key:t._id+"asda"+s,staticClass:"w-100"},[a("div",{staticClass:"card-service mt-4",staticStyle:{"border-bottom":"solid 8px #174c8e"}},[a("h2",{staticClass:"name-service"},[e._v(" "+e._s(t.name))]),a("p",{staticClass:"ml-1 mb-0 w-100",staticStyle:{"margin-top":"-8px"}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"clock-circle"}}),e._v(" \n                                                "+e._s(e.fixedHours(t.duration))),a("br"),e._v("\n                                                "+e._s(t.additionalName)+"\n                                            ")],1),a("div",{staticClass:"col-12 mt-2 p-0"},[e.ifMicro?[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[e._v("Haga click en los adicionales que desea para este servicio. Se le sumara el costo al total del servicio.")])]),a("span",{staticClass:"ml-1 mt-2 mb-0 font-weight-bold",staticStyle:{"font-size":"1.2em"}},[e._v("Adicionales: ")]),a("br"),e._l(t.microServices,(function(t,i){return a("div",{key:t.microService,staticStyle:{display:"inline-block",cursor:"pointer","margin-left":"4px"},on:{click:function(a){return e.SelectMicro(s,i,t)}}},[a("badge",{staticClass:"text-default mb-1",staticStyle:{"z-index":"100"},attrs:{type:t.checked?"primary":"secondary"}},[a("p",{staticClass:"fs-5 mb-0",staticStyle:{"font-size":"1.2em","font-weight":"bold"}},[e._v(e._s(t.microService))])])],1)}))],2)]:e._e(),a("img",{staticStyle:{"z-index":"0"},attrs:{src:"img/brand/calendar.png",alt:""}})],2),a("div",{staticClass:"row p-1"},[a("div",{staticClass:"col-8 mt-4 p-1"},[a("div",{staticClass:"price-service w-100"},[e._v("$ "+e._s(e.formatPrice(t.price)))])]),a("div",{staticClass:"col-4 mt-4 p-1"},[a("div",{staticClass:"price-service w-50",staticStyle:{border:"solid 1px #174c8e",float:"right","margin-right":"5px"}},[a("a-icon",{staticStyle:{"vertical-align":"1px"},attrs:{type:"close"},on:{click:function(a){return e.lessServicePhone(s,t.price)}}})],1)])])])])}))]:e._e()],2)])]),a("tab-content",{attrs:{title:"Profesionales",icon:"fa fa-users","before-change":e.validateLastStep}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4",staticStyle:{"margin-top":"16px"}},[a("div",{staticClass:"w-75 mx-auto"},[a("badge",{staticClass:"mb-1 mx-2 w-100",staticStyle:{"font-size":".7em !important","margin-top":"14px"},attrs:{type:"secondary"}},[a("span",{staticClass:"w-100",staticStyle:{"font-family":"Arial !important",color:"#32325d","font-weight":"600"}},[e._v("Seleccione fecha")])]),a("base-input",{staticClass:"hideThisShit",staticStyle:{cursor:"pointer"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.focus,i=t.blur;return a("flat-picker",{staticClass:"form-control date-client datepicker pl-3",attrs:{config:e.configDate,placeholder:"Seleccione una fecha","aria-placeholder":"Seleccione una fecha"},on:{"on-change":e.openCalendar,"on-open":s,"on-close":i},model:{value:e.dates.simple,callback:function(t){e.$set(e.dates,"simple",t)},expression:"dates.simple"}})}}])})],1)]),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"row mb-3"},e._l(e.registerDate.serviceSelectds,(function(t,s){return a("div",{key:t.servicio,staticClass:"col-12 text-center mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"py-1",staticStyle:{"background-color":"#f8fcfd"}},[""!=t.lender?a("badge",{staticClass:"mb-1 mx-4",staticStyle:{"font-size":".7em !important"},attrs:{type:"secondary"}},[a("span",{staticStyle:{color:"#32325d","font-weight":"600","font-family":"Arial !important"}},[e._v("Seleccione profesionales")]),a("br"),a("span",{staticStyle:{color:"#32325d","font-weight":"600","font-family":"Arial !important"}},[e._v(e._s(t.name)+" ")])]):a("badge",{staticClass:"mb-1",staticStyle:{"font-size":".7em !important"},attrs:{type:"default"}},[a("span",{staticStyle:{color:"#32325d","font-weight":"600","font-family":"Arial !important"}},[e._v("Seleccione prestador y horario")])]),a("base-dropdown",{staticClass:"responsiveButtonsPercent styleDropdown"},[1==t.valid?a("base-button",{staticClass:"dropdown-toggle w-100",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{slot:"title",type:"default"},slot:"title"},[e._v("\n                                                            "+e._s(t.employe)+" \n                                                        ")]):e._e(),0==t.valid?a("base-button",{staticClass:"dropdown-toggle w-100",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{slot:"title",disabled:"",type:"default"},slot:"title"},[e._v("\n                                                            "+e._s(t.employe)+" \n                                                        ")]):e._e(),"none"==t.valid?a("base-button",{staticClass:"dropdown-toggle w-100",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{slot:"title",disabled:"",type:"default"},slot:"title"},[a("span",{staticStyle:{color:"red"}},[e._v("Horarios ocupados")])]):e._e(),e._l(t.employes,(function(i){return[i.valid&&e.verifyValidOnline(i.id)&&e.findDay(i.days,i.name)?a("b",{key:i.name,staticClass:"dropdown-item w-100",staticStyle:{color:"#fff"},on:{click:function(a){return e.insertData(s,i.name,i.days,i.class,t.duration,i.id,"check"+s,t.employes,i.img)}}},[e._v(e._s(i.name)+"  ")]):e._e()]}))],2)],1)]),a("div",{staticClass:"col-md-6 pb-2"},[a("div",{staticClass:"py-1",staticStyle:{"background-color":"#f8fcfd"}},[a("badge",{staticClass:"mb-1 mx-2 w-100",staticStyle:{"font-size":".7em !important","margin-top":"14px"},attrs:{type:"secondary"}},[a("span",{staticClass:"w-100",staticStyle:{"font-family":"Arial !important",color:"#32325d","font-weight":"600"}},[e._v("Seleccione horas")])]),1==t.valid?a("base-button",{staticClass:"responsiveButtonsPercent",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"default"},on:{click:function(t){return e.openBlocks("block"+s)}}},[""!=t.start?a("span",[e._v(e._s(t.start)+" / "+e._s(t.end)+" "),a("i",{staticClass:"fa ",staticStyle:{color:"#2dce89",float:"right","margin-top":"6px"},attrs:{id:"check"+s}})]):a("span",[e._v("Seleccione una hora "),a("i",{staticClass:"fa fa-angle-down",staticStyle:{"font-size":"16px"}})])]):e._e(),0==t.valid?a("base-button",{staticClass:"responsiveButtonsPercent",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"default",disabled:""}},[e._v("\n                                                    Seleccione una hora\n                                                    ")]):e._e(),"none"==t.valid?a("base-button",{staticClass:"responsiveButtonsPercent",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"default",disabled:""}},[a("span",{staticStyle:{color:"red"}},[e._v("Horarios ocupados")])]):e._e(),a("vue-custom-scrollbar",{staticClass:"mx-auto responsiveButtonsPercent",staticStyle:{"max-height":"25vh",overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden","background-color":"#fff"},attrs:{id:"block"+s}},[a("a-spin",{attrs:{spinning:e.load2}},e._l(t.blocks,(function(t,i){return a("div",{key:t.hour,staticClass:"col-12"},[1==t.validator?a("base-button",{staticClass:"col-12",attrs:{size:"sm",type:"success"},on:{click:function(a){return e.selectBloqMulti(t.employes,t.hour,i,s,"block"+s,"check"+s)}}},[a("badge",{staticClass:"text-default col-5 float-left",staticStyle:{"font-size":"1em !important"},attrs:{type:"white"}},[e._v(e._s(t.hour))]),a("span",[e._v("Disponible")])],1):0==t.validator?a("base-button",{staticClass:"col-12",attrs:{disabled:"",size:"sm",type:"danger"}},[a("badge",{staticClass:"text-default col-5 float-left",staticStyle:{"font-size":"1em !important"},attrs:{type:"white"}},[e._v(e._s(t.hour))]),a("span",[e._v("Ocupado")])],1):"select"==t.validator?a("base-button",{staticClass:"col-12",attrs:{size:"sm",type:"default"}},[a("badge",{staticClass:"text-default col-5 float-left",staticStyle:{"font-size":"1em !important"},attrs:{type:"white"}},[e._v(e._s(t.hour))]),a("span",[e._v("Seleccionado")])],1):a("base-button",{staticClass:"col-12",staticStyle:{cursor:"not-allowed"},attrs:{size:"sm",disabled:"",type:"secondary"}},[a("badge",{staticClass:"text-default col-5 float-left",staticStyle:{"font-size":"1em !important"},attrs:{type:"white"}},[e._v(e._s(t.hour))]),a("span",[e._v("No seleccionable")])],1)],1)})),0)],1)],1)])])])})),0)])])]),a("tab-content",{attrs:{title:"Información",icon:"fa fa-question-circle"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 col-sm-12"},[a("div",{staticClass:"row"},e._l(e.registerDate.serviceSelectds,(function(t,s){return a("div",{key:t.servicio,staticClass:"card-services-information col-lg-6"},[a("div",{staticClass:"p-3"},[a("center",[a("span",{staticClass:"mb-1 w-100",staticStyle:{color:"#000","font-weight":"500"}},[e._v("Servicio "+e._s(s+1))])]),a("base-button",{staticClass:"w-100 text-center mb-1",staticStyle:{"background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"secondary"}},[a("badge",{staticClass:"mx-auto ml-2",staticStyle:{"background-color":"#174c8e"},attrs:{type:"default"}},[a("span",{staticStyle:{color:"#fff","font-size":"1.4em","text-transform":"none"}},[e._v(e._s(t.name)+"\n                                                            \n                                                        ")])]),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[e._v("Adicionales: \n                                                                        "),t.microServiceSelect.length>0?e._l(t.microServiceSelect,(function(t){return a("span",{key:t.name},[e._v("\n                                                                                "+e._s(t.name)+"\n                                                                            ")])})):[a("span",[e._v("\n                                                                                No se seleccionó adicional\n                                                                            ")])]],2)]),a("a-icon",{staticClass:"mr-1",staticStyle:{cursor:"pointer","vertical-align":"0.1em","font-size":"1.3em"},attrs:{type:"question-circle"}})],2),a("br"),a("span",{staticClass:"mx-auto",staticStyle:{"font-size":"1.2em"}},[e._v(e._s(t.realEmploye))])],1),a("div",{staticStyle:{"background-color":"#f8fcfd"}},[a("badge",{staticClass:"w-100",staticStyle:{"margin-top":"-5px","font-weigth":"600","font-family":"Open Sans, sans-serif","line-height":".2"},attrs:{type:"secondary"}},[a("span",{staticStyle:{color:"#000","font-weight":"600","font-size":".96em","text-transform":"none"}},[e._v("Desde las")])]),a("badge",{staticClass:"w-100",staticStyle:{"margin-top":"-5px","font-weigth":"600","font-family":"Open Sans, sans-serif","line-height":".2"},attrs:{type:"secondary"}},[a("span",{staticStyle:{color:"#000","font-weight":"600","font-size":"2.8em"}},[e._v(e._s(t.start))])]),a("badge",{staticClass:"w-100",staticStyle:{"margin-top":"-5px","font-weigth":"600","font-family":"Open Sans, sans-serif","line-height":".2"},attrs:{type:"secondary"}},[a("span",{staticStyle:{color:"#000","font-weight":"600","font-size":".96em","text-transform":"none"}},[e._v("Hasta las")])]),a("badge",{staticClass:"w-100",staticStyle:{"margin-top":"-5px","font-weigth":"600","font-family":"Open Sans, sans-serif","line-height":".2"},attrs:{type:"secondary"}},[a("span",{staticStyle:{color:"#000","font-weight":"600","font-size":"2.8em"}},[e._v(e._s(t.end))])])],1)],1)])})),0)]),a("div",{staticClass:"col-md-4 col-sm-12 pt-5"},[a("center",[a("base-dropdown",{staticClass:"mt-1 responsiveButtonsPercent mx-auto styleDropdown"},[a("base-button",{staticClass:"dropdown-toggle w-100 dropdownPay",staticStyle:{"border-radius":"14px",border:"1px solid #174c8e"},attrs:{slot:"title",type:"succes"},slot:"title"},[e._v("\n                                            Selecciona un tipo de pago\n                                        ")]),a("b",{staticClass:"dropdown-item w-100",staticStyle:{color:"white"},on:{click:function(t){return e.selectPay("Presencial efectivo")}}},[e._v("Presencial efectivo")]),a("b",{staticClass:"dropdown-item w-100",staticStyle:{color:"white"},on:{click:function(t){return e.selectPay("Presencial Débito")}}},[e._v("Presencial Débito")]),a("b",{staticClass:"dropdown-item w-100",staticStyle:{color:"white"},on:{click:function(t){return e.selectPay("Presencial Crédito")}}},[e._v("Presencial Crédito")])],1),a("br"),a("base-button",{staticClass:"mt-3 responsiveButtonsPercent mx-auto",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"secondary"}},[e._v("\n                                    Fecha: "),a("strong",[e._v(e._s(e.dates.simple))])]),a("br"),a("base-button",{staticClass:"mt-3 responsiveButtonsPercent mx-auto",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"secondary"}},[e._v("\n                                        Hora de inicio: "),e.registerDate.serviceSelectds[0]?a("strong",[e._v(e._s(e.registerDate.serviceSelectds[0].start))]):e._e()]),a("br"),a("base-button",{staticClass:"mt-3 responsiveButtonsPercent mx-auto",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"secondary"}},[e._v("\n                                        Total: "),a("strong",{staticClass:"text-uppercase"},[e._v("$ "+e._s(e.formatPrice(e.totalPrice)))])])],1),a("br")],1)])])],1)],1)],1)],1),a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-Secondary row m-0 p-0"},[e._m(0),a("span",{staticClass:"navbar-text col-6 m-0",staticStyle:{float:"right !important"}},[e._v("\n            © "+e._s(e.year)+" | "),a("a",{staticClass:"font-weight-bold ml-1",attrs:{href:"http://www.syswa.com",target:"_blank"}},[e._v("SYSWA")]),e._v(" Todos los derechos reservados\n        ")])]),a("modal",{attrs:{show:e.modals.modal0},on:{"update:show":function(t){return e.$set(e.modals,"modal0",t)}},scopedSlots:e._u([{key:"header",fn:function(){return[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}})]},proxy:!0}])},[a("div",{staticClass:"text-center"},[a("i",{staticClass:"ni ni-check-bold ni-5x text-success"}),a("h2",[e._v("¡Bienvenido(a) "+e._s(e.nameClient)+"!")]),a("br"),a("h4",[e._v("Ya puedes agendar tu cita")]),a("br"),a("h5",[e._v("¡Comparte tu link de referido y recibe descuento por cada recomendación!")])]),[a("div",{staticClass:"row p-3"},[a("div",{staticClass:"col-md-6 col-12 mb-3"},[a("center",[a("base-button",{staticClass:"mx-auto",attrs:{type:"secondary"},on:{click:function(t){return e.aCopiar()}}},[e._v("Copiar link de referido")])],1)],1),a("div",{staticClass:"col-md-6 col-12"},[a("center",[a("base-button",{staticClass:"mx-auto",attrs:{type:"primary"},on:{click:function(t){e.modals.modal0=!1}}},[e._v("Continuar")])],1)],1)])]],2),a("modal",{attrs:{show:e.modals.modal2,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-sm"},on:{"update:show":function(t){return e.$set(e.modals,"modal2",t)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-4 py-lg-4"}},[[a("div",{staticClass:"text-muted text-center mb-3"},[a("h3",[e._v("Formulario de compra")])])],[a("form",{attrs:{role:"form"}},[a("div",{staticClass:"row"},["Transferencia"==e.registerUser.pay?a("label",{attrs:{for:"pay"}},[e._v("Comprobante de pago")]):e._e(),"Transferencia"==e.registerUser.pay?a("input",{ref:"file",staticClass:"form-control mb-1",attrs:{alternative:"",type:"file"},on:{change:function(t){return e.handleFileUpload()}}}):e._e(),"Transferencia"==e.registerUser.pay?a("hr",{staticStyle:{"margin-bottom":"5px !important","margin-top":"10px !important"}}):e._e(),a("div",{staticClass:"card-info"},[a("div",["Transferencia"==e.registerUser.pay?a("p",[e._v("\n                                    Al finalizar su agendamiento usted debe considerar que su hora está tomada con pago mediante "),a("b",{staticStyle:{"font-weight":"600"}},[e._v("transferencia electrónica por validar.")]),a("br"),a("br"),e._v("\n                                    Una vez validado su pago le llegará un correo donde debe confirmar su cita.\n                                ")]):e._e()])]),"Transferencia"==e.registerUser.pay?a("div",[e.validRegister?a("base-button",{staticStyle:{float:"right","margin-top":"-10px","border-radius":"14px","background-color":"#174c8e",color:"#fff",border:"none"},attrs:{type:"success"},on:{click:function(t){return e.finallyAgend()}}},[e._v("\n                                Finalizar agenda\n                            ")]):a("base-button",{staticStyle:{float:"right","margin-top":"-10px","border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"default",disabled:""}},[e._v("\n                                Finalizar agenda\n                            ")])],1):e._e()])])]],2)],1),a("a-modal",{staticClass:"modal-sm",attrs:{size:"xs",footer:null,closable:!1},on:{cancel:e.returnModal},model:{value:e.modals.modal6,callback:function(t){e.$set(e.modals,"modal6",t)},expression:"modals.modal6"}},[a("template",{slot:"footer"},[a("br"),a("br"),a("br")]),[a("div",{staticClass:"text-muted text-center"},[a("h3",[e._v("Complete para agendar")])])],[e.ifUserRegister?a("div",[a("div",[a("base-input",{attrs:{alternative:"",type:"text",placeholder:"Escriba su nombre","addon-left-icon":"fa fa-user"},on:{keyup:function(t){return e.validFields()}},model:{value:e.registerUser.firstName,callback:function(t){e.$set(e.registerUser,"firstName",t)},expression:"registerUser.firstName"}})],1),a("span",{staticStyle:{color:"red",position:"absolute",right:"35px",top:"70px","z-index":"1"}},[e._v("*")]),a("base-input",{attrs:{alternative:"",type:"text",placeholder:"Escriba su apellido","addon-left-icon":"fa fa-user"},on:{keyup:function(t){return e.validFields()}},model:{value:e.registerUser.lastName,callback:function(t){e.$set(e.registerUser,"lastName",t)},expression:"registerUser.lastName"}}),a("span",{staticStyle:{color:"red",position:"absolute",right:"35px",top:"140px","z-index":"1"}},[e._v("*")]),a("base-input",{attrs:{alternative:"",type:"email",placeholder:"Escriba su correo","addon-left-icon":"ni ni-email-83"},on:{keyup:function(t){return e.validFields()}},model:{value:e.registerUser.email,callback:function(t){e.$set(e.registerUser,"email",t)},expression:"registerUser.email"}}),a("span",{staticStyle:{color:"red",position:"absolute",right:"35px",top:"205px","z-index":"1"}},[e._v("*")]),a("div",{staticClass:"col-12 p-0"},[a("VuePhoneNumberInput",{attrs:{"default-phoner-number":e.registerUser.phone.nationalNumber,"default-country-code":e.registerUser.phone.countryCode,translations:{countrySelectorLabel:"Código de país",countrySelectorError:"Elije un país",phoneNumberLabel:"Número de teléfono",example:"Ejemplo :"}},on:{update:function(t){e.phoneData=t,e.registerUser.phone=t,e.validFields()}},model:{value:e.registerUser.phone.formatNational,callback:function(t){e.$set(e.registerUser.phone,"formatNational",t)},expression:"registerUser.phone.formatNational"}})],1),a("label",{staticClass:"w-100 mt-2",attrs:{for:"date"}},[e._v("Fecha de nacimiento ")]),a("a-date-picker",{staticClass:"w-100",attrs:{locale:e.locale,format:e.dateFormat},on:{change:e.selectBirthday}}),a("span",{staticStyle:{color:"red",position:"absolute",right:"35px",top:"270px","z-index":"1"}},[e._v("*")]),a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 col-lg-6"},[a("base-button",{staticClass:"mt-4",staticStyle:{width:"200px","border-radius":"14px",color:"white",border:"none"},attrs:{type:"primary"},on:{click:function(t){e.ifUserRegister=!1}}},[e._v("\n                                Atrás\n                            ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg-6"},[e.validRegister?a("base-button",{staticClass:"mt-4",staticStyle:{width:"200px","border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"success"},on:{click:e.registerClients}},[e._v("\n                                Registrar y continuar\n                            ")]):a("base-button",{staticClass:"mt-4",staticStyle:{width:"200px","border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"success",disabled:""}},[e._v("\n                                Registrar y continuar\n                            ")])],1)])])],1):a("div",{staticClass:"card p-3"},[a("label",{attrs:{for:"branche"}},[e._v("Correo")]),a("base-input",{attrs:{alternative:"",type:"email",placeholder:"Escriba su correo","addon-left-icon":"ni ni-email-83"},on:{keyup:function(t){return e.validVerifyFunc()}},model:{value:e.registerUser.email,callback:function(t){e.$set(e.registerUser,"email",t)},expression:"registerUser.email"}}),a("label",{attrs:{for:"branche"}},[e._v("Seleccione la sucursal")]),a("a-select",{staticClass:"input-group-alternative clearClass",staticStyle:{width:"100%"},attrs:{allowClear:"",placeholder:"Busque la sucursal",size:"large"}},[e._l(e.branches,(function(t){return[t.active?a("a-select-option",{key:t._id,attrs:{value:t.name},on:{click:function(a){return e.selectBranch(t)}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")]):e._e()]}))],2),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[e.validVerify?a("base-button",{staticClass:"mt-4 float-right",staticStyle:{width:"200px","border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"success"},on:{click:e.verifyData}},[e._v("\n                            Confirmar\n                        ")]):a("base-button",{staticClass:"mt-4 float-right",staticStyle:{width:"200px","border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"success",disabled:""}},[e._v("\n                            Confirmar\n                        ")])],1)])],1)]],2),a("a-modal",{staticClass:"modalFinal",attrs:{closable:!1},on:{cancel:e.location},model:{value:e.modals.modal4,callback:function(t){e.$set(e.modals,"modal4",t)},expression:"modals.modal4"}},[[a("div",{staticClass:"text-muted text-center"},[a("h3",[e._v("Formulario de compra")])])],[a("div",{staticClass:"card-info text-justify"},[a("hr"),a("div",[a("p",[e._v("\n                        ¡Listo! Hemos enviado la cita a tu correo electrónico con todos los detalles del agendamiento.\n                        "),a("b",{staticStyle:{"font-weight":"600"}},[e._v("Por favor verificar que todo esté correcto")]),e._v("y en caso de haber algún error o no poder asistir debes presionar el botón de Cancelar para dejar sin efecto el agendamiento.\n                        "),a("br"),a("br"),e._v("\n                        Una vez tomada la hora, el día previo a la cita te llegará un correo de confirmación y es importante que le des al botón de "),a("b",{staticStyle:{"font-weight":"600"}},[e._v("Confirmar")]),e._v(" la hora tomada, de lo contrario entenderemos que no asistirás. "),a("br"),a("br"),e._v("\n                        Si dicho correo electrónico de agendamiento no llega, recuerda revisar la caja de spam o correo no deseado. En caso de no encontrar la información por favor ponte en contacto con nosotros a través de nuestras redes de atención o al WhatsApp y verificaremos de inmediato.\n                        \n                    ")]),a("hr",{staticClass:"mt-2 mb-2"}),a("p",{staticClass:"text-center"},[e._v("+56 9 7262 8949")])])])],a("template",{slot:"footer"},[a("base-button",{staticStyle:{width:"200px","border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"success"},on:{click:e.location}},[e._v("\n                Finalizar\n            ")])],1)],2),a("a-modal",{attrs:{width:e.widthTable,footer:!1},model:{value:e.modals.modal7,callback:function(t){e.$set(e.modals,"modal7",t)},expression:"modals.modal7"}},[[a("div",{staticClass:"text-muted text-center"},[a("h3",[e._v("Información de citas por asistir")])])],[a("div",[a("vue-custom-scrollbar",{staticClass:"maxHeightDatesClient"},[a("a-config-provider",{attrs:{locale:e.es_ES},scopedSlots:e._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[e._v("No posee citas por asistir")])],1)]},proxy:!0}])},[a("a-table",{attrs:{scroll:e.getScreen,columns:e.datesClientColumn,"data-source":e.datesClient},scopedSlots:e._u([{key:"date-format",fn:function(t,a){return[e._v("\n                                "+e._s(e._f("formatDate")(a.createdAt))+"\n                            ")]}},{key:"serviceName",fn:function(t,s){return[a("span",[e._v(e._s(s.services[0].name))])]}},{key:"date-format-init",fn:function(t,a){return[e._v("\n                                "+e._s(a.start.split(" ")[1])+"\n                            ")]}},{key:"date-format-end",fn:function(t,a){return[e._v("\n                                "+e._s(a.end.split(" ")[1])+"\n                            ")]}}])})],1)],1)],1)]],2),a("a-modal",{attrs:{width:"95%",footer:!1},model:{value:e.modals.modal8,callback:function(t){e.$set(e.modals,"modal8",t)},expression:"modals.modal8"}},[[a("div",{staticClass:"text-muted text-center"},[a("h3",[e._v("Regala una Gift Card")])])],[a("div",[a("form-wizard",{ref:"wizardG",attrs:{color:"#174c8e","back-button-text":"Atrás","next-button-text":"Siguiente","finish-button-text":"¡Finalizar!"},on:{"on-complete":e.finalFunctionG}},[e.validWizard?a("h2",{attrs:{slot:"title"},slot:"title"},[e._v("Datos de la Gift Card ")]):a("h2",{staticClass:"text-danger",attrs:{slot:"title"},slot:"title"},[e._v("¡Debe completar los datos!")]),a("tab-content",{staticClass:"mt-4",attrs:{title:"Servicios",icon:"fa fa-layer-group","before-change":e.validateFirstStepG}},[e.desactive?a("div",[a("center",[a("h1",{staticClass:"text-center w-50 mt-4"},[e._v("\n                                    Por motivos de fuerza mayor, no estamos atendiendo en nuestro loca. Una vez se levante la cuarentena retomaremos los agendamientos.\n                                ")])])],1):a("div",{staticClass:"row"},[a("div",{staticClass:"showDevice col-md-12 row"},[a("div",{staticClass:"col-12 ml-3",staticStyle:{width:"auto"}},[a("ul",{staticClass:"nav nav-pills mb-3",attrs:{id:"pills-tab",role:"tablist"}},e._l(e.categories,(function(t,s){return a("li",{key:t.name,staticClass:"nav-item responsiveItem",attrs:{role:"presentation"}},[a("button",{staticClass:"categoryButton text-uppercase responsiveItem",attrs:{id:"catG"+s,"data-toggle":"pill",href:"#v-pillsG-"+t._id,role:"tab","aria-controls":"v-pills-home","aria-selected":"true"},on:{click:function(t){return e.selectCatG("catG"+s)}}},[e._v(e._s(t.name))])])})),0)]),a("div",{staticClass:"separateService col-md-8"},[a("div",{staticClass:"tab-content",attrs:{id:"pills-tabContent"}},e._l(e.categories,(function(t){return a("div",{key:t.name,staticClass:"tab-pane fade ",attrs:{id:"v-pillsG-"+t._id,role:"tabpanel","aria-labelledby":"v-pills-home-tab"}},[a("div",{staticClass:"row mt-2 ml-3"},[e._l(e.services,(function(s,i){return[s.category==t.name&&1==s.active?a("div",{key:s.name,staticClass:"col-md-4 px-2"},[a("div",{staticClass:"card-service row mt-2",attrs:{id:"GcardS"+i}},[a("h3",{staticClass:"name-service w-100"},[e._v(" "+e._s(s.name))]),a("div",{staticClass:"col-12 pl-0"},[a("img",{attrs:{src:"img/brand/calendar.png",alt:""}})]),a("p",{staticClass:"ml-1 mb-0 w-100",staticStyle:{"margin-top":"-15px"}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"clock-circle"}}),e._v(" "+e._s(e.fixedHours(s.duration))+"\n                                                            ")],1),a("p",{staticClass:"ml-1 w-100"},[e._v(e._s(s.additionalName))]),a("div",{staticClass:"col-md-6 col-sm-12 mt-1",staticStyle:{padding:"0px !important","padding-top":"5px !important"}},[a("div",{staticClass:"price-service "},[e._v("$ "+e._s(e.formatPrice(s.price)))])]),a("div",{staticClass:"col-md-6 col-sm-12 mt-1",staticStyle:{padding:"0px !important","margin-top":"-5px"}},[a("div",{staticClass:"button-service-group"},[a("button",{staticClass:"button-service-left",on:{click:function(t){return e.lessServiceGift(i,s.name,s.duration,"cardS"+i,s.price,e.serviceCountG[i].count)}}},[a("i",{staticClass:"fa fa-minus"})]),a("span",{staticClass:"span-button-service"},[e._v(e._s(e.serviceCountG[i].count))]),a("button",{staticClass:"button-service-right",on:{click:function(t){return e.plusServiceGift(i,s.name,s._id,s.duration,s.commission,s.price,s.employes,!0,"cardS"+i,s.discount)}}},[a("i",{staticClass:"fa fa-plus"})])])])])]):e._e()]}))],2)])})),0)]),a("div",{staticClass:"col-md-4"},[a("h2",{staticStyle:{"margin-top":"-50px"}},[e._v("Servicios seleccionados")]),e.registerDateGift.serviceSelectds[0]?e._l(e.registerDateGift.serviceSelectds,(function(t,s){return a("div",{key:t._id+"asda"+s,staticClass:"w-100 px-4"},[a("div",{staticClass:"card-service row mt-4",staticStyle:{"border-bottom":"solid 8px #174c8e"}},[a("h3",{staticClass:"name-service"},[e._v(" "+e._s(t.name))]),a("div",{staticClass:"col-12 pl-0"},[a("img",{attrs:{src:"img/brand/calendar.png",alt:""}})]),a("div",{staticClass:"col-md-6 col-sm-12 mt-2",staticStyle:{padding:"0px !important","padding-top":"5px !important"}},[a("div",{staticClass:"price-service "},[e._v("$ "+e._s(e.formatPrice(t.price)))])])])])})):a("div",[a("h2",{staticClass:"text-center"},[e._v("No ha seleccionado ningún servicio.")])])],2)]),a("div",{staticClass:"showPhone col-md-12 p-0 pb-2"},[a("base-dropdown",{staticClass:"w-100 mx-auto mb-3 styleDropdown"},[a("base-button",{staticClass:"dropdown-toggle w-100",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{slot:"title",type:"default"},slot:"title"},[e._v("\n                                        "+e._s(e.CatSelected)+"\n                                    ")]),e._l(e.categories,(function(t){return a("b",{key:t.name,staticClass:"dropdown-item w-100",staticStyle:{color:"#fff"},on:{click:function(a){return e.selectCategoryPhoneG(t.name)}}},[e._v(" "+e._s(t.name)+" ")])}))],2),e.servicesPhoneShow?a("base-dropdown",{staticClass:"w-100 mx-auto styleDropdown"},[a("base-button",{staticClass:"dropdown-toggle w-100",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{slot:"title",type:"default"},slot:"title"},[e._v("\n                                        Servicios \n                                    ")]),e._l(e.servicesCat,(function(t){return[1==t.active?a("b",{key:t.name,staticClass:"dropdown-item w-100",staticStyle:{color:"#fff"},on:{click:function(a){return e.selectServicePhoneG(t._id)}}},[e._v(" "+e._s(t.name)+" ")]):e._e()]}))],2):e._e(),e.registerDateGift.serviceSelectds[0]?[a("h2",{staticClass:"mt-3 text-center"},[e._v("Servicios seleccionados")]),a("hr"),e._l(e.registerDateGift.serviceSelectds,(function(t,s){return a("div",{key:t._id+"asda"+s,staticClass:"w-100"},[a("div",{staticClass:"card-service mt-4",staticStyle:{"border-bottom":"solid 8px #174c8e"}},[a("h2",{staticClass:"name-service"},[e._v(" "+e._s(t.name))]),a("p",{staticClass:"ml-1 mb-0 w-100",staticStyle:{"margin-top":"-8px"}},[a("a-icon",{staticStyle:{"vertical-align":"1.5px"},attrs:{type:"clock-circle"}}),e._v(" \n                                                "+e._s(e.fixedHours(t.duration))),a("br"),e._v("\n                                                "+e._s(t.additionalName)+"\n                                            ")],1),a("div",{staticClass:"row p-1"},[a("div",{staticClass:"col-8 mt-4 p-1"},[a("div",{staticClass:"price-service w-100"},[e._v("$ "+e._s(e.formatPrice(t.price)))])]),a("div",{staticClass:"col-4 mt-4 p-1"},[a("div",{staticClass:"price-service w-50",staticStyle:{border:"solid 1px #174c8e",float:"right","margin-right":"5px"}},[a("a-icon",{staticStyle:{"vertical-align":"1px"},attrs:{type:"close"},on:{click:function(a){return e.lessServicePhoneG(s,t.price)}}})],1)])])])])}))]:e._e()],2)])]),a("tab-content",{attrs:{title:"Información",icon:"fa fa-question-circle"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 col-sm-12"},[a("div",{staticClass:"row"},e._l(e.registerDateGift.serviceSelectds,(function(t,s){return a("div",{key:t.servicio,staticClass:"card-services-information col-lg-6"},[a("div",{staticClass:"p-3"},[a("center",[a("span",{staticClass:"mb-1 w-100",staticStyle:{color:"#000","font-weight":"500"}},[e._v("Servicio "+e._s(s+1))])]),a("base-button",{staticClass:"w-100 text-center mb-1",staticStyle:{"background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"secondary"}},[a("badge",{staticClass:"mx-auto ml-2",staticStyle:{"background-color":"#174c8e"},attrs:{type:"default"}},[a("span",{staticStyle:{color:"#fff","font-size":"1.4em","text-transform":"none"}},[e._v(e._s(t.name)+"\n                                                            \n                                                        ")])]),a("br")],1)],1)])})),0)]),a("div",{staticClass:"col-md-4 col-sm-12 pt-5"},[a("center",[a("base-dropdown",{staticClass:"mt-1 responsiveButtonsPercent mx-auto styleDropdown"},[a("base-button",{staticClass:"dropdown-toggle w-100 dropdownPay",staticStyle:{"border-radius":"14px",border:"1px solid #174c8e"},attrs:{slot:"title",type:"succes"},slot:"title"},[e._v("\n                                            Selecciona un tipo de pago\n                                        ")]),a("b",{staticClass:"dropdown-item w-100",staticStyle:{color:"white"},on:{click:function(t){return e.selectPayG("Presencial efectivo")}}},[e._v("Presencial efectivo")]),a("b",{staticClass:"dropdown-item w-100",staticStyle:{color:"white"},on:{click:function(t){return e.selectPayG("Presencial Débito")}}},[e._v("Presencial Débito")]),a("b",{staticClass:"dropdown-item w-100",staticStyle:{color:"white"},on:{click:function(t){return e.selectPayG("Presencial Crédito")}}},[e._v("Presencial Crédito")])],1),a("br"),a("base-button",{staticClass:"mt-3 responsiveButtonsPercent mx-auto",staticStyle:{"border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"secondary"}},[e._v("\n                                        Total: "),a("strong",{staticClass:"text-uppercase"},[e._v("$ "+e._s(e.formatPrice(e.totalPriceG)))])])],1),a("br")],1)])])],1)],1)]],2),a("modal",{attrs:{show:e.modals.modal5,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-lg"},on:{"update:show":function(t){return e.$set(e.modals,"modal5",t)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-4 py-lg-4"}},[[a("div",{staticClass:"text-muted text-center mb-3"},[a("h3",[e._v("Formulario de compra")])])],[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-7 borderRight"},[a("div",{staticClass:"card-info-data text-justify"},[a("div",[a("p",{staticStyle:{"font-size":"0.9em"}},[a("b",{staticStyle:{"font-weight":"600"}},[e._v("Los datos de transferencia son:")]),a("br"),a("br"),a("b",{staticStyle:{"font-weight":"600"}},[e._v("Nombre:")]),e._v(" Katriel Capacho"),a("br"),a("b",{staticStyle:{"font-weight":"600"}},[e._v("Banco:")]),e._v(" Banco estado"),a("br"),a("b",{staticStyle:{"font-weight":"600"}},[e._v("Cuenta rut:")]),e._v(" 262530322"),a("br"),a("b",{staticStyle:{"font-weight":"600"}},[e._v("Rut:")]),e._v(" 26253022-1"),a("br"),a("b",{staticStyle:{"font-weight":"600"}},[e._v("Correo: ")]),e._v("kkprettynails@gmail.com\n                                ")]),a("br"),a("h3",{staticClass:"text-center"},[e._v("El monto a trasferir es:")]),a("h2",{staticClass:"text-center font-weight-bold"},[e._v("$ "+e._s(this.formatPrice(e.totalPrice)))])])])]),a("div",{staticClass:"col-md-5 pt-3"},[a("div",{staticClass:"card-info text-center"},[a("div",[a("p",{staticStyle:{"font-size":"0.9em","line-height":"1.4em"}},[a("b",{staticStyle:{"font-weight":"600"}},[e._v("Importante.")]),a("br"),a("br"),e._v("\n                                    Al realizar el pago mediante transferencia electrónica deberás adjuntar este comprobante en el formulario de pago que se mostrará a continuación. \n                                ")])])]),a("base-button",{staticClass:"w-100",staticStyle:{"margin-top":"55px","border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"success"},on:{click:function(t){e.modals.modal5=!1,e.modals.modal2=!0}}},[e._v("\n                            Continuar\n                        ")])],1)])]],2)],1),a("modal",{attrs:{show:e.modals.modal9,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-lg"},on:{"update:show":function(t){return e.$set(e.modals,"modal9",t)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-4 py-lg-4"}},[[a("div",{staticClass:"text-muted text-center mb-3"},[a("h3",[e._v("Formulario de compra")])])],[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-7 borderRight"},[a("div",{staticClass:"card-info-data text-justify"},[a("div",[a("p",{staticStyle:{"font-size":"0.9em"}},[a("b",{staticStyle:{"font-weight":"600"}},[e._v("Los datos de transferencia son:")]),a("br"),a("br"),a("b",{staticStyle:{"font-weight":"600"}},[e._v("Nombre:")]),e._v(" Katriel Capacho"),a("br"),a("b",{staticStyle:{"font-weight":"600"}},[e._v("Banco:")]),e._v(" Banco estado"),a("br"),a("b",{staticStyle:{"font-weight":"600"}},[e._v("Cuenta rut:")]),e._v(" 262530322"),a("br"),a("b",{staticStyle:{"font-weight":"600"}},[e._v("Rut:")]),e._v(" 26253022-1"),a("br"),a("b",{staticStyle:{"font-weight":"600"}},[e._v("Correo: ")]),e._v("kkprettynails@gmail.com\n                                ")]),a("br"),a("h3",{staticClass:"text-center"},[e._v("El monto a trasferir es:")]),a("h2",{staticClass:"text-center font-weight-bold"},[e._v("$ "+e._s(this.formatPrice(e.totalPriceG)))])])])]),a("div",{staticClass:"col-md-5 pt-3"},[a("div",{staticClass:"card-info text-center"},[a("div",[a("p",{staticStyle:{"font-size":"0.9em","line-height":"1.4em"}},[a("b",{staticStyle:{"font-weight":"600"}},[e._v("Importante.")]),a("br"),a("br"),e._v("\n                                    Al realizar el pago mediante transferencia electrónica deberás adjuntar este comprobante en el formulario de pago que se mostrará a continuación. \n                                ")])])]),a("base-button",{staticClass:"w-100",staticStyle:{"margin-top":"55px","border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"success"},on:{click:function(t){e.modals.modal5=!1,e.modals.modal10=!0}}},[e._v("\n                            Continuar\n                        ")])],1)])]],2)],1),a("modal",{attrs:{show:e.modals.modal10,"body-classes":"p-0","modal-classes":"modal-dialog-centered modal-sm"},on:{"update:show":function(t){return e.$set(e.modals,"modal10",t)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"}),a("card",{staticClass:"border-0",attrs:{type:"secondary",shadow:"","header-classes":"bg-white pb-5","body-classes":"px-lg-4 py-lg-4"}},[[a("div",{staticClass:"text-muted text-center mb-3"},[a("h3",[e._v("Formulario de compra")])])],[a("form",{attrs:{role:"form"}},[a("div",{staticClass:"row"},["Transferencia"==e.registerUser.payG?a("label",{attrs:{for:"pay"}},[e._v("Comprobante de pago")]):e._e(),"Transferencia"==e.registerUser.payG?a("input",{ref:"fileG",staticClass:"form-control mb-1",attrs:{alternative:"",type:"file"},on:{change:function(t){return e.handleFileUploadG()}}}):e._e(),"Transferencia"==e.registerUser.payG?a("hr",{staticStyle:{"margin-bottom":"5px !important","margin-top":"10px !important"}}):e._e(),a("div",{staticClass:"card-info"},[a("div",["Transferencia"==e.registerUser.payG?a("p",[e._v("\n                                    Al finalizar su agendamiento usted debe considerar que su hora está tomada con pago mediante "),a("b",{staticStyle:{"font-weight":"600"}},[e._v("transferencia electrónica por validar.")]),a("br"),a("br"),e._v("\n                                    Una vez validado su pago le llegará un correo donde debe confirmar su cita.\n                                ")]):e._e()])]),"Transferencia"==e.registerUser.payG?a("div",[e.validRegisterG?a("base-button",{staticStyle:{float:"right","margin-top":"-10px","border-radius":"14px","background-color":"#174c8e",color:"#fff",border:"none"},attrs:{type:"success"},on:{click:function(t){return e.finallyAgendG()}}},[e._v("\n                                Finalizar agenda\n                            ")]):a("base-button",{staticStyle:{float:"right","margin-top":"-10px","border-radius":"14px","background-color":"#d5dadd",color:"#1c2021",border:"none"},attrs:{type:"default",disabled:""}},[e._v("\n                                Finalizar agenda\n                            ")])],1):e._e()])])]],2)],1),a("modal",{attrs:{show:e.modals.modal3,gradient:e.modals.type,"modal-classes":"modal-danger modal-dialog-centered"},on:{"update:show":function(t){return e.$set(e.modals,"modal3",t)}}},[a("div",{staticClass:"py-3 text-center"},[a("i",{class:e.modals.icon}),a("h1",{staticClass:"heading mt-5"},[e._v(e._s(e.modals.message))])])])],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-auto col-6 m-0",attrs:{id:"navbarTogglerDemo01"}},[a("a",{attrs:{href:"http://syswa.net"}},[a("img",{staticClass:"logoSyswaFooter",attrs:{src:"img/brand/syswa-gestion.png",alt:""}})])])}],r=a("75fc"),n=(a("28a5"),a("a481"),a("6b54"),a("ac4d"),a("8a81"),a("96cf"),a("3b8d")),o=(a("ac6a"),a("7f7f"),a("bd86")),c=a("bc3a"),l=a.n(c),d=a("41cb"),u=a("a5e9"),p=a.n(u),m=(a("04e1"),a("8055")),h=a.n(m),f=a("4eb5"),v=a.n(f),g=a("c38f"),b=a.n(g),y=a("4984"),S=a("e8b9"),C=a("4b70"),_=a.n(C),w=a("7bec"),x=a.n(w),k=(a("4413"),a("feb7")),D=a.n(k),P=(new Date,{components:{flatPicker:b.a,vueCustomScrollbar:_.a,VuePhoneNumberInput:x.a,VueClipboard:v.a},data:function(){var e;return e={socket:h()(p.a.endpointTarget),desactive:!1,ifUserRegister:!1,branch:"",branches:[],locale:S["a"],es_ES:D.a,branchName:"",dateFormat:"DD/MM/YYYY",day:0,configDate:{inline:!0,allowInput:!1,dateFormat:"d-m-Y",locale:y["Spanish"],minDate:new Date,disable:[]},validPay:!1,progress:!1,spinningDate:!1,dates:{simple:""},servicesCat:[],serviceSelected:[],serviceSelectedG:[],servicesPhoneShow:!1,CatSelected:"Categorias",finalDate:"",datesClientColumn:[{title:"Fecha",dataIndex:"createdAt",key:"createdAt",scopedSlots:{customRender:"date-format"},defaultSortOrder:"descend",sorter:function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()},ellipsis:!0},{title:"Inicio",dataIndex:"start",key:"start",scopedSlots:{customRender:"date-format-init"}},{title:"Fin",dataIndex:"end",key:"end",scopedSlots:{customRender:"date-format-end"}},{title:"Profesional",dataIndex:"employe.name",key:"employe.name"},{title:"Servicio",dataIndex:"services",key:"services",scopedSlots:{customRender:"serviceName"},width:"40%"}],load2:!1,phoneData:null,registerUser:{name:"",firstName:"",email:"",lastName:"",phone:{countryCode:"CL",isValid:!1,phoneNumber:"",countryCallingCode:"",formattedNumber:"",nationalNumber:"",formatInternational:"",formatNational:"",uri:"",e164:""},pay:"Presencial efectivo",payG:"",pdf:"danger",birthday:""},radioDomingos:{radio1:"rad1",radio2:"rad2"},totalPrice:0,totalPriceG:0,validWizard:!0,year:(new Date).getFullYear(),modals:{modal0:!1,modal1:!1,modal2:!1,modal3:!1,modal4:!1,modal5:!1,modal6:!0,modal7:!1,modal8:!1,modal9:!1,modal10:!1,message:"Disculpa, las citas todavia no están habilitadas",icon:"ni ni-fat-remove ni-5x",type:""},arrayLendersSelect:[],checkboxes:{Wantlender:!1},blockHour:[],readyChange:!1,registerDate:{employeSelect:"",date:"",duration:0,restTime:"",class:"",employeResTime:"",serviceSelectds:[],design:"nada",start:"",sort:"",end:""},registerDateGift:{employeSelect:"",date:"",duration:0,restTime:"",class:"",employeResTime:"",serviceSelectds:[],design:"nada",start:"",sort:"",end:""},getDay:0,logoBranch:"https://syswa-gestion.s3.sa-east-1.amazonaws.com/predeterminado.png",lenders:[],services:[],serviceCount:[],serviceCountG:[],servicePhoneCount:[],servicePhoneCountG:[],posibleLenders:[],ifLender:!1,ifServices:!1,ifServicesG:!1,validSchedule:!1,validHour:!1,readyAddDesign:!0},Object(o["a"])(e,"blockHour",[]),Object(o["a"])(e,"finalyLenders",[]),Object(o["a"])(e,"categories",[]),Object(o["a"])(e,"active",{"background-color":"#0b1526"}),Object(o["a"])(e,"linkForCopy",""),Object(o["a"])(e,"showLenderSection",!1),Object(o["a"])(e,"noOneLender",!1),Object(o["a"])(e,"selectServiceForHour",{}),Object(o["a"])(e,"validRegister",!1),Object(o["a"])(e,"client",""),Object(o["a"])(e,"file",""),Object(o["a"])(e,"ifDisabled",!1),Object(o["a"])(e,"availableslenders",[]),Object(o["a"])(e,"configHeader",{headers:{"x-database-connect":p.a.database}}),Object(o["a"])(e,"ref",""),Object(o["a"])(e,"blockForDays",[]),Object(o["a"])(e,"microServices",[]),Object(o["a"])(e,"selectedMicro",[]),Object(o["a"])(e,"safe",[]),Object(o["a"])(e,"ifMicro",!1),Object(o["a"])(e,"itFirst",!0),Object(o["a"])(e,"validVerify",!1),Object(o["a"])(e,"configurationsBranch",new Object),Object(o["a"])(e,"inBlackList",!1),Object(o["a"])(e,"blockToBlackList",[]),Object(o["a"])(e,"idForRefer",""),Object(o["a"])(e,"nameClient",""),Object(o["a"])(e,"datesClient",[]),e},created:function(){this.getBranches(),this.device()},methods:{handleFileUpload:function(){this.file=this.$refs.file.files[0],this.validRegister=!0},handleFileUploadG:function(){this.fileG=this.$refs.fileG.files[0],this.validRegisterG=!0},selectBranch:function(e){var t=this;e&&(this.branch=e._id,this.branchName=e.name,l.a.get("".concat(p.a.endpointTarget,"/configurations/").concat(this.branch),this.configHeader).then((function(e){if("ok"==e.data.status){t.configurationsBranch=e.data.data,""!=t.configurationsBranch.bussinessLogo&&(t.logoBranch=t.configurationsBranch.bussinessLogo),t.configurationsBranch.blockedDays&&(t.blockForDays=t.configurationsBranch.blockedDays),t.configurationsBranch.datesPolitics.onlineDates.active?(t.validVerifyFunc(),t.configDate.maxDate=(new Date).setMonth((new Date).getMonth()+t.configurationsBranch.datesPolitics.limitTimeDate)):($(".clearClass .ant-select-selection__clear").click(),t.$swal.fire({icon:"error",html:"<h2>La sucursal <strong>".concat(t.branchName,"</strong> no se encuentra habilitada en este momento</h2> <br> <p>En caso de dudas, consulte al <strong>").concat(e.data.data.businessPhone.formatInternational,"</strong> </p>")}));var a=t.configurationsBranch.blockHour,s=t.configurationsBranch.datesPolitics.onlineDates,i={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"};t.configDate.disable.push((function(e){return 1!=a[e.getDay()].status||1!=s[i[e.getDay()]]})),t.blockForDays.forEach((function(e){t.configDate.disable.push(e.date)}))}})).catch((function(e){e.response||t.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})))},getDatesClient:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get(p.a.endpointTarget+"/clients/getDatesClient/"+this.registerUser.id,this.configHeader);case 3:t=e.sent,console.log(t.data),"ok"==t.data.status?(this.datesClient=t.data.data,this.modals.modal7=!0):this.modals.modal7=!0,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),e.t0.response||this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),selectBirthday:function(e,t){this.registerUser.birthday=e._d,this.validFields()},SelectMicro:function(e,t,a){var s=this;"Ninguno"==this.registerDate.serviceSelectds[e].microServices[t].microService?(this.registerDate.serviceSelectds[e].microServices.forEach((function(t){t.checked&&"Ninguno"!=t.microService&&(t.checked=!1,s.registerDate.serviceSelectds[e].duration=parseFloat(s.registerDate.serviceSelectds[e].duration)-parseFloat(t.duration))})),this.registerDate.serviceSelectds[e].microServices[0].checked=!0):this.registerDate.serviceSelectds[e].microServices[t].checked?(this.registerDate.serviceSelectds[e].microServices[t].checked=!1,this.registerDate.serviceSelectds[e].duration=parseFloat(this.registerDate.serviceSelectds[e].duration)-parseFloat(a.duration)):(this.registerDate.serviceSelectds[e].microServices[0].checked=!1,this.registerDate.serviceSelectds[e].microServices[t].checked=!0,this.registerDate.serviceSelectds[e].duration=parseFloat(this.registerDate.serviceSelectds[e].duration)+parseFloat(a.duration))},aCopiar:function(){this.$clipboard(this.linkForCopy),this.$swal({icon:"success",title:"¡Copiado!",showConfirmButton:!1,timer:2e3})},getMicroServices:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s,i,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get(p.a.endpointTarget+"/configurations/getMicroservice/"+this.branch,this.configHeader);case 3:if(t=e.sent,"ok"!=t.data.status){e.next=28;break}for(this.microServices=t.data.data,a=!0,s=!1,i=void 0,e.prev=9,r=this.microServices[Symbol.iterator]();!(a=(n=r.next()).done);a=!0)o=n.value,o.checked=!1;e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](9),s=!0,i=e.t0;case 17:e.prev=17,e.prev=18,a||null==r.return||r.return();case 20:if(e.prev=20,!s){e.next=23;break}throw i;case 23:return e.finish(20);case 24:return e.finish(17);case 25:this.ifMicro=!0,e.next=29;break;case 28:this.ifMicro=!1;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e["catch"](0),e.t1.response||this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 34:case"end":return e.stop()}}),e,this,[[0,31],[9,13,17,25],[18,,20,24]])})));function t(){return e.apply(this,arguments)}return t}(),verifyData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get(p.a.endpointTarget+"/clients/findOneWithoutToken/"+this.registerUser.mail,this.configHeader);case 3:if(t=e.sent,"ok"!=t.data.status){e.next=25;break}return this.registerUser={firstName:t.data.data.firstName,email:t.data.data.email,lastName:t.data.data.lastName,id:t.data.data._id,name:t.data.data.firstName+" "+t.data.data.lastName,phone:t.data.data.phone.formatInternational,pay:"Presencial efectivo",pdf:"danger"},this.idForRefer=t.data.data._id,e.prev=7,e.next=10,l.a.post(p.a.endpointTarget+"/clients/verifyBlackList",{clientId:t.data.data._id,branch:this.branch},this.configHeader);case 10:a=e.sent,"in black list"==a.data.status&&(this.inBlackList=!0,this.blockToBlackList=a.data.data),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](7),e.t0.response||this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 17:this.getServices(),this.getCategories(),this.getEmployes(),this.getMicroServices(),this.configurationsBranch.notificationDiscount?(this.linkForCopy=this.configurationsBranch.bussinessRoute+"/agendamientocliente?ref="+this.idForRefer,this.modals.modal0=!0,this.nameClient=t.data.data.firstName):this.$swal({icon:"success",title:"¡Bienvenido ".concat(t.data.data.firstName,"!"),text:"Ya puedes agendar tu cita",showConfirmButton:!0}),this.modals.modal6=!1,e.next=26;break;case 25:this.$swal({title:"El correo ".concat(this.registerUser.mail," no se encuetra registrado."),text:"Si ya ha frecuentado este local verifique su correo, sino presione continuar para registrarse.",type:"warning",icon:"warning",showCancelButton:!0,confirmButtonText:"Continuar",cancelButtonText:"Verificar correo",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(e){e.value&&(s.ifUserRegister=!0)}));case 26:e.next=31;break;case 28:e.prev=28,e.t1=e["catch"](0),e.t1.response||this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 31:case"end":return e.stop()}}),e,this,[[0,28],[7,14]])})));function t(){return e.apply(this,arguments)}return t}(),returnModal:function(){var e=this;this.$swal({type:"error",icon:"info",title:"Debe identificarse",text:"Debe colocar un correo electrónico valido (en caso de no estar registrado, debe registrarse) y seleccionar una sucursal de preferencia",showConfirmButton:!0}),setTimeout((function(){e.modals.modal6=!0}),1550)},getBranches:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s,i,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$route.query.ref&&(this.ref=this.$route.query.ref),e.prev=1,e.next=4,l.a.get(p.a.endpointTarget+"/branches",this.configHeader);case 4:if(t=e.sent,"ok"!=t.data.status){e.next=18;break}return a=t.data.data,e.prev=7,e.next=10,l.a.get(p.a.endpointTarget+"/configurations",this.configHeader);case 10:for(i in s=e.sent,s.data.data)for(n in r=s.data.data[i],a)o=a[n],r.branch==o._id&&0==r.datesPolitics.onlineDates.active&&a.splice(n,1);e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](7),console.log(e.t0);case 17:this.branches=a;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e["catch"](1),e.t1.response||this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 23:case"end":return e.stop()}}),e,this,[[1,20],[7,14]])})));function t(){return e.apply(this,arguments)}return t}(),location:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.$swal({icon:"success",title:"¡Cita creada con éxito!",showConfirmButton:!1,timer:3e3}),setTimeout((function(){""==p.a.siteRedirect?location.reload():window.location=p.a.siteRedirect}),3e3)})),finalFunction:function(){this.validPay?"Transferencia"==this.registerUser.pay?this.modals.modal5=!0:this.finallyAgend():($(".dropdownPay").css({color:"red"}),this.$swal({icon:"error",title:"Por favor, Seleccione el tipo de pago",showConfirmButton:!1,timer:3e3}))},finalFunctionG:function(){this.validPayG?"Transferencia"==this.registerUser.payG?this.modals.modal9=!0:this.finallyAgendG():($(".dropdownPay").css({color:"red"}),this.$swal({icon:"error",title:"Por favor, Seleccione el tipo de pago",showConfirmButton:!1,timer:3e3}))},formatPrice:function(e){var t=e/1;return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},soWhat:function(e){$("#pills-service").hide(),$("#pills-date").hide(),$("#pills-lender").hide(),$("#pills-hour").hide(),$("#pills-"+e).show(2e3)},formatPhone:function(){var e=this.registerUser.phone.replace(/[^\d]/g,"");9==e.length?e=e.replace(/(\d{1})(\d{4})/,"$1-$2-"):10==e.length&&(e=e.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3")),this.registerUser.phone=e},validVerifyFunc:function(){var e=this.registerUser.email.split("@"),t="";this.registerUser.mail=this.registerUser.email.toLowerCase(),2==e.length&&(t=e[1].split(".")),""!=this.registerUser.email&&""!=this.branch&&2==e.length&&t.length>=2?this.validVerify=!0:this.validVerify=!1},validFields:function(){1==this.registerUser.firstName.length&&(this.registerUser.firstName=this.registerUser.firstName.toUpperCase()),1==this.registerUser.lastName.length&&(this.registerUser.lastName=this.registerUser.lastName.toUpperCase());var e=this.registerUser.email.split("@"),t="";this.registerUser.mail=this.registerUser.email.toLowerCase(),2==e.length&&(t=e[1].split(".")),""!=this.registerUser.email&&""!=this.registerUser.firstName&&""!=this.registerUser.lastName&&this.registerUser.phone.isValid&&""!=this.registerUser.birthday&&2==e.length&&t.length>=2?this.validRegister=!0:this.validRegister=!1},dateSplit2:function(e){var t=e.split("-");return t[1]+"-"+t[0]+"-"+t[2]},sendConfirmation:function(e,t,a,s,i,r,n,o){var c=this,d=t,u=this.finalDate;u=this.dateSplit2(u),l.a.post(p.a.endpointTarget+"/mails/dateMail",{name:d,branch:this.branchName,branchId:this.branch,data:o,id:e,date:u,email:a,servicesFinal:o.serviceSelectds,valid:!0},this.configHeader).then((function(e){})).catch((function(e){e.response||c.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},finallyAgend:function(){var e=this;this.ifDisabled=!0,this.spinningDate=!0;for(var t="",a="",s=0;s<this.registerDate.serviceSelectds.length;s++){var i=this.registerDate.serviceSelectds[s];s>0?(t=t+" - "+i.realEmploye,a=a+" - "+i.start+"Hrs"):(t=i.realEmploye,a=i.start+"Hrs")}l.a.post(p.a.endpointTarget+"/dates/verifyDate",{dataDate:this.registerDate,date:this.finalDate,branch:this.branch},this.configHeader).then((function(s){if(1==s.data.status){e.spinningDate=!1,e.$swal({icon:"error",title:"¡Disculpe! el horario fue tomado recientemente, vuelva a agendar su cita.",showConfirmButton:!1,timer:3e3}),e.$refs.wizard.prevTab();for(var i=0;i<e.registerDate.serviceSelectds.length;i++){var r=e.registerDate.serviceSelectds[i];r.start="",r.end="",r.sort="",r.class="",r.blocks=[],r.blocksFirst=[],r.valid=!1,r.employe="Primera disponible",r.employeImg="",r.employeId="",r.realEmploye="Primera disponible"}e.validHour=!1,setTimeout((function(){l.a.post(p.a.endpointTarget+"/dates/availableslenders",{date:e.finalDate,branch:e.branch,online:!0},e.configHeader).then((function(t){e.getDay=t.data.day,e.availableslenders=t.data.array,l.a.post(p.a.endpointTarget+"/dates/blocksHoursFirst",{date:e.finalDate,employes:t.data.array,timedate:e.registerDate.serviceSelectds[0].duration,employesServices:e.registerDate.serviceSelectds[0].employes,branch:e.branch,online:!0},e.configHeader).then((function(t){e.readyChange=!0,e.registerDate.serviceSelectds[0].valid=!0,e.registerDate.serviceSelectds[0].blocks=t.data.data,e.registerDate.block=t.data.data,$("#block0").show("slow")})).catch((function(t){t.response?t.response.status:e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))})).catch((function(t){t.response||e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}),200)}else{var n=[];if(n=e.registerDate.serviceSelectds[e.registerDate.serviceSelectds.length-1].blocksFirst.length>0?e.registerDate.serviceSelectds[e.registerDate.serviceSelectds.length-1].blocksFirst:e.registerDate.serviceSelectds[e.registerDate.serviceSelectds.length-1].blocks,""!=e.file){var o=new FormData;o.append("file",e.file),l.a.post(p.a.endpointTarget+"/citas/uploadPdf",o,{headers:{"Content-Type":"multipart/form-data"}},e.configHeader).then((function(s){l.a.post(p.a.endpointTarget+"/dates/noOneLender",{dataDate:e.registerDate,branch:e.branch,date:e.finalDate,client:e.registerUser,block:n,blockId:e.idDatesBlocks,typeCreation:"Web",pdf:s.data.nameFile,ifClient:!0},e.configHeader).then((function(s){if("cita creada"==s.data.status){e.spinningDate=!1,e.sendConfirmation(s.data.id,e.registerUser.name,e.registerUser.email,a,e.registerDate.serviceSelectds[0].end,e.registerDate.serviceSelectds,t,e.registerDate),e.modals.modal2=!1,e.modals.modal4=!0;var i=e.finalDate.split("-");s.data.id.forEach((function(t){l.a.post(p.a.endpointTarget+"/notifications",{userName:"Cliente: "+e.registerUser.name,userImage:"",employeId:t.employeId,detail:"Creo cita desde agendamiento (Web) "+i[1]+"-"+i[0]+"-"+i[2],branch:e.branch,link:"agendamiento?id="+t._id},e.configHeader).then((function(t){e.socket.emit("sendNotification",t.data.data)}))})),$("#overlay").toggle(),e.ifDisabled=!1}})).catch((function(t){t.response||e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}))}else l.a.post(p.a.endpointTarget+"/dates/noOneLender",{dataDate:e.registerDate,branch:e.branch,date:e.finalDate,client:e.registerUser,block:n,blockId:e.idDatesBlocks,typeCreation:"Web",pdf:"not",ifClient:!0},e.configHeader).then((function(s){if("ok"==s.data.status){e.spinningDate=!1,e.ifDisabled=!1,e.sendConfirmation(s.data.id,e.registerUser.name,e.registerUser.email,a,e.registerDate.serviceSelectds[0].end,e.registerDate.serviceSelectds,t,e.registerDate),e.modals.modal2=!1,e.modals.modal4=!0;var i=e.finalDate.split("-");s.data.id.forEach((function(t){l.a.post(p.a.endpointTarget+"/notifications",{userName:"Cliente: "+e.registerUser.name,userImage:"",employeId:t.employeId,detail:"Creo cita desde agendamiento (Web) "+i[1]+"-"+i[0]+"-"+i[2],branch:e.branch,link:"agendamiento?id="+t._id},e.configHeader).then((function(t){e.socket.emit("sendNotification",t.data.data)}))})),$("#overlay").toggle()}})).catch((function(t){console.log(t),t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){d["a"].push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión2",showConfirmButton:!1,timer:1500})}))}})).catch((function(t){e.spinningDate=!1,t.response||e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},finallyAgendG:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.ifDisabled=!0,this.spinningDate=!0,e.prev=2,e.next=5,l.a.post(p.a.endpointTarget+"/orders",{products:this.registerDateGift.serviceSelectds,client:this.registerUser,payType:this.registerUser.payG,total:this.totalPriceG,branch:{branch:this.branch,politics:this.configurationsBranch.giftCard,name:this.branchName,logo:this.logoBranch,location:this.configurationsBranch.businessLocation}},this.configHeader);case 5:e.sent,this.$swal({icon:"success",title:"¡Todo listo!",text:"Recibiras un correo con toda la información",showConfirmButton:!0}),this.serviceCountG.forEach((function(e,t){e.count=0,$("#GcardS"+t).css({"border-bottom":"solid 8px #e2e3de"})})),this.$refs.wizardG.reset(),this.spinningDate=!1,this.ifServicesG=!1,this.registerDateGift.serviceSelectds=[],this.totalPriceG=0,this.modals.modal8=!1,e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](2),console.log(e.t0);case 19:case"end":return e.stop()}}),e,this,[[2,16]])})));function t(){return e.apply(this,arguments)}return t}(),getServices:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get(p.a.endpointTarget+"/services/servicesForClients/"+this.branch,this.configHeader);case 3:if(t=e.sent,"ok"==t.data.status)for(this.services=t.data.data,a=0;a<this.services.length;a++)this.serviceCount.push({count:0}),this.serviceCountG.push({count:0});else this.services=[];e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response||this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),getCategories:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get(p.a.endpointTarget+"/services/getCategoriesForClients/"+this.branch,this.configHeader);case 3:t=e.sent,"ok"==t.data.status?this.categories=t.data.data:this.categories=[],e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response||this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),getEmployes:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get(p.a.endpointTarget+"/employes/employesbybranchForClients/"+this.branch,this.configHeader);case 3:t=e.sent,t.data.data.length>0&&(this.lenders=t.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response||this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),validMultiLender:function(e,t,a,s,i){$("#"+i).removeClass("fa-check"),this.registerDate.employeSelect="",this.validSchedule=!1,this.noOneLender=!0;for(var r="",n=0;n<s.length;n++){var o=s[n];o.day==this.getDay&&(r=o.hours[0]+"/"+o.hours[1])}this.selectHourService(e,t,a,r)},verifyValidOnline:function(e){if(e){var t=!1;return this.availableslenders.forEach((function(a){a.id==e&&a.validOnline&&(t=!0)})),!!t}return!0},insertData:function(e,t,a,s,i,r,n,o,c){var d=this;if(this.load2=!0,"Primera disponible"==t)if(0==e){for(var u=0;u<this.registerDate.serviceSelectds.length;u++){var m=this.registerDate.serviceSelectds[u];m.start="",m.end="",m.sort="",m.class="",m.blocks=[],m.blocksFirst=[],m.valid=!1,m.employe="Primera disponible",m.realEmploye="Primera disponible",m.employeImg="",m.employeId=""}this.validHour=!1,setTimeout((function(){l.a.post(p.a.endpointTarget+"/dates/availableslenders",{date:d.finalDate,branch:d.branch,online:!0},d.configHeader).then((function(e){d.getDay=e.data.day,d.availableslenders=e.data.array,l.a.post(p.a.endpointTarget+"/dates/blocksHoursFirst",{date:d.finalDate,employes:e.data.array,timedate:d.registerDate.serviceSelectds[0].duration,employesServices:d.registerDate.serviceSelectds[0].employes,branch:d.branch,online:!0},d.configHeader).then((function(e){d.readyChange=!0,d.load2=!1,d.registerDate.serviceSelectds[0].valid=!0,d.registerDate.serviceSelectds[0].blocks=e.data.data,d.registerDate.block=e.data.data,$("#block0").show("slow")})).catch((function(e){e.response||d.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))})).catch((function(e){e.response||d.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}),200)}else{for(var h=e;h<this.registerDate.serviceSelectds.length;h++){var f=this.registerDate.serviceSelectds[h];f.start="",f.end="",f.sort="",f.class="",f.blocks=[],f.blocksFirst=[],f.valid=!1,f.employe="Primera disponible",f.realEmploye="Primera disponible",f.employeImg="",f.employeId=""}this.validHour=!1,this.registerDate.serviceSelectds[e-1].blocksFirst.length>0?l.a.post(p.a.endpointTarget+"/dates/editBlocksFirst",{block:this.registerDate.serviceSelectds[e-1].blocksFirst,timedate:this.registerDate.serviceSelectds[e].duration,employesServices:this.registerDate.serviceSelectds[e].employes,online:!0,employes:this.availableslenders,firstBlock:!0}).then((function(t){d.load2=!1,d.registerDate.serviceSelectds[e].valid=!0,d.registerDate.serviceSelectds[e].blocks=t.data.data,d.registerDate.serviceSelectds[e].blocksFirst=[]})).catch((function(e){e.response||d.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):l.a.post(p.a.endpointTarget+"/dates/editBlocksFirst",{block:this.registerDate.serviceSelectds[e-1].blocks,timedate:this.registerDate.serviceSelectds[e].duration,employesServices:this.registerDate.serviceSelectds[e].employes,online:!0,employes:this.availableslenders,firstBlock:!0}).then((function(t){d.load2=!1,d.registerDate.serviceSelectds[e].valid=!0,d.registerDate.serviceSelectds[e].blocks=t.data.data,d.registerDate.serviceSelectds[e].blocksFirst=[]})).catch((function(e){e.response||d.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}else{for(var v=0;v<this.registerDate.serviceSelectds[e].blocks.length;v++){var g=this.registerDate.serviceSelectds[e].blocks[v];if("select"==g.validator&&g.employes)for(var b in g.validator=!0,this.registerDate.serviceSelectds[e].blocks[v+1]&&"select"==this.registerDate.serviceSelectds[e].blocks[v+1].validator&&g.employes.unshift({id:this.registerDate.serviceSelectds[e].employeId,name:this.registerDate.serviceSelectds[e].realEmploye,position:1,class:this.registerDate.serviceSelectds[e].class,valid:!0,img:this.registerDate.serviceSelectds[e].employeImg}),g.employeBlocked){var y=g.employeBlocked[b];y.employe==this.registerDate.serviceSelectds[e].employeId&&g.employeBlocked.splice(b,1)}}if(this.registerDate.serviceSelectds[e].blocksFirst.length>0){for(var S=e+1;S<this.registerDate.serviceSelectds.length;S++){var C=this.registerDate.serviceSelectds[S];C.start="",C.end="",C.sort="",C.class="",C.blocks=[],C.blocksFirst=[],C.valid=!1,C.employe="Primera disponible",C.employeId="",C.realEmploye="Primera disponible",C.employeImg="",C.itFirst=!0}this.registerDate.serviceSelectds[e].start="",this.registerDate.serviceSelectds[e].end="",this.registerDate.serviceSelectds[e].employe=t,this.registerDate.serviceSelectds[e].employeId=r,this.registerDate.serviceSelectds[e].employeImg=r,this.registerDate.serviceSelectds[e].realEmploye=t,this.registerDate.serviceSelectds[e].days=a,this.registerDate.serviceSelectds[e].class=s,this.registerDate.serviceSelectds[e].itFirst=!1,this.validHour=!1,l.a.post(p.a.endpointTarget+"/dates/editBlocksFirst",{block:this.registerDate.serviceSelectds[e].blocksFirst,timedate:this.registerDate.serviceSelectds[e].duration,employeSelect:r,employes:this.availableslenders,employeObject:{name:this.registerDate.serviceSelectds[e].realEmploye,id:this.registerDate.serviceSelectds[e].employeId,position:1,class:this.registerDate.serviceSelectds[e].class,valid:!0,img:this.registerDate.serviceSelectds[e].employeImg},firstBlock:!1,online:!0},this.configHeader).then((function(t){"ok"==t.data.status&&(d.load2=!1,d.registerDate.serviceSelectds[e].blocks=t.data.blockEmploye,d.registerDate.serviceSelectds[e].blocksFirst=t.data.data,d.registerDate.serviceSelectds[e].itFirst=!1,setTimeout((function(){$("#block"+e).show("slow")}),500),setTimeout((function(){$("#check"+e).addClass("fa-check")}),500))})).catch((function(e){e.response||d.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}else{for(var _=e+1;_<this.registerDate.serviceSelectds.length;_++){var w=this.registerDate.serviceSelectds[_];w.start="",w.end="",w.sort="",w.class="",w.blocks=[],w.blocksFirst=[],w.valid=!1,w.employe="Primera disponible",w.employeId="",w.realEmploye="Primera disponible",w.employeImg="",w.itFirst=!0}this.registerDate.serviceSelectds[e].start="",this.registerDate.serviceSelectds[e].end="",this.registerDate.serviceSelectds[e].employe=t,this.registerDate.serviceSelectds[e].employeId=r,this.registerDate.serviceSelectds[e].employeImg=c,this.registerDate.serviceSelectds[e].realEmploye=t,this.registerDate.serviceSelectds[e].days=a,this.registerDate.serviceSelectds[e].class=s,this.registerDate.serviceSelectds[e].itFirst=!1,this.validHour=!1,l.a.post(p.a.endpointTarget+"/dates/editBlocksFirst",{block:this.registerDate.serviceSelectds[e].blocks,timedate:this.registerDate.serviceSelectds[e].duration,employeSelect:r,employes:this.availableslenders,employeObject:{name:this.registerDate.serviceSelectds[e].realEmploye,id:this.registerDate.serviceSelectds[e].employeId,position:1,class:this.registerDate.serviceSelectds[e].class,valid:!0,img:this.registerDate.serviceSelectds[e].employeImg},online:!0,firstBlock:!1},this.configHeader).then((function(t){"ok"==t.data.status&&(d.load2=!1,d.registerDate.serviceSelectds[e].blocks=t.data.blockEmploye,d.registerDate.serviceSelectds[e].blocksFirst=t.data.data,d.registerDate.serviceSelectds[e].itFirst=!1,setTimeout((function(){$("#block"+e).show("slow")}),500),setTimeout((function(){$("#check"+e).addClass("fa-check")}),500))})).catch((function(e){e.response||d.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}}},selectHourService:function(e,t,a,s){var i=this,r="si"==this.registerDate.design?a+15:a;this.registerDate.serviceSelectds[e].lenderSelectData={employe:t,date:this.finalDate,time:r,resTime:s,index:e},l.a.post(p.a.endpointTarget+"/citas/getBlocks",this.registerDate.serviceSelectds[e].lenderSelectData).then((function(a){if(i.registerDate.serviceSelectds[e].validAfter)for(var s=e+1;s<i.registerDate.serviceSelectds.length;s++){var r=i.registerDate.serviceSelectds[s];r.start="",r.end="",r.sort="",r.class="",r.realLender="",r.blocks=[],r.days="",r.class="",r.valid=!1,i.arrayLendersSelect=[]}for(var n=!1,o=0,c=e-1,d=0;d<=c;d++){var u=i.registerDate.serviceSelectds[d];u.realLender==t&&(n=!0,o=d)}n?(i.registerDate.serviceSelectds[e].blocks=i.registerDate.serviceSelectds[o].blocks,l.a.post(p.a.endpointTarget+"/citas/editBlocks",{array:i.registerDate.serviceSelectds[e].blocks,time:i.registerDate.serviceSelectds[e].lenderSelectData.time}).then((function(a){i.arrayLendersSelect.push({index:e,lender:t}),i.registerDate.serviceSelectds[e].blocks=a.data,i.registerDate.serviceSelectds[e].validAfter=!0})).catch((function(e){e.response||i.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))):(i.registerDate.serviceSelectds[e].blocks=a.data,i.arrayLendersSelect.push({index:e,lender:t}),i.registerDate.serviceSelectds[e].validAfter=!0)})).catch((function(e){e.response||i.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))},validLender:function(){return this.generateLender(),this.registerDate.serviceSelectds.length>0&&""!=this.finalDate?(this.validWizard=!0,this.ifLender=!0,!0):(this.validWizard=!1,this.ifLender=!1,!1)},selectLender:function(e,t,a,s){this.registerDate.class=t,this.registerDate.employeSelect=e,this.registerDate.employeResTime=a,$(".frame").css({"background-color":"#fff"}),$(".frame h3").css({color:"#32325d"}),$("."+s).css({"background-color":"#32325d"}),$("."+s+"h3").css({color:"#fff"}),this.validSchedule=!0,this.noOneLender=!1,this.validHour=!1;for(var i=0;i<this.registerDate.serviceSelectds.length;i++){var r=this.registerDate.serviceSelectds[i];r.start="",r.end="",r.sort="",r.realLender="",r.employe="Primera disponible",r.employeId="",r.realEmploye="Primera disponible",r.employeImg="",r.blocks=[],r.restTime="",r.class=""}},insertDate:function(){var e=this;this.noOneLender?"si"==this.registerDate.design&&this.readyAddDesign&&(this.registerDate.duration=this.registerDate.duration+15,this.readyAddDesign=!1):("si"==this.registerDate.design&&this.readyAddDesign&&(this.registerDate.duration=this.registerDate.duration+15,this.readyAddDesign=!1),this.blockHour=[],l.a.post(p.a.endpointTarget+"/citas/getBlocks",{employe:this.registerDate.employeSelect,date:this.finalDate,time:this.registerDate.duration,resTime:this.registerDate.employeResTime}).then((function(t){e.blockHour=t.data,e.progress=!0})).catch((function(t){t.response||e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})))},plusServicePhone:function(e,t,a,s,i,n,o,c,l,d){this.ifServices=!0;var u=!0,p=!1,m=void 0;try{for(var h,f=o[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var v=h.value;v.valid=!0}}catch(k){p=!0,m=k}finally{try{u||null==f.return||f.return()}finally{if(p)throw m}}var g=[{name:"Primera disponible",days:"",class:"",valid:!0,validOnline:!0}].concat(Object(r["a"])(o));if(this.ifMicro){var b=[{checked:!1,duration:0,microService:"Ninguno",price:0,position:e}],y=!0,S=!1,C=void 0;try{for(var _,w=this.microServices[Symbol.iterator]();!(y=(_=w.next()).done);y=!0){var x=_.value;b.push({checked:x.checked,duration:x.duration,microService:x.microService,price:x.price,position:e})}}catch(k){S=!0,C=k}finally{try{y||null==w.return||w.return()}finally{if(S)throw C}}this.registerDate.serviceSelectds.push({employes:g,commission:i,duration:s,price:n,start:"",end:"",sort:0,employe:"Primero disponible",employeImg:"",realEmploye:"",valid:!1,validAfter:!1,discount:c,itFirst:!0,blocksFirst:[],id:"",blocks:[],name:t,service_id:a,microServices:b,microServiceSelect:[],additionalName:d})}else this.registerDate.serviceSelectds.push({employes:g,commission:i,duration:s,price:n,start:"",end:"",sort:0,employe:"Primero disponible",employeImg:"",realEmploye:"",valid:!1,validAfter:!1,discount:c,itFirst:!0,blocksFirst:[],id:"",blocks:[],name:t,service_id:a,microServices:[],microServiceSelect:[],additionalName:d});this.validHour=!1,this.totalPrice=this.totalPrice+n},lessServicePhone:function(e,t){this.registerDate.serviceSelectds.splice(e,1),0==this.registerDate.serviceSelectds.length&&(this.ifServices=!1,this.validLender(),this.validSchedule=!1,this.posibleLenders=[]),this.validHour=!1,this.totalPrice=this.totalPrice-t},lessServicePhoneG:function(e,t){this.registerDateGift.serviceSelectds.splice(e,1),0==this.registerDateGift.serviceSelectds.length&&(this.ifServices=!1),this.validHour=!1,this.totalPriceG=this.totalPriceG-t},plusService:function(e,t,a,s,i,n,o,c,l){$("#"+c).css({"border-bottom":"solid 8px #174c8e"}),this.ifServices=!0,this.serviceCount[e].count++;var d=!0,u=!1,p=void 0;try{for(var m,h=o[Symbol.iterator]();!(d=(m=h.next()).done);d=!0){var f=m.value;f.valid=!0}}catch(x){u=!0,p=x}finally{try{d||null==h.return||h.return()}finally{if(u)throw p}}var v=[{name:"Primera disponible",days:"",class:"",valid:!0,validOnline:!0}].concat(Object(r["a"])(o));if(this.ifMicro){var g=[{checked:!1,duration:0,microService:"Ninguno",price:0,position:e}],b=!0,y=!1,S=void 0;try{for(var C,_=this.microServices[Symbol.iterator]();!(b=(C=_.next()).done);b=!0){var w=C.value;g.push({checked:w.checked,duration:w.duration,microService:w.microService,price:w.price,position:e})}}catch(x){y=!0,S=x}finally{try{b||null==_.return||_.return()}finally{if(y)throw S}}this.registerDate.serviceSelectds.push({employes:v,commission:i,duration:s,price:n,start:"",end:"",sort:0,employe:"Primero disponible",employeImg:"",realEmploye:"",valid:!1,validAfter:!1,discount:l,itFirst:!0,id:"",blocksFirst:[],blocks:[],name:t,service_id:a,microServices:g,microServiceSelect:[]})}else this.registerDate.serviceSelectds.push({employes:v,commission:i,duration:s,price:n,start:"",end:"",sort:0,employe:"Primero disponible",employeImg:"",realEmploye:"",valid:!1,validAfter:!1,discount:l,itFirst:!0,id:"",blocksFirst:[],blocks:[],name:t,service_id:a,microServices:[],microServiceSelect:[]});this.validHour=!1,this.totalPrice=this.totalPrice+n},plusServiceGift:function(e,t,a,s,i,r,n,o,c,l){$("#G"+c).css({"border-bottom":"solid 8px #174c8e"}),this.ifServicesG=!0,o&&this.serviceCountG[e].count++,this.registerDateGift.serviceSelectds.push({commission:i,duration:s,price:r,discount:l,id:"",name:t,service_id:a}),this.totalPriceG=this.totalPriceG+r},lessService:function(e,t,a,s,i,r){if(r>0){this.serviceCount[e].count>0&&(this.serviceCount[e].count--,0==this.serviceCount[e].count&&$("#"+s).css({"border-bottom":"solid 8px #e2e3de"}));for(var n=0;n<this.registerDate.serviceSelectds.length;n++)if(this.registerDate.serviceSelectds[n].name==t){this.registerDate.serviceSelectds.splice(n,1);break}0==this.registerDate.serviceSelectds.length&&(this.ifServices=!1,this.validLender(),this.validSchedule=!1,this.posibleLenders=[]),this.validHour=!1,this.totalPrice=this.totalPrice-i}},lessServiceGift:function(e,t,a,s,i,r){if(r>0){this.serviceCountG[e].count>0&&(this.serviceCountG[e].count--,0==this.serviceCountG[e].count&&$("#G"+s).css({"border-bottom":"solid 8px #e2e3de"}));for(var n=0;n<this.registerDateGift.serviceSelectds.length;n++)if(this.registerDateGift.serviceSelectds[n].name==t){this.registerDateGift.serviceSelectds.splice(n,1);break}0==this.registerDateGift.serviceSelectds.length&&(this.ifServicesG=!1),this.totalPriceG=this.totalPriceG-i}},generateLender:function(){this.finalyLenders=[];for(var e=0;e<this.lenders.length;e++)for(var t=this.lenders[e],a=0;a<this.posibleLenders.length;a++)t._id==this.posibleLenders[a]&&this.finalyLenders.push({nombre:t.nombre,_id:t._id,class:t.class,restTime:t.restTime})},selectBloqMulti:function(e,t,a,s,i,r){for(var n=this,o={name:this.registerDate.serviceSelectds[s].employe,id:this.registerDate.serviceSelectds[s].employeId,class:this.registerDate.serviceSelectds[s].class,valid:!0,img:this.registerDate.serviceSelectds[s].employeImg},c=s+1;c<this.registerDate.serviceSelectds.length;c++){var d=this.registerDate.serviceSelectds[c];d.start="",d.end="",d.sort="",d.class="",d.blocks=[],d.blocksFirst=[],d.valid=!1,d.employe="Primera disponible",d.employeId="",d.realEmploye="Primera disponible",d.employeImg="",d.itFirst=!0}if(setTimeout((function(){$("#"+i).toggle("slow")}),500),e){var u=this.registerDate.serviceSelectds[s].blocks[a].hour.split(":");this.registerDate.serviceSelectds[s].start=this.registerDate.serviceSelectds[s].blocks[a].hour,this.registerDate.serviceSelectds[s].sort=u[0]+u[1];for(var m=0;m<this.registerDate.serviceSelectds[s].blocks[a].employes.length;m++){var h=this.registerDate.serviceSelectds[s].blocks[a].employes[m];if(1==h.valid){this.registerDate.serviceSelectds[s].class=h.class,this.registerDate.serviceSelectds[s].realEmploye=h.name,this.registerDate.serviceSelectds[s].employeId=h.id,this.registerDate.serviceSelectds[s].employe=h.name,this.registerDate.serviceSelectds[s].employeImg=h.img;break}}var f={name:this.registerDate.serviceSelectds[s].employe,id:this.registerDate.serviceSelectds[s].employeId,class:this.registerDate.serviceSelectds[s].class,valid:!1,img:this.registerDate.serviceSelectds[s].employeImg};l.a.post(p.a.endpointTarget+"/dates/selectDatesBlocks",{date:this.finalDate,timedate:this.registerDate.serviceSelectds[s].duration,hour:this.registerDate.serviceSelectds[s].start,employe:f,oldEmploye:o,block:this.registerDate.serviceSelectds[s].blocks,branch:this.branch,ifFirstClick:this.registerDate.serviceSelectds[s].itFirst,firstBlock:!0},this.configHeader).then((function(e){n.registerDate.serviceSelectds[s].blocks=e.data.data,n.registerDate.serviceSelectds[s].itFirst=!1,n.registerDate.serviceSelectds[s].end=e.data.end;var t=parseFloat(s)+parseFloat(1);n.registerDate.serviceSelectds[t]?l.a.post(p.a.endpointTarget+"/dates/editBlocksFirst",{block:n.registerDate.serviceSelectds[s].blocks,timedate:n.registerDate.serviceSelectds[t].duration,employesServices:n.registerDate.serviceSelectds[t].employes,employes:n.availableslenders,firstBlock:!0,online:!0}).then((function(e){n.registerDate.serviceSelectds[t].valid=!0,n.registerDate.serviceSelectds[t].blocks=e.data.data})).catch((function(e){e.response||n.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})):n.validHour=!0})).catch((function(e){e.response||n.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})),setTimeout((function(){$("#"+r).addClass("fa-check")}),500)}else{u=this.registerDate.serviceSelectds[s].blocks[a].hour.split(":");this.registerDate.serviceSelectds[s].start=this.registerDate.serviceSelectds[s].blocks[a].hour,this.registerDate.serviceSelectds[s].sort=u[0]+u[1];f={name:this.registerDate.serviceSelectds[s].employe,id:this.registerDate.serviceSelectds[s].employeId,class:this.registerDate.serviceSelectds[s].class,valid:!1,img:this.registerDate.serviceSelectds[s].employeImg};l.a.post(p.a.endpointTarget+"/dates/selectDatesBlocks",{date:this.finalDate,timedate:this.registerDate.serviceSelectds[s].duration,hour:this.registerDate.serviceSelectds[s].start,employe:f,block:this.registerDate.serviceSelectds[s].blocks,blockFirst:this.registerDate.serviceSelectds[s].blocksFirst,branch:this.branch,ifFirstClick:this.registerDate.serviceSelectds[s].itFirst,firstBlock:!1},this.configHeader).then((function(e){n.registerDate.serviceSelectds[s].blocks=e.data.data,n.registerDate.serviceSelectds[s].blocksFirst=e.data.blockFirst,n.registerDate.serviceSelectds[s].itFirst=!1,n.registerDate.serviceSelectds[s].end=e.data.end;var t=parseFloat(s)+parseFloat(1);n.registerDate.serviceSelectds[t]?l.a.post(p.a.endpointTarget+"/dates/editBlocksFirst",{block:e.data.blockFirst,employes:n.availableslenders,timedate:n.registerDate.serviceSelectds[t].duration,employesServices:n.registerDate.serviceSelectds[t].employes,firstBlock:!0,online:!0}).then((function(e){n.registerDate.serviceSelectds[t].valid=!0,n.registerDate.serviceSelectds[t].blocks=e.data.data})):n.validHour=!0})).catch((function(e){e.response||n.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})})),setTimeout((function(){$("#"+r).addClass("fa-check")}),500)}},validateFirstStep:function(){var e=this;window.scrollTo(0,0);var t=!1;if(this.ifMicro){var a=!0,s=!1,i=void 0;try{for(var r,n=this.registerDate.serviceSelectds[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var o=r.value,c=!1,l=!0,d=!1,u=void 0;try{for(var p,m=o.microServices[Symbol.iterator]();!(l=(p=m.next()).done);l=!0){var h=p.value;h.checked&&(c=!0)}}catch(g){d=!0,u=g}finally{try{l||null==m.return||m.return()}finally{if(d)throw u}}if(!c){t=!1;break}t=!0}}catch(g){s=!0,i=g}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}}else t=!0;if(this.ifServices&&t){if(this.validWizard=!0,""!=this.dates.simple)for(var f=0;f<this.registerDate.serviceSelectds.length;f++){var v=this.registerDate.serviceSelectds[f];if(0==v.valid){v.valid=!0,this.insertData(f,"Primera disponible","","",v.duration,"check"+f,v.lenders);break}}return""!=this.dates.simple&&setTimeout((function(){e.openCalendar()}),1e3),this.ifServices}return this.$swal({icon:"error",title:"Debe seleccionar un Adicional, en caso de no desear, por favor marque como NINGUNO",showConfirmButton:!1,timer:3e3}),this.validWizard=!1,!1},validateFirstStepG:function(){window.scrollTo(0,0);var e=!0;return this.ifServicesG&&e?(this.validWizard=!0,this.ifServicesG):(this.$swal({icon:"error",title:"Debe seleccionar al menos un servicio",showConfirmButton:!1,timer:3e3}),this.validWizard=!1,!1)},validateLastStep:function(){if(window.scrollTo(0,0),this.validHour){this.validWizard=!0,this.registerDate.serviceSelectds.forEach((function(e){e.microServiceSelect=[]}));var e=!0,t=!1,a=void 0;try{for(var s,i=this.registerDate.serviceSelectds[Symbol.iterator]();!(e=(s=i.next()).done);e=!0){var r=s.value,n=!0,o=!1,c=void 0;try{for(var l,d=r.microServices[Symbol.iterator]();!(n=(l=d.next()).done);n=!0){var u=l.value;u.checked&&r.microServiceSelect.push({name:u.microService,duration:u.duration,price:u.price})}}catch(p){o=!0,c=p}finally{try{n||null==d.return||d.return()}finally{if(o)throw c}}}}catch(p){t=!0,a=p}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}return this.validHour}return this.validWizard=!1,this.validHour},findDay:function(e,t){if("Primera disponible"!=t){if(e.length>0){for(var a=0;a<e.length;a++){var s=e[a];if(s.day==this.getDay)return 1,!0}return!1}return!1}return!0},openCalendar:function(){var e=this;this.inBlackList?setTimeout((function(){e.readyChange=!0,e.registerDate.serviceSelectds[0].valid=!0,e.registerDate.serviceSelectds[0].blocks=e.blockToBlackList}),500):setTimeout((function(){if(""!=e.dates.simple){var t=e.dates.simple.split("-");e.finalDate=t[1]+"-"+t[0]+"-"+t[2];var a=new Date(e.finalDate+" 10:00");e.getDay=a.getDay();var s=t[0]+"-"+t[1];if(0==e.getDay&&"13-12"!=s&&"20-12"!=s)e.$swal({icon:"error",title:"Disculpa, No laboramos Sábados y Domingos.",showConfirmButton:!1,timer:3e3}),e.dates.simple="";else if(e.readyChange){for(var i=0;i<e.registerDate.serviceSelectds.length;i++){var r=e.registerDate.serviceSelectds[i];r.start="",r.end="",r.sort="",r.class="",r.blocks=[],r.blocksFirst=[],r.valid=!1,r.employe="Primera disponible",r.employeImg="",r.employeId="",r.realEmploye="Primera disponible"}e.validHour=!1,setTimeout((function(){l.a.post(p.a.endpointTarget+"/dates/availableslenders",{date:e.finalDate,branch:e.branch,online:!0},e.configHeader).then((function(t){e.getDay=t.data.day,e.availableslenders=t.data.array,l.a.post(p.a.endpointTarget+"/dates/blocksHoursFirst",{date:e.finalDate,employes:t.data.array,timedate:e.registerDate.serviceSelectds[0].duration,employesServices:e.registerDate.serviceSelectds[0].employes,branch:e.branch,online:!0},e.configHeader).then((function(t){e.idDatesBlocks=t.data.id,e.readyChange=!0,e.registerDate.serviceSelectds[0].valid=!0,e.registerDate.serviceSelectds[0].blocks=t.data.data,e.registerDate.block=t.data.data,$("#block0").show("slow")}))})).catch((function(t){t.response||e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}),200)}else setTimeout((function(){l.a.post(p.a.endpointTarget+"/dates/availableslenders",{date:e.finalDate,branch:e.branch,online:!0},e.configHeader).then((function(t){e.getDay=t.data.day,e.availableslenders=t.data.array,l.a.post(p.a.endpointTarget+"/dates/blocksHoursFirst",{date:e.finalDate,employes:t.data.array,timedate:e.registerDate.serviceSelectds[0].duration,employesServices:e.registerDate.serviceSelectds[0].employes,branch:e.branch,online:!0},e.configHeader).then((function(t){e.idDatesBlocks=t.data.id,e.readyChange=!0,e.registerDate.serviceSelectds[0].valid=!0,e.registerDate.serviceSelectds[0].blocks=t.data.data,e.registerDate.block=t.data.data})).catch((function(t){t.response||e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))})).catch((function(t){t.response||e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}),200)}setTimeout((function(){$("#block0").show("slow")}),200)}),200)},fixedHours:function(e){var t=parseInt(e/60)+" hr",a=e-60*parseInt(e/60)+" min";return t+" "+a},openBlocks:function(e){$("#"+e).toggle("slow")},selectPay:function(e){$(".dropdownPay").text(e),$(".dropdownPay").css({color:"#090909"}),this.registerUser.pay=e,this.validPay=!0},selectPayG:function(e){$(".dropdownPay").text(e),$(".dropdownPay").css({color:"#090909"}),this.registerUser.payG=e,this.validPayG=!0},selectDesign:function(e){"first"==e?($(".spanSelect").css({"background-color":"#fff",color:"#090909"}),$("#yes").css({"background-color":"#7a91cb"}),this.registerDate.design="si"):($(".spanSelect").css({"background-color":"#fff",color:"#090909"}),$("#not").css({"background-color":"#7a91cb"}),this.registerDate.design="no")},selectCat:function(e){$(".categoryButton").css({padding:"10px","background-color":"#d5dadd",color:"#434a54","box-shadow":"0px 0px 0px 0px rgba(0,0,0,0)"}),$("#"+e).css({"padding-top":"14px","background-color":"#174c8e",color:"#fff","-webkit-box-shadow":"0px 9px 25px -7px rgba(0,0,0,0.75)","box-shadow":"0px 9px 25px -7px rgba(0,0,0,0.75)"})},selectCatG:function(e){$(".categoryButton").css({padding:"10px","background-color":"#d5dadd",color:"#434a54","box-shadow":"0px 0px 0px 0px rgba(0,0,0,0)"}),$("#"+e).css({"padding-top":"14px","background-color":"#174c8e",color:"#fff","-webkit-box-shadow":"0px 9px 25px -7px rgba(0,0,0,0.75)","box-shadow":"0px 9px 25px -7px rgba(0,0,0,0.75)"})},selectCategoryPhone:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=0;a<this.serviceSelected.length;a++)s=this.serviceSelected[a],0==s.set&&(this.serviceSelected.splice(a,1),this.servicePhoneCount.splice(a,1));return this.servicesPhoneShow=!1,this.servicesCat=[],e.prev=3,e.next=6,l.a.post(p.a.endpointTarget+"/services/servicesByCategory",{name:t,branch:this.branch},this.configHeader);case 6:i=e.sent,"ok"==i.data.status?(this.servicesPhoneShow=!0,this.servicesCat=i.data.data,this.CatSelected=t):this.$swal({icon:"error",title:"Categoria sin servicios.",showConfirmButton:!1,timer:2500}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),e.t0.response||this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(t){return e.apply(this,arguments)}return t}(),selectCategoryPhoneG:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=0;a<this.serviceSelectedG.length;a++)s=this.serviceSelectedG[a],0==s.set&&(this.serviceSelectedG.splice(a,1),this.servicePhoneCountG.splice(a,1));return this.servicesPhoneShow=!1,this.servicesCat=[],e.prev=3,e.next=6,l.a.post(p.a.endpointTarget+"/services/servicesByCategory",{name:t,branch:this.branch},this.configHeader);case 6:i=e.sent,"ok"==i.data.status?(this.servicesPhoneShow=!0,this.servicesCat=i.data.data,this.CatSelected=t):this.$swal({icon:"error",title:"Categoria sin servicios.",showConfirmButton:!1,timer:2500}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),e.t0.response||this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(t){return e.apply(this,arguments)}return t}(),validObject:function(){return 0!==this.serviceSelected.length},device:function(){screen.width<768&&(this.configDate.inline=!0)},selectServicePhone:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=0;a<this.serviceSelected.length;a++)s=this.serviceSelected[a],0==s.set&&(this.serviceSelected.splice(a,1),this.servicePhoneCount.splice(a,1));return e.prev=1,e.next=4,l.a.get(p.a.endpointTarget+"/services/getServiceInfo/"+t,this.configHeader);case 4:i=e.sent,"ok"==i.data.status?(i.data.data.set=!1,this.serviceSelected.unshift(i.data.data),this.servicePhoneCount.unshift({count:0}),this.plusServicePhone((new Date).getTime(),i.data.data.name,i.data.data._id,i.data.data.duration,i.data.data.commission,i.data.data.price,i.data.data.employes,i.data.data.discount,i.data.data.products,i.data.data.additionalName)):this.$swal({icon:"error",title:"Error técnico.",showConfirmButton:!1,timer:2500}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),e.t0.response||this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),selectServicePhoneG:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=0;a<this.serviceSelectedG.length;a++)s=this.serviceSelectedG[a],0==s.set&&(this.serviceSelectedG.splice(a,1),this.servicePhoneCountG.splice(a,1));return e.prev=1,e.next=4,l.a.get(p.a.endpointTarget+"/services/getServiceInfo/"+t,this.configHeader);case 4:i=e.sent,"ok"==i.data.status?(i.data.data.set=!1,this.serviceSelectedG.unshift(i.data.data),this.servicePhoneCountG.unshift({count:0}),this.plusServiceGift((new Date).getTime(),i.data.data.name,i.data.data._id,i.data.data.duration,i.data.data.commission,i.data.data.price,i.data.data.employes,!1,i.data.data.discount,i.data.data.products,i.data.data.additionalName)):this.$swal({icon:"error",title:"Error técnico.",showConfirmButton:!1,timer:2500}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),e.t0.response||this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),registerClients:function(){var e=this;l.a.post(p.a.endpointTarget+"/clients",{firstName:this.registerUser.firstName,lastName:this.registerUser.lastName,email:this.registerUser.email,recommender:this.ref,idRecomender:this.ref,phone:this.phoneData,birthday:this.registerUser.birthday,instagram:null},this.configHeader).then((function(t){"client create"==t.data.status?(e.$swal({icon:"success",title:"Te has registrado con éxito",showConfirmButton:!1,timer:2500}),e.registerUser.name=e.registerUser.firstName+" "+e.registerUser.lastName,e.registerUser.id=t.data.data._id,e.registerUser.phone=e.phoneData.formatInternational,e.getServices(),e.getCategories(),e.getEmployes(),e.getMicroServices(),e.modals.modal6=!1):(e.$swal({icon:"error",title:"El cliente ya existe",text:"Por favor seleccione una sucursal para avanzar.",showConfirmButton:!0}),e.ifUserRegister=!1)})).catch((function(t){t.response||e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}},computed:{getScreen:function(){return screen.width<780?{x:"calc(700px + 50%)",y:240}:{y:"auto"}},widthTable:function(){return screen.width<780?"95%":"60%"}}}),T=P,B=(a("a7c4"),a("2877")),j=Object(B["a"])(T,s,i,!1,null,null,null);t["default"]=j.exports},bb36:function(e,t,a){"use strict";var s=a("feb7"),i=a.n(s),r=a("c1df"),n=a.n(r);a("898b");n.a.locale("es");var o={data:function(){return{es_ES:i.a}}};t["a"]=o},be89:function(e,t,a){},c2ab:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-2"},[null!=e.dataSale?[a("h2",[e._v("Detalle de la venta (ID: "+e._s(e.dataSale.uuid)+") "),e.dataSale.status?e._e():a("b",[e._v("# Anulada")])])]:e._e(),null!=e.dataSale?[a("h3",[e._v("Resumen de pago")]),a("hr",{staticClass:"mt-0 mb-0"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mt-2"},[e._m(0),a("br"),a("span",{staticClass:"ml-1"},[e._v(e._s(e._f("formatDate")(e.dataSale.createdAt)))])]),a("div",{staticClass:"col-md-4 mt-2"},[e._m(1),a("br"),a("span",{staticClass:"ml-1"},[e._v(e._s(e.dataSale.client.firstName)+" "+e._s(e.dataSale.client.lastName))])]),a("div",{staticClass:"col-md-4 mt-2"},[e._m(2),a("br"),a("span",{staticClass:"ml-1"},[e._v(e._s(e.dataSale.client.email))])]),a("div",{staticClass:"col-md-4 mt-2"},[e._m(3),a("br"),a("span",{staticClass:"ml-1"},[e._v(e._s(e._f("formatPrice")(e.dataSale.totals.total)))])]),a("div",{staticClass:"col-md-4 mt-2"},[e._m(4),a("br"),a("span",{staticClass:"ml-1"},[e._v(e._s(e._f("formatPrice")(e.dataSale.totals.totalPay)))])]),a("div",{staticClass:"col-md-4 mt-2"},[e._m(5),a("br"),a("span",{staticClass:"ml-1"},[e._v(e._s(e._f("formatPrice")(-1*(e.dataSale.totals.total-e.dataSale.totals.totalPay))))])])]),a("h3",{staticClass:"mt-3"},[e._v("Abonos")]),a("hr",{staticClass:"mt-0 mb-0"}),e._l(e.dataSale.typesPay,(function(t){return a("div",{key:t.type,staticClass:"row"},[a("div",{staticClass:"col-md-4 mt-2"},[e._m(6,!0),a("br"),a("span",{staticClass:"ml-1"},[e._v(e._s(e._f("formatDate")(e.dataSale.createdAt)))])]),a("div",{staticClass:"col-md-4 mt-2"},[e._m(7,!0),a("br"),a("span",{staticClass:"ml-1"},[e._v("\n                    "+e._s(t.type)+"\n                ")])]),a("div",{staticClass:"col-md-4 mt-2"},[e._m(8,!0),a("br"),a("span",{staticClass:"ml-1"},[e._v(e._s(e._f("formatPrice")(t.total)))])])])})),a("hr",{staticClass:"mt-3 mb-1"}),a("h3",{staticClass:"mt-3"},[e._v("ítems")]),a("hr",{staticClass:"mt-1 mb-1"}),a("a-table",{attrs:{columns:e.columnsReport,loading:e.progress,"data-source":e.dataSale.items,scroll:e.getScreen},scopedSlots:e._u([{key:"total-slot",fn:function(t,a){return[e._v("\n                "+e._s(e._f("formatPrice")(a.totalItem))+"\n            ")]}},{key:"dicount-slot",fn:function(t,a){return[e._v("\n                "+e._s(a.discount)+" %\n            ")]}},{key:"price-slot",fn:function(t,a){return[e._v("\n                "+e._s(e._f("formatPrice")(a.price))+"\n            ")]}},{key:"add-slot",fn:function(t,a){return["service"==a.type?[e._v("\n                    "+e._s(e._f("formatPrice")(a.additionalsTotal))+"\n                ")]:[e._v("\n                    "+e._s(a.quantityProduct)+"\n                ")]]}},{key:"type-slot",fn:function(t,s){return["service"==s.type?a("span",[e._v("Servicio, "+e._s(s.employe.name))]):a("span",[e._v("Producto")])]}}],null,!1,1511334953)})]:e._e()],2)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticStyle:{"margin-bottom":"0px"},attrs:{for:"date"}},[a("b",[e._v("Fecha")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticStyle:{"margin-bottom":"0px"},attrs:{for:"date"}},[a("b",[e._v("Cliente")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticStyle:{"margin-bottom":"0px"},attrs:{for:"date"}},[a("b",[e._v("Correo cliente")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticStyle:{"margin-bottom":"0px"},attrs:{for:"date"}},[a("b",[e._v("Monto total")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticStyle:{"margin-bottom":"0px"},attrs:{for:"date"}},[a("b",[e._v("Monto pagado")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticStyle:{"margin-bottom":"0px"},attrs:{for:"date"}},[a("b",[e._v("Vuelto")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticStyle:{"margin-bottom":"0px"},attrs:{for:"date"}},[a("b",[e._v("Fecha")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticStyle:{"margin-bottom":"0px"},attrs:{for:"date"}},[a("b",[e._v("Medio de pago")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticStyle:{"margin-bottom":"0px"},attrs:{for:"date"}},[a("b",[e._v("Total")])])}],r=(a("96cf"),a("3b8d")),n=a("bc3a"),o=a.n(n),c=a("a5e9"),l=a.n(c),d={data:function(){return{dataSale:{},configHeader:{headers:{"x-database-connect":l.a.database,"x-access-token":localStorage.userToken}},id:this.$route.query.id,columnsReport:[{title:"Nombre",dataIndex:"item.name",key:"item.name",width:"15%"},{title:"Tipo",dataIndex:"type",key:"type",scopedSlots:{customRender:"type-slot"},width:"25%"},{title:"Precio",dataIndex:"price",key:"price",scopedSlots:{customRender:"price-slot"},width:"15%"},{title:"Adicional/Cantidad",dataIndex:"additionalsTotal",key:"additionalsTotal",scopedSlots:{customRender:"add-slot"},width:"20%"},{title:"Descuento",dataIndex:"discount",key:"discount",width:"10%",scopedSlots:{customRender:"dicount-slot"}},{title:"Total",dataIndex:"totalItem",key:"totalItem",scopedSlots:{customRender:"total-slot"},width:"15%"}]}},created:function(){this.getData()},methods:{getData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get(l.a.endpointTarget+"/sales/getSale/"+this.id,this.configHeader);case 3:t=e.sent,this.dataSale=t.data.data,setTimeout((function(){print(),setTimeout((function(){window.close()}),200)}),200),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),e.t0.response?401==e.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()}},u=d,p=a("2877"),m=Object(p["a"])(u,s,i,!1,null,null,null);t["default"]=m.exports},c42a:function(e,t,a){"use strict";var s=a("7fbb"),i=a.n(s);i.a},c6c3:function(e,t,a){"use strict";var s=a("0e8d"),i=a.n(s);i.a},cf97:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-2"},[a("h1",{staticClass:"text-center mt-2"},[e._v("Reporte preliminar de gastos mes "+e._s(e.dict[e.month])+" "+e._s(e.year))]),a("div",{staticClass:"row"},[e._m(0),a("div",{staticClass:"col-8 pt-3 border border-5 mb-2 row"},[a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Saldo inicial:")]),e._v(" "+e._s(e._f("formatPrice")(this.reinvestmentTotal)))])]),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Saldo final:")]),e._v(" "+e._s(e._f("formatPrice")(this.totalFinal)))])]),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Ganancia:")]),e._v(" "+e._s(this.gain.toFixed(1)))])]),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Ingreso:")]),e._v(" "+e._s(e._f("formatPrice")(this.totalSales)))])]),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Egreso:")]),e._v(" "+e._s(e._f("formatPrice")(this.totalExpenses)))])]),e._m(1),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Comisión:")]),e._v(" "+e._s(e._f("formatPrice")(this.commission)))])]),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Gasto mensual:")]),e._v(" "+e._s(e._f("formatPrice")(this.monthly)))])]),a("div",{staticClass:"col-12"}),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Bonos:")]),e._v(" "+e._s(e._f("formatPrice")(this.bonus)))])]),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Gasto Inventario:")]),e._v(" "+e._s(e._f("formatPrice")(this.inventoryTotal)))])])])]),a("a-config-provider",{attrs:{locale:e.es_ES},scopedSlots:e._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[e._v("Sin gastos registrados en el mes")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:e.columnsReport,"data-source":e.expenses,pagination:!1},scopedSlots:e._u([{key:"amount-slot",fn:function(t,a){return[e._v("\n                "+e._s(e._f("formatPrice")(a.amount))+"\n            ")]}},{key:"date-slot",fn:function(t,a){return[e._v("\n                "+e._s(e._f("formatDate")(a.createdAt))+"\n            ")]}}])})],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-4"},[a("img",{staticClass:"w-100 mt-2",attrs:{src:"img/brand/syswa-gestion.png"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("hr",{staticClass:"mt-0 mb-2"})])}],r=(a("6b54"),a("96cf"),a("3b8d")),n=a("bc3a"),o=a.n(n),c=a("a5e9"),l=a.n(c),d=a("bb36"),u={mixins:[d["a"]],data:function(){return{configHeader:{headers:{"x-database-connect":l.a.database,"x-access-token":localStorage.userToken}},month:(new Date).getMonth(),year:(new Date).getFullYear(),dict:{0:"Enero",1:"Febrero",2:"Marzo",3:"Abril",4:"Mayp",5:"Junio",6:"Julio",7:"Agosto",8:"Septiembre",9:"Octubre",10:"Noviembre",11:"Diciembre"},branch:this.$route.query.branch,columnsReport:[{title:"Fecha",dataIndex:"createdAt",key:"createdAt",scopedSlots:{customRender:"date-slot"},width:"20%"},{title:"Descripción",dataIndex:"detail",key:"detail",width:"40%"},{title:"Tipo",dataIndex:"type",key:"type",width:"20%"},{title:"Total",dataIndex:"amount",key:"amount",scopedSlots:{customRender:"amount-slot"},width:"20%"}],commission:0,monthly:0,bonus:0,inventoryTotal:0,reinvestmentTotal:0,totalSales:0,totalExpenses:0,totalFinal:0,expenses:[]}},created:function(){this.getExpenseData(),this.getReinvestment(),this.getTotalSales(),this.getTotal(),this.print()},methods:{getExpenseData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("".concat(l.a.endpointTarget,"/expenses/").concat(this.branch),this.configHeader);case 3:t=e.sent,this.expenses=t.data.data.expenses,this.totalExpenses=t.data.data.expenseTotals.Inventario+t.data.data.expenseTotals.Bono+t.data.data.expenseTotals.Mensual+t.data.data.expenseTotals.Comision,this.commission=t.data.data.expenseTotals.Comision,this.monthly=t.data.data.expenseTotals.Mensual,this.bonus=t.data.data.expenseTotals.Bono,this.inventoryTotal=t.data.data.expenseTotals.Inventario,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),e.t0.response?401==e.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(){return e.apply(this,arguments)}return t}(),getReinvestment:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("".concat(l.a.endpointTarget,"/expenses/findReinvestment/").concat(this.branch),this.configHeader);case 3:t=e.sent,"ok"==t.data.status&&(this.reinvestmentTotal=t.data.data.amount),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?401==e.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),getTotalSales:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("".concat(l.a.endpointTarget,"/sales/totalSales/").concat(this.branch),this.configHeader);case 3:t=e.sent,"ok"==t.data.status&&(this.totalSales=t.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?401==e.t0.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),getTotal:function(){var e=this;setTimeout((function(){e.totalFinal=e.reinvestmentTotal+e.totalSales-e.totalExpenses,e.gain=(e.totalFinal-e.reinvestmentTotal)/e.totalFinal*100}),200)},print:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){setTimeout((function(){print(),setTimeout((function(){window.close()}),200)}),500)}))}},p=u,m=a("2877"),h=Object(m["a"])(p,s,i,!1,null,null,null);t["default"]=h.exports},d43f:function(e,t,a){"use strict";var s=a("370a"),i=a.n(s);i.a},d5f8:function(e,t,a){"use strict";var s=a("f7e7"),i=a.n(s);i.a},e219:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("center",[a("div",{staticClass:"mt-9 hidden divShow"},[a("i",{staticClass:"fa fa-check-circle mb-4",staticStyle:{"font-size":"15em",color:"#2dce89"}}),a("h1",[e._v("Su cita fue confirmada satifactoriamente")])])])],1)},i=[],r=(a("28a5"),a("7f7f"),a("ac6a"),a("bc3a")),n=a.n(r),o=a("a5e9"),c=a.n(o),l=(a("41cb"),a("8055")),d=a.n(l),u=a("c1df");a("898b");u["locale"]("es");var p={data:function(){return{id:this.$route.query.id,socket:d()(c.a.endpointTarget),configHeader:{headers:{"x-database-connect":c.a.database}}}},created:function(){this.confirmDate()},methods:{confirmDate:function(){var e=this;n.a.put(c.a.endpointTarget+"/dates/confirmDate/"+this.id,{id:this.id},this.configHeader).then((function(t){if("ok"==t.data.status){$(".divShow").show("slow");var a="";t.data.data.microServices.forEach((function(e,s){t.data.data.microServices[s+1]?a=a+e.name+" - ":a+=e.name})),"ok"==t.data.status&&n.a.post(c.a.endpointTarget+"/notifications",{userName:"Cliente: "+t.data.data.client.name,userImage:"",employeId:t.data.data.employe.id,detail:"Confirmo su cita para el día "+e.formatDateTwo(t.data.data.createdAt),branch:t.data.data.branch,link:"agendamiento?id="+e.id},e.configHeader).then((function(t){e.socket.emit("sendNotification",t.data.data)})),n.a.post(c.a.endpointTarget+"/mails/responseDate",{client:t.data.data.content,clientMail:t.data.data.client.email,email:t.data.branchEmail,branchName:t.data.branchName,start:t.data.data.start.split(" ")[1],end:t.data.data.end.split(" ")[1],date:t.data.data.start.split(" ")[0],employe:t.data.data.employe.name,service:t.data.data.title,micro:a,logo:t.data.logo,confirmed:!0,system:!1},e.configHeader).then((function(e){})).catch((function(e){console.log(e)}))}}))},formatDateTwo:function(e){var t=new Date(e);return u(t).format("DD-MM-YYYY")}}},m=p,h=(a("97a7"),a("2877")),f=Object(h["a"])(m,s,i,!1,null,null,null);t["default"]=f.exports},e366:function(e,t,a){"use strict";var s,i,r=a("2b0e"),n=new r["default"],o=n,c=o,l=a("2877"),d=Object(l["a"])(c,s,i,!1,null,null,null);t["a"]=d.exports},ef34:function(e,t,a){"use strict";var s=a("41cb"),i={beforeCreate:function(){localStorage.getItem("userToken")||(this.$swal({icon:"error",title:"URL restringida",showConfirmButton:!1,timer:1500}),s["a"].push({name:"login"}))}};t["a"]=i},f039:function(e,t,a){},f0fa:function(e,t,a){"use strict";var s=a("be89"),i=a.n(s);i.a},f162:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-2"},[[a("center",[a("h1",{staticClass:"display-2 pb-3 mb-3 hide text-center text-white"},[e._v("Reporte de cierre")])]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Nombre de la empleada:")]),e._v(" "+e._s(e.nameLender)+"\n            ")]),a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Comisión total:")]),e._v(" "+e._s(e._f("formatPrice")(e.totalComission))+"\n            ")]),a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Fecha de inicio:")]),e._v(" "+e._s(e._f("formatDate")(e.initDate))+"\n            ")]),a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Total de adelantos:")]),e._v(" "+e._s(e._f("formatPrice")(e.advancement))+"\n            ")]),a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Fecha de cierre:")]),e._v(" "+e._s(e._f("formatDate")(e.closeDate))+"\n            ")]),a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Total de bonos:")]),e._v(" "+e._s(e._f("formatPrice")(e.lenderBonus))+"\n            ")]),a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Total servicios:")]),e._v(" "+e._s(e.sales.length)+"\n            ")]),a("div",{staticClass:"col-6 pl-9"},[a("strong",[e._v("Total a recibir:")]),e._v(" "+e._s(e._f("formatPrice")(e.totalSales))+"\n            ")])]),a("hr",{staticClass:"mt-2 mb-2"}),a("h1",{staticClass:"text-center"},[e._v("Servicios realizados")]),a("a-config-provider",{attrs:{locale:e.es_ES},scopedSlots:e._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[e._v("Empleado no posee ventas registradas")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:e.columns,"data-source":e.sales,pagination:!1},scopedSlots:e._u([{key:"filterDropdown",fn:function(t){var s=t.setSelectedKeys,i=t.selectedKeys,r=t.confirm,n=t.clearFilters,o=t.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(t){return e.searchInput=t},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Buscar por nombre",value:i[0]},on:{change:function(e){return s(e.target.value?[e.target.value]:[])},pressEnter:function(){return e.handleSearch(i,r,o.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return e.handleSearch(i,r,o.dataIndex)}}},[e._v("\n                        Buscar\n                    ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return e.handleReset(n)}}},[e._v("\n                        resetear\n                    ")])],1)}},{key:"filterIcon",fn:function(e){return a("a-icon",{style:{color:e?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"customRender",fn:function(t,s,i,r){return[e.searchText&&e.searchedColumn===r.dataIndex?a("span",[e._l(t.toString().split(new RegExp("(?<="+e.searchText+")|(?="+e.searchText+")","i")),(function(t,s){return[t.toLowerCase()===e.searchText.toLowerCase()?a("mark",{key:s,staticClass:"highlight"},[e._v(e._s(t))]):[e._v(e._s(t))]]}))],2):[e._v("\n                        "+e._s(t)+"\n                    ")]]}},{key:"date-format",fn:function(t,a){return[e._v("\n                    "+e._s(e._f("formatDate")(a.createdAt))+"\n                ")]}},{key:"commission",fn:function(t,a){return[e._v("\n                    "+e._s(e._f("formatPrice")(a.commission))+"\n                ")]}},{key:"total",fn:function(t,a){return[e._v("\n                    "+e._s(e._f("formatPrice")(a.total))+"\n                ")]}}])})],1)]],2)},i=[],r=a("bc3a"),n=a.n(r),o=a("a5e9"),c=a.n(o),l=a("ef34"),d=a("bb36"),u={mixins:[l["a"],d["a"]],data:function(){return{auth:[],id:this.$route.query.id,sales:[],salesTotal:[],initDate:"",closeDate:"",lenderBonuses:[],code:"",dataDetail:[],nameLender:"",totalComission:0,lenderBonus:0,advancement:"",totalSale:0,configDate:{allowInput:!0,minDate:new Date},dates:{simple:new Date},dataExpense:{reason:"",amount:0,valid:!1},bonus:!1,lendeAdvancements:[],columnsLender:[{label:"Razón",name:"reason",sort:!0},{label:"Total",name:"total",slot_name:"format-total",sort:!1},{label:"Fecha",name:"date",slot_name:"format-date",sort:!1}],columnsBonuses:[{label:"Razón",name:"expense",slot_name:"format-reason",sort:!0},{label:"Total",name:"Figure",slot_name:"format-total",sort:!1},{label:"Fecha",name:"date",slot_name:"format-date",sort:!1}],configBonuses:{card_title:"Bonos",checkbox_rows:!1,rows_selectable:!1,highlight_row_hover_color:"rgba(238, 238, 238, 0.623)",per_page_options:[5,10,20,30,40,50,80,100],show_refresh_button:!1,show_reset_button:!1,selected_rows_info:!1,preservePageOnDataChange:!0,pagination_info:!1,pagination:!1,global_search:{placeholder:"Busque el prestador",visibility:!1,case_sensitive:!1,showClearButton:!0,searchOnPressEnter:!1,searchDebounceRate:200}},configHeader:{headers:{"x-database-connect":c.a.database,"x-access-token":localStorage.userToken}},configLender:{card_title:"Adelantos",checkbox_rows:!1,rows_selectable:!1,highlight_row_hover_color:"rgba(238, 238, 238, 0.623)",per_page_options:[5,10,20,30,40,50,80,100],show_refresh_button:!1,show_reset_button:!1,selected_rows_info:!1,preservePageOnDataChange:!0,pagination_info:!1,pagination:!1,global_search:{placeholder:"Busque el prestador",visibility:!1,case_sensitive:!1,showClearButton:!0,searchOnPressEnter:!1,searchDebounceRate:200}},columns:[{title:"Fecha",dataIndex:"createdAt",key:"createdAt",scopedSlots:{customRender:"date-format"},defaultSortOrder:"descend",sorter:function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()},ellipsis:!0},{title:"UUID de venta",dataIndex:"saleData.uuid",key:"saleData.uuid",scopedSlots:{customRender:"uuid-format"}},{title:"Cliente",dataIndex:"client",key:"client",ellipsis:!0,scopedSlots:{customRender:"client-slot"}},{title:"Servicio",dataIndex:"service",key:"service",ellipsis:!0,scopedSlots:{customRender:"service-slot"}},{title:"Comisión",dataIndex:"commission",key:"commission",ellipsis:!0,scopedSlots:{customRender:"commission"},defaultSortOrder:"descend",sorter:function(e,t){return e.commission-t.commission}},{title:"Total",dataIndex:"total",key:"totals.total",ellipsis:!0,scopedSlots:{customRender:"total"},defaultSortOrder:"descend",sorter:function(e,t){return e.total-t.total}}],totalSales:0}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.closeDate=new Date,n.a.get(c.a.endpointTarget+"/employes/justOneById/"+this.id,this.configHeader).then((function(t){e.code=t.data.data._id,e.nameLender=t.data.data.firstName+" "+t.data.data.lastName,e.totalComission=t.data.data.commission,e.lenderBonus=t.data.data.bonus,e.advancement=t.data.data.advancement,n.a.get(c.a.endpointTarget+"/employes/salesbyemploye/"+e.id,e.configHeader).then((function(t){e.sales=t.data.data,e.initDate=t.data.data[0].createdAt,e.totalSales=e.lenderBonus+e.totalComission-e.advancement,setTimeout((function(){print(),setTimeout((function(){window.close()}),200)}),200)})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))})).catch((function(t){t.response?401==t.response.status&&(e.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):e.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500})}))}}},p=u,m=a("2877"),h=Object(m["a"])(p,s,i,!1,null,null,null);t["default"]=h.exports},f364:function(e,t,a){"use strict";var s=a("4711"),i=a.n(s);i.a},f695:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-2"},[a("h1",{staticClass:"text-center mt-2"},[e._v("Reporte de gastos mes "+e._s(e.dict[e.month])+" "+e._s(e.year))]),a("div",{staticClass:"row"},[e._m(0),a("div",{staticClass:"col-8 pt-3 border border-5 mb-2 row"},[a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Saldo inicial:")]),e._v(" "+e._s(this.reinvestmentTotal))])]),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Saldo final:")]),e._v(" "+e._s(this.totalFinal))])]),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Ganancia:")]),e._v(" "+e._s(this.gain))])]),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Ingreso:")]),e._v(" "+e._s(this.totalSales))])]),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Egreso:")]),e._v(" "+e._s(this.totalExpenses))])]),e._m(1),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Comisión:")]),e._v(" "+e._s(this.commission))])]),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Gasto mensual:")]),e._v(" "+e._s(this.monthly))])]),a("div",{staticClass:"col-12"}),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Bonos:")]),e._v(" "+e._s(this.bonus))])]),a("div",{staticClass:"col-4 p-0"},[a("p",[a("strong",[e._v("Gasto Inventario:")]),e._v(" "+e._s(e._f("formatPrice")(this.inventoryTotal)))])])])]),a("a-config-provider",{attrs:{locale:e.es_ES},scopedSlots:e._u([{key:"renderEmpty",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"warning"}}),a("h2",[e._v("Sin gastos registrados en el mes")])],1)]},proxy:!0}])},[a("a-table",{attrs:{columns:e.columnsReport,"data-source":e.expenses,pagination:!1},scopedSlots:e._u([{key:"amount-slot",fn:function(t,a){return[e._v("\n                "+e._s(e._f("formatPrice")(a.amount))+"\n            ")]}}])})],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-4"},[a("img",{staticClass:"w-100 mt-2",attrs:{src:"img/brand/syswa-gestion.png"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("hr",{staticClass:"mt-0 mb-2"})])}],r=(a("6b54"),a("ac4d"),a("8a81"),a("ac6a"),a("96cf"),a("3b8d")),n=a("bc3a"),o=a.n(n),c=a("a5e9"),l=a.n(c),d=a("bb36"),u={mixins:[d["a"]],data:function(){return{configHeader:{headers:{"x-database-connect":l.a.database,"x-access-token":localStorage.userToken}},month:"",year:"",dict:{0:"Enero",1:"Febrero",2:"Marzo",3:"Abril",4:"Mayp",5:"Junio",6:"Julio",7:"Agosto",8:"Septiembre",9:"Octubre",10:"Noviembre",11:"Diciembre"},inventoryTotal:0,id:this.$route.query.id,columnsReport:[{title:"Fecha",dataIndex:"createdAt",key:"createdAt",width:"20%"},{title:"Descripción",dataIndex:"detaill",key:"detaill",width:"40%"},{title:"Tipo",dataIndex:"typee",key:"typee",width:"20%"},{title:"Total",dataIndex:"amount",key:"amount",scopedSlots:{customRender:"amount-slot"},width:"20%"}],reinvestmentTotal:0,totalSales:0,totalExpenses:0,totalFinal:0,expenses:[],bonus:0,monthly:0,commission:0}},created:function(){this.getHistoryData(),this.print()},methods:{getHistoryData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,s,i,r,n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("".concat(l.a.endpointTarget,"/expenses/getHistoryClosesExpense/").concat(this.id),this.configHeader);case 3:for(t=e.sent,this.reinvestmentTotal=t.data.data.totals.reinvestment,this.totalSales=t.data.data.totals.sales,this.totalExpenses=t.data.data.totals.expenses,this.totalFinal=t.data.data.totals.totalFinal,this.gain=t.data.data.totals.gain,this.expenses=t.data.data.expenses,this.bonus=t.data.data.totals.bonus,this.monthly=t.data.data.totals.monthly,this.commission=t.data.data.totals.commission,this.month=new Date(t.data.data.createdAt).getMonth(),this.year=new Date(t.data.data.createdAt).getFullYear(),a=!0,s=!1,i=void 0,e.prev=17,r=this.expenses[Symbol.iterator]();!(a=(n=r.next()).done);a=!0)c=n.value,"Inventario"==c.typee&&(this.inventoryTotal=this.inventoryTotal+c.amount);e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](17),s=!0,i=e.t0;case 25:e.prev=25,e.prev=26,a||null==r.return||r.return();case 28:if(e.prev=28,!s){e.next=31;break}throw i;case 31:return e.finish(28);case 32:return e.finish(25);case 33:e.next=38;break;case 35:e.prev=35,e.t1=e["catch"](0),e.t1.response?401==e.t1.response.status&&(this.$swal({icon:"error",title:"Session caducada",showConfirmButton:!1,timer:1500}),setTimeout((function(){router.push("login")}),1550)):this.$swal({icon:"error",title:"Error de conexión",showConfirmButton:!1,timer:1500});case 38:case"end":return e.stop()}}),e,this,[[0,35],[17,21,25,33],[26,,28,32]])})));function t(){return e.apply(this,arguments)}return t}(),print:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){setTimeout((function(){print(),setTimeout((function(){window.close()}),200)}),200)}))}},p=u,m=a("2877"),h=Object(m["a"])(p,s,i,!1,null,null,null);t["default"]=h.exports},f7e7:function(e,t,a){}});
//# sourceMappingURL=app.1a96cf71.js.map